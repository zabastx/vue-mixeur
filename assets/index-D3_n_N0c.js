const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/loaders-CpMhInZO.js","assets/three-CBY2UGwq.js"])))=>i.map(i=>d[i]);
import{at as gm,V as K,au as gs,av as fs,Z as Ft,aw as xc,N as ke,ax as bm,ay as Td,s as er,ap as bn,o as Kt,g as ln,az as ro,aA as as,aB as Ed,af as Mi,aC as kl,an as Yf,aD as Rl,w as ue,ah as ym,ai as _m,y as On,aj as wm,aq as Ad,B as Mo,aE as U,aF as Ni,aG as Wa,W as so,aH as Ka,O as Ts,aI as Sc,ak as xm,q as my,aJ as Sm,C as eo,aK as vy,k as Cc,S as Cm,aL as Md,aM as Pd,ag as Fr,aN as Tm,aO as xo,aP as gy,J as nr,aQ as Tc,i as ps,aR as by,aS as Em,x as Am,aT as en,aU as jt,aV as aa,aW as zs,X as yy,aX as _y,aY as wy,aZ as Au,a_ as xy,a$ as Sy,R as Cy,b0 as Ty,P as sl,al as Ey,aa as Ay,a9 as My,a7 as Py,c as ky,a8 as Ry,a6 as Oy,l as Iy,ab as Dy,am as By,b1 as qy,b2 as Fy,as as Xf,ar as Ly,b3 as Bn,H as Zn,b4 as Ec,b5 as Vy,b6 as $y,b7 as Mm,b8 as Ny}from"./three-CBY2UGwq.js";import{E as jy,F as zy}from"./loaders-CpMhInZO.js";import"./index-D3_n_N0c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function kd(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Be={},bs=[],qn=()=>{},Pm=()=>!1,Ol=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Rd=t=>t.startsWith("onUpdate:"),St=Object.assign,Od=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Uy=Object.prototype.hasOwnProperty,Ne=(t,e)=>Uy.call(t,e),ye=Array.isArray,ys=t=>Il(t)==="[object Map]",km=t=>Il(t)==="[object Set]",_e=t=>typeof t=="function",ut=t=>typeof t=="string",Fo=t=>typeof t=="symbol",et=t=>t!==null&&typeof t=="object",Rm=t=>(et(t)||_e(t))&&_e(t.then)&&_e(t.catch),Om=Object.prototype.toString,Il=t=>Om.call(t),Hy=t=>Il(t).slice(8,-1),Im=t=>Il(t)==="[object Object]",Dl=t=>ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,di=kd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bl=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Gy=/-\w/g,Yt=Bl(t=>t.replace(Gy,e=>e.slice(1).toUpperCase())),Wy=/\B([A-Z])/g,Lo=Bl(t=>t.replace(Wy,"-$1").toLowerCase()),ql=Bl(t=>t.charAt(0).toUpperCase()+t.slice(1)),fi=Bl(t=>t?`on${ql(t)}`:""),an=(t,e)=>!Object.is(t,e),Ya=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Dm=(t,e,n,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:n})},Id=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Qf;const Fl=()=>Qf||(Qf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pt(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=ut(o)?Qy(o):pt(o);if(r)for(const s in r)e[s]=r[s]}return e}else if(ut(t)||et(t))return t}const Ky=/;(?![^(]*\))/g,Yy=/:([^]+)/,Xy=/\/\*[^]*?\*\//g;function Qy(t){const e={};return t.replace(Xy,"").split(Ky).forEach(n=>{if(n){const o=n.split(Yy);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function En(t){let e="";if(ut(t))e=t;else if(ye(t))for(let n=0;n<t.length;n++){const o=En(t[n]);o&&(e+=o+" ")}else if(et(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function qe(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ut(e)&&(t.class=En(e)),n&&(t.style=pt(n)),t}const Zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jy=kd(Zy);function Bm(t){return!!t||t===""}const qm=t=>!!(t&&t.__v_isRef===!0),ge=t=>ut(t)?t:t==null?"":ye(t)||et(t)&&(t.toString===Om||!_e(t.toString))?qm(t)?ge(t.value):JSON.stringify(t,Fm,2):String(t),Fm=(t,e)=>qm(e)?Fm(t,e.value):ys(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,r],s)=>(n[Mu(o,s)+" =>"]=r,n),{})}:km(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Mu(n))}:Fo(e)?Mu(e):et(e)&&!ye(e)&&!Im(e)?String(e):e,Mu=(t,e="")=>{var n;return Fo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function e_(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}let qt;class Lm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qt,!e&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=qt;try{return qt=this,e()}finally{qt=n}}}on(){++this._on===1&&(this.prevScope=qt,qt=this)}off(){this._on>0&&--this._on===0&&(qt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ll(t){return new Lm(t)}function ji(){return qt}function zi(t,e=!1){qt&&qt.cleanups.push(t)}let Ze;const Pu=new WeakSet;class Vm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qt&&qt.active&&qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pu.has(this)&&(Pu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zf(this),jm(this);const e=Ze,n=Fn;Ze=this,Fn=!0;try{return this.fn()}finally{zm(this),Ze=e,Fn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)qd(e);this.deps=this.depsTail=void 0,Zf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ac(this)&&this.run()}get dirty(){return Ac(this)}}let $m=0,pi,hi;function Nm(t,e=!1){if(t.flags|=8,e){t.next=hi,hi=t;return}t.next=pi,pi=t}function Dd(){$m++}function Bd(){if(--$m>0)return;if(hi){let e=hi;for(hi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;pi;){let e=pi;for(pi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=n}}if(t)throw t}function jm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zm(t){let e,n=t.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),qd(o),t_(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}t.deps=e,t.depsTail=n}function Ac(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Um(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Um(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pi)||(t.globalVersion=Pi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ac(t))))return;t.flags|=2;const e=t.dep,n=Ze,o=Fn;Ze=t,Fn=!0;try{jm(t);const r=t.fn(t._value);(e.version===0||an(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ze=n,Fn=o,zm(t),t.flags&=-3}}function qd(t,e=!1){const{dep:n,prevSub:o,nextSub:r}=t;if(o&&(o.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=o,t.nextSub=void 0),n.subs===t&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)qd(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function t_(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Fn=!0;const Hm=[];function Po(){Hm.push(Fn),Fn=!1}function ko(){const t=Hm.pop();Fn=t===void 0?!0:t}function Zf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ze;Ze=void 0;try{e()}finally{Ze=n}}}let Pi=0;class n_{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ze||!Fn||Ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ze)n=this.activeLink=new n_(Ze,this),Ze.deps?(n.prevDep=Ze.depsTail,Ze.depsTail.nextDep=n,Ze.depsTail=n):Ze.deps=Ze.depsTail=n,Gm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Ze.depsTail,n.nextDep=void 0,Ze.depsTail.nextDep=n,Ze.depsTail=n,Ze.deps===n&&(Ze.deps=o)}return n}trigger(e){this.version++,Pi++,this.notify(e)}notify(e){Dd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bd()}}}function Gm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)Gm(o)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const il=new WeakMap,Rr=Symbol(""),Mc=Symbol(""),ki=Symbol("");function Lt(t,e,n){if(Fn&&Ze){let o=il.get(t);o||il.set(t,o=new Map);let r=o.get(n);r||(o.set(n,r=new Vl),r.map=o,r.key=n),r.track()}}function So(t,e,n,o,r,s){const i=il.get(t);if(!i){Pi++;return}const a=l=>{l&&l.trigger()};if(Dd(),e==="clear")i.forEach(a);else{const l=ye(t),u=l&&Dl(n);if(l&&n==="length"){const c=Number(o);i.forEach((d,f)=>{(f==="length"||f===ki||!Fo(f)&&f>=c)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(ki)),e){case"add":l?u&&a(i.get("length")):(a(i.get(Rr)),ys(t)&&a(i.get(Mc)));break;case"delete":l||(a(i.get(Rr)),ys(t)&&a(i.get(Mc)));break;case"set":ys(t)&&a(i.get(Rr));break}}Bd()}function o_(t,e){const n=il.get(t);return n&&n.get(e)}function Hr(t){const e=Oe(t);return e===t?e:(Lt(e,"iterate",ki),mn(t)?e:e.map(Ln))}function $l(t){return Lt(t=Oe(t),"iterate",ki),t}function Wo(t,e){return Ro(t)?Es(Eo(t)?Ln(e):e):Ln(e)}const r_={__proto__:null,[Symbol.iterator](){return ku(this,Symbol.iterator,t=>Wo(this,t))},concat(...t){return Hr(this).concat(...t.map(e=>ye(e)?Hr(e):e))},entries(){return ku(this,"entries",t=>(t[1]=Wo(this,t[1]),t))},every(t,e){return bo(this,"every",t,e,void 0,arguments)},filter(t,e){return bo(this,"filter",t,e,n=>n.map(o=>Wo(this,o)),arguments)},find(t,e){return bo(this,"find",t,e,n=>Wo(this,n),arguments)},findIndex(t,e){return bo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bo(this,"findLast",t,e,n=>Wo(this,n),arguments)},findLastIndex(t,e){return bo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bo(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ru(this,"includes",t)},indexOf(...t){return Ru(this,"indexOf",t)},join(t){return Hr(this).join(t)},lastIndexOf(...t){return Ru(this,"lastIndexOf",t)},map(t,e){return bo(this,"map",t,e,void 0,arguments)},pop(){return Us(this,"pop")},push(...t){return Us(this,"push",t)},reduce(t,...e){return Jf(this,"reduce",t,e)},reduceRight(t,...e){return Jf(this,"reduceRight",t,e)},shift(){return Us(this,"shift")},some(t,e){return bo(this,"some",t,e,void 0,arguments)},splice(...t){return Us(this,"splice",t)},toReversed(){return Hr(this).toReversed()},toSorted(t){return Hr(this).toSorted(t)},toSpliced(...t){return Hr(this).toSpliced(...t)},unshift(...t){return Us(this,"unshift",t)},values(){return ku(this,"values",t=>Wo(this,t))}};function ku(t,e,n){const o=$l(t),r=o[e]();return o!==t&&!mn(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const s_=Array.prototype;function bo(t,e,n,o,r,s){const i=$l(t),a=i!==t&&!mn(t),l=i[e];if(l!==s_[e]){const d=l.apply(t,s);return a?Ln(d):d}let u=n;i!==t&&(a?u=function(d,f){return n.call(this,Wo(t,d),f,t)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,t)}));const c=l.call(i,u,o);return a&&r?r(c):c}function Jf(t,e,n,o){const r=$l(t);let s=n;return r!==t&&(mn(t)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,t)}):s=function(i,a,l){return n.call(this,i,Wo(t,a),l,t)}),r[e](s,...o)}function Ru(t,e,n){const o=Oe(t);Lt(o,"iterate",ki);const r=o[e](...n);return(r===-1||r===!1)&&zl(n[0])?(n[0]=Oe(n[0]),o[e](...n)):r}function Us(t,e,n=[]){Po(),Dd();const o=Oe(t)[e].apply(t,n);return Bd(),ko(),o}const i_=kd("__proto__,__v_isRef,__isVue"),Wm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fo));function a_(t){Fo(t)||(t=String(t));const e=Oe(this);return Lt(e,"has",t),e.hasOwnProperty(t)}class Km{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,o){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?ev:Jm:s?Zm:Qm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const i=ye(e);if(!r){let l;if(i&&(l=r_[n]))return l;if(n==="hasOwnProperty")return a_}const a=Reflect.get(e,n,Re(e)?e:o);if((Fo(n)?Wm.has(n):i_(n))||(r||Lt(e,"get",n),s))return a;if(Re(a)){const l=i&&Dl(n)?a:a.value;return r&&et(l)?io(l):l}return et(a)?r?io(a):gn(a):a}}class Ym extends Km{constructor(e=!1){super(!1,e)}set(e,n,o,r){let s=e[n];const i=ye(e)&&Dl(n);if(!this._isShallow){const u=Ro(s);if(!mn(o)&&!Ro(o)&&(s=Oe(s),o=Oe(o)),!i&&Re(s)&&!Re(o))return u||(s.value=o),!0}const a=i?Number(n)<e.length:Ne(e,n),l=Reflect.set(e,n,o,Re(e)?e:r);return e===Oe(r)&&(a?an(o,s)&&So(e,"set",n,o):So(e,"add",n,o)),l}deleteProperty(e,n){const o=Ne(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&o&&So(e,"delete",n,void 0),r}has(e,n){const o=Reflect.has(e,n);return(!Fo(n)||!Wm.has(n))&&Lt(e,"has",n),o}ownKeys(e){return Lt(e,"iterate",ye(e)?"length":Rr),Reflect.ownKeys(e)}}class Xm extends Km{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const l_=new Ym,u_=new Xm,c_=new Ym(!0),d_=new Xm(!0),Pc=t=>t,la=t=>Reflect.getPrototypeOf(t);function f_(t,e,n){return function(...o){const r=this.__v_raw,s=Oe(r),i=ys(s),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,u=r[t](...o),c=n?Pc:e?Es:Ln;return!e&&Lt(s,"iterate",l?Mc:Rr),St(Object.create(u),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}}})}}function ua(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function p_(t,e){const n={get(r){const s=this.__v_raw,i=Oe(s),a=Oe(r);t||(an(r,a)&&Lt(i,"get",r),Lt(i,"get",a));const{has:l}=la(i),u=e?Pc:t?Es:Ln;if(l.call(i,r))return u(s.get(r));if(l.call(i,a))return u(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!t&&Lt(Oe(r),"iterate",Rr),r.size},has(r){const s=this.__v_raw,i=Oe(s),a=Oe(r);return t||(an(r,a)&&Lt(i,"has",r),Lt(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=Oe(a),u=e?Pc:t?Es:Ln;return!t&&Lt(l,"iterate",Rr),a.forEach((c,d)=>r.call(s,u(c),u(d),i))}};return St(n,t?{add:ua("add"),set:ua("set"),delete:ua("delete"),clear:ua("clear")}:{add(r){!e&&!mn(r)&&!Ro(r)&&(r=Oe(r));const s=Oe(this);return la(s).has.call(s,r)||(s.add(r),So(s,"add",r,r)),this},set(r,s){!e&&!mn(s)&&!Ro(s)&&(s=Oe(s));const i=Oe(this),{has:a,get:l}=la(i);let u=a.call(i,r);u||(r=Oe(r),u=a.call(i,r));const c=l.call(i,r);return i.set(r,s),u?an(s,c)&&So(i,"set",r,s):So(i,"add",r,s),this},delete(r){const s=Oe(this),{has:i,get:a}=la(s);let l=i.call(s,r);l||(r=Oe(r),l=i.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&So(s,"delete",r,void 0),u},clear(){const r=Oe(this),s=r.size!==0,i=r.clear();return s&&So(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=f_(r,t,e)}),n}function Nl(t,e){const n=p_(t,e);return(o,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(Ne(n,r)&&r in o?n:o,r,s)}const h_={get:Nl(!1,!1)},m_={get:Nl(!1,!0)},v_={get:Nl(!0,!1)},g_={get:Nl(!0,!0)},Qm=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,ev=new WeakMap;function b_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function y_(t){return t.__v_skip||!Object.isExtensible(t)?0:b_(Hy(t))}function gn(t){return Ro(t)?t:jl(t,!1,l_,h_,Qm)}function __(t){return jl(t,!1,c_,m_,Zm)}function io(t){return jl(t,!0,u_,v_,Jm)}function Tr(t){return jl(t,!0,d_,g_,ev)}function jl(t,e,n,o,r){if(!et(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=y_(t);if(s===0)return t;const i=r.get(t);if(i)return i;const a=new Proxy(t,s===2?o:n);return r.set(t,a),a}function Eo(t){return Ro(t)?Eo(t.__v_raw):!!(t&&t.__v_isReactive)}function Ro(t){return!!(t&&t.__v_isReadonly)}function mn(t){return!!(t&&t.__v_isShallow)}function zl(t){return t?!!t.__v_raw:!1}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function Ul(t){return!Ne(t,"__v_skip")&&Object.isExtensible(t)&&Dm(t,"__v_skip",!0),t}const Ln=t=>et(t)?gn(t):t,Es=t=>et(t)?io(t):t;function Re(t){return t?t.__v_isRef===!0:!1}function V(t){return tv(t,!1)}function je(t){return tv(t,!0)}function tv(t,e){return Re(t)?t:new w_(t,e)}class w_{constructor(e,n){this.dep=new Vl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Oe(e),this._value=n?e:Ln(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,o=this.__v_isShallow||mn(e)||Ro(e);e=o?e:Oe(e),an(e,n)&&(this._rawValue=e,this._value=o?e:Ln(e),this.dep.trigger())}}function Qo(t){t.dep&&t.dep.trigger()}function h(t){return Re(t)?t.value:t}function me(t){return _e(t)?t():h(t)}const x_={get:(t,e,n)=>e==="__v_raw"?t:h(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const r=t[e];return Re(r)&&!Re(n)?(r.value=n,!0):Reflect.set(t,e,n,o)}};function nv(t){return Eo(t)?t:new Proxy(t,x_)}class S_{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Vl,{get:o,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ui(t){return new S_(t)}function Ie(t){const e=ye(t)?new Array(t.length):{};for(const n in t)e[n]=rv(t,n);return e}class C_{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=Oe(e);let r=!0,s=e;if(!ye(e)||!Dl(String(n)))do r=!zl(s)||mn(s);while(r&&(s=s.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=h(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Re(this._raw[this._key])){const n=this._object[this._key];if(Re(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return o_(this._raw,this._key)}}class T_{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ov(t,e,n){return Re(t)?t:_e(t)?new T_(t):et(t)&&arguments.length>1?rv(t,e,n):V(t)}function rv(t,e,n){return new C_(t,e,n)}class E_{constructor(e,n,o){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Vl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ze!==this)return Nm(this,!0),!0}get value(){const e=this.dep.track();return Um(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function A_(t,e,n=!1){let o,r;return _e(t)?o=t:(o=t.get,r=t.set),new E_(o,r,n)}const ca={},al=new WeakMap;let Er;function M_(t,e=!1,n=Er){if(n){let o=al.get(n);o||al.set(n,o=[]),o.push(t)}}function P_(t,e,n=Be){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,u=w=>r?w:mn(w)||r===!1||r===0?Co(w,1):Co(w);let c,d,f,p,m=!1,v=!1;if(Re(t)?(d=()=>t.value,m=mn(t)):Eo(t)?(d=()=>u(t),m=!0):ye(t)?(v=!0,m=t.some(w=>Eo(w)||mn(w)),d=()=>t.map(w=>{if(Re(w))return w.value;if(Eo(w))return u(w);if(_e(w))return l?l(w,2):w()})):_e(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Po();try{f()}finally{ko()}}const w=Er;Er=c;try{return l?l(t,3,[p]):t(p)}finally{Er=w}}:d=qn,e&&r){const w=d,x=r===!0?1/0:r;d=()=>Co(w(),x)}const b=ji(),g=()=>{c.stop(),b&&b.active&&Od(b.effects,c)};if(s&&e){const w=e;e=(...x)=>{w(...x),g()}}let y=v?new Array(t.length).fill(ca):ca;const _=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const x=c.run();if(r||m||(v?x.some((P,T)=>an(P,y[T])):an(x,y))){f&&f();const P=Er;Er=c;try{const T=[x,y===ca?void 0:v&&y[0]===ca?[]:y,p];y=x,l?l(e,3,T):e(...T)}finally{Er=P}}}else c.run()};return a&&a(_),c=new Vm(d),c.scheduler=i?()=>i(_,!1):_,p=w=>M_(w,!1,c),f=c.onStop=()=>{const w=al.get(c);if(w){if(l)l(w,4);else for(const x of w)x();al.delete(c)}},e?o?_(!0):y=c.run():i?i(_.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function Co(t,e=1/0,n){if(e<=0||!et(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Re(t))Co(t.value,e,n);else if(ye(t))for(let o=0;o<t.length;o++)Co(t[o],e,n);else if(km(t)||ys(t))t.forEach(o=>{Co(o,e,n)});else if(Im(t)){for(const o in t)Co(t[o],e,n);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Co(t[o],e,n)}return t}function Hi(t,e,n,o){try{return o?t(...o):t()}catch(r){Gi(r,e,n)}}function ao(t,e,n,o){if(_e(t)){const r=Hi(t,e,n,o);return r&&Rm(r)&&r.catch(s=>{Gi(s,e,n)}),r}if(ye(t)){const r=[];for(let s=0;s<t.length;s++)r.push(ao(t[s],e,n,o));return r}}function Gi(t,e,n,o=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||Be;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(s){Po(),Hi(s,null,10,[t,l,u]),ko();return}}k_(t,n,r,o,i)}function k_(t,e,n,o=!0,r=!1){if(r)throw t;console.error(t)}const Ht=[];let Qn=-1;const _s=[];let Ko=null,ls=0;const sv=Promise.resolve();let ll=null;function We(t){const e=ll||sv;return t?e.then(this?t.bind(this):t):e}function R_(t){let e=Qn+1,n=Ht.length;for(;e<n;){const o=e+n>>>1,r=Ht[o],s=Ri(r);s<t||s===t&&r.flags&2?e=o+1:n=o}return e}function Fd(t){if(!(t.flags&1)){const e=Ri(t),n=Ht[Ht.length-1];!n||!(t.flags&2)&&e>=Ri(n)?Ht.push(t):Ht.splice(R_(e),0,t),t.flags|=1,iv()}}function iv(){ll||(ll=sv.then(uv))}function av(t){ye(t)?_s.push(...t):Ko&&t.id===-1?Ko.splice(ls+1,0,t):t.flags&1||(_s.push(t),t.flags|=1),iv()}function ep(t,e,n=Qn+1){for(;n<Ht.length;n++){const o=Ht[n];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;Ht.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function lv(t){if(_s.length){const e=[...new Set(_s)].sort((n,o)=>Ri(n)-Ri(o));if(_s.length=0,Ko){Ko.push(...e);return}for(Ko=e,ls=0;ls<Ko.length;ls++){const n=Ko[ls];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ko=null,ls=0}}const Ri=t=>t.id==null?t.flags&2?-1:1/0:t.id;function uv(t){try{for(Qn=0;Qn<Ht.length;Qn++){const e=Ht[Qn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Hi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qn<Ht.length;Qn++){const e=Ht[Qn];e&&(e.flags&=-2)}Qn=-1,Ht.length=0,lv(),ll=null,(Ht.length||_s.length)&&uv()}}let Rt=null,cv=null;function ul(t){const e=Rt;return Rt=t,cv=t&&t.type.__scopeId||null,e}function C(t,e=Rt,n){if(!e||t._n)return t;const o=(...r)=>{o._d&&fl(-1);const s=ul(e);let i;try{i=t(...r)}finally{ul(s),o._d&&fl(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Oo(t,e){if(Rt===null)return t;const n=Kl(Rt),o=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,i,a,l=Be]=e[r];s&&(_e(s)&&(s={mounted:s,updated:s}),s.deep&&Co(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function mr(t,e,n,o){const r=t.dirs,s=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(Po(),ao(l,n,8,[t.el,a,t,e]),ko())}}function Ld(t,e){if(kt){let n=kt.provides;const o=kt.parent&&kt.parent.provides;o===n&&(n=kt.provides=Object.create(o)),n[t]=e}}function Or(t,e,n=!1){const o=Nt();if(o||Ir){let r=Ir?Ir._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&_e(e)?e.call(o&&o.proxy):e}}function O_(){return!!(Nt()||Ir)}const I_=Symbol.for("v-scx"),D_=()=>Or(I_);function dt(t,e){return Wi(t,null,e)}function Vd(t,e){return Wi(t,null,{flush:"post"})}function B_(t,e){return Wi(t,null,{flush:"sync"})}function pe(t,e,n){return Wi(t,e,n)}function Wi(t,e,n=Be){const{immediate:o,deep:r,flush:s,once:i}=n,a=St({},n),l=e&&o||!e&&s!=="post";let u;if(As){if(s==="sync"){const p=D_();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=qn,p.resume=qn,p.pause=qn,p}}const c=kt;a.call=(p,m,v)=>ao(p,c,m,v);let d=!1;s==="post"?a.scheduler=p=>{Ut(p,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(p,m)=>{m?p():Fd(p)}),a.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=P_(t,e,a);return As&&(u?u.push(f):l&&f()),f}function q_(t,e,n){const o=this.proxy,r=ut(t)?t.includes(".")?dv(o,t):()=>o[t]:t.bind(o,o);let s;_e(e)?s=e:(s=e.handler,n=e);const i=Ki(this),a=Wi(r,s.bind(o),n);return i(),a}function dv(t,e){const n=e.split(".");return()=>{let o=t;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const fv=Symbol("_vte"),F_=t=>t.__isTeleport,mi=t=>t&&(t.disabled||t.disabled===""),tp=t=>t&&(t.defer||t.defer===""),np=t=>typeof SVGElement<"u"&&t instanceof SVGElement,op=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,kc=(t,e)=>{const n=t&&t.to;return ut(n)?e?e(n):null:n},pv={name:"Teleport",__isTeleport:!0,process(t,e,n,o,r,s,i,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:v,createComment:b}}=u,g=mi(e.props);let{shapeFlag:y,children:_,dynamicChildren:w}=e;if(t==null){const x=e.el=v(""),P=e.anchor=v("");p(x,n,o),p(P,n,o);const T=(E,S)=>{y&16&&c(_,E,S,r,s,i,a,l)},M=()=>{const E=e.target=kc(e.props,m),S=hv(E,e,v,p);E&&(i!=="svg"&&np(E)?i="svg":i!=="mathml"&&op(E)&&(i="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(E),g||(T(E,S),Xa(e,!1)))};g&&(T(n,P),Xa(e,!0)),tp(e.props)?(e.el.__isMounted=!1,Ut(()=>{M(),delete e.el.__isMounted},s)):M()}else{if(tp(e.props)&&t.el.__isMounted===!1){Ut(()=>{pv.process(t,e,n,o,r,s,i,a,l,u)},s);return}e.el=t.el,e.targetStart=t.targetStart;const x=e.anchor=t.anchor,P=e.target=t.target,T=e.targetAnchor=t.targetAnchor,M=mi(t.props),E=M?n:P,S=M?x:T;if(i==="svg"||np(P)?i="svg":(i==="mathml"||op(P))&&(i="mathml"),w?(f(t.dynamicChildren,w,E,r,s,i,a),Wd(t,e,!0)):l||d(t,e,E,S,r,s,i,a,!1),g)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):da(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=kc(e.props,m);R&&da(e,R,null,u,0)}else M&&da(e,P,T,u,1);Xa(e,g)}},remove(t,e,n,{um:o,o:{remove:r}},s){const{shapeFlag:i,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=t;if(d&&(r(u),r(c)),s&&r(l),i&16){const p=s||!mi(f);for(let m=0;m<a.length;m++){const v=a[m];o(v,e,n,p,!!v.dynamicChildren)}}},move:da,hydrate:L_};function da(t,e,n,{o:{insert:o},m:r},s=2){s===0&&o(t.targetAnchor,e,n);const{el:i,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&o(i,e,n),(!d||mi(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],e,n,2);d&&o(a,e,n)}function L_(t,e,n,o,r,s,{o:{nextSibling:i,parentNode:a,querySelector:l,insert:u,createText:c}},d){function f(v,b,g,y){b.anchor=d(i(v),b,a(v),n,o,r,s),b.targetStart=g,b.targetAnchor=y}const p=e.target=kc(e.props,l),m=mi(e.props);if(p){const v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(m)f(t,e,v,v&&i(v));else{e.anchor=i(t);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,p._lpa=e.targetAnchor&&i(e.targetAnchor);break}}b=i(b)}e.targetAnchor||hv(p,e,c,u),d(v&&i(v),e,p,n,o,r,s)}Xa(e,m)}else m&&e.shapeFlag&16&&f(t,e,t,i(t));return e.anchor&&i(e.anchor)}const $d=pv;function Xa(t,e){const n=t.ctx;if(n&&n.ut){let o,r;for(e?(o=t.el,r=t.anchor):(o=t.targetStart,r=t.targetAnchor);o&&o!==r;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function hv(t,e,n,o){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[fv]=s,t&&(o(r,t),o(s,t)),s}const V_=Symbol("_leaveCb");function Nd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Nd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function F(t,e){return _e(t)?St({name:t.name},e,{setup:t}):t}function $_(){const t=Nt();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function jd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function lo(t){const e=Nt(),n=je(null);if(e){const r=e.refs===Be?e.refs={}:e.refs;Object.defineProperty(r,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}const cl=new WeakMap;function vi(t,e,n,o,r=!1){if(ye(t)){t.forEach((m,v)=>vi(m,e&&(ye(e)?e[v]:e),n,o,r));return}if(ws(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&vi(t,e,n,o.component.subTree);return}const s=o.shapeFlag&4?Kl(o.component):o.el,i=r?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Be?a.refs={}:a.refs,d=a.setupState,f=Oe(d),p=d===Be?Pm:m=>Ne(f,m);if(u!=null&&u!==l){if(rp(e),ut(u))c[u]=null,p(u)&&(d[u]=null);else if(Re(u)){u.value=null;const m=e;m.k&&(c[m.k]=null)}}if(_e(l))Hi(l,a,12,[i,c]);else{const m=ut(l),v=Re(l);if(m||v){const b=()=>{if(t.f){const g=m?p(l)?d[l]:c[l]:l.value;if(r)ye(g)&&Od(g,s);else if(ye(g))g.includes(s)||g.push(s);else if(m)c[l]=[s],p(l)&&(d[l]=c[l]);else{const y=[s];l.value=y,t.k&&(c[t.k]=y)}}else m?(c[l]=i,p(l)&&(d[l]=i)):v&&(l.value=i,t.k&&(c[t.k]=i))};if(i){const g=()=>{b(),cl.delete(t)};g.id=-1,cl.set(t,g),Ut(g,n)}else rp(t),b()}}}function rp(t){const e=cl.get(t);e&&(e.flags|=8,cl.delete(t))}const sp=t=>t.nodeType===8;Fl().requestIdleCallback;Fl().cancelIdleCallback;function N_(t,e){if(sp(t)&&t.data==="["){let n=1,o=t.nextSibling;for(;o;){if(o.nodeType===1){if(e(o)===!1)break}else if(sp(o))if(o.data==="]"){if(--n===0)break}else o.data==="["&&n++;o=o.nextSibling}}else e(t)}const ws=t=>!!t.type.__asyncLoader;function j_(t){_e(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:o,delay:r=200,hydrate:s,timeout:i,suspensible:a=!0,onError:l}=t;let u=null,c,d=0;const f=()=>(d++,u=null,p()),p=()=>{let m;return u||(m=u=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),l)return new Promise((b,g)=>{l(v,()=>b(f()),()=>g(v),d+1)});throw v}).then(v=>m!==u&&u?u:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),c=v,v)))};return F({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,v,b){let g=!1;(v.bu||(v.bu=[])).push(()=>g=!0);const y=()=>{g||b()},_=s?()=>{const w=s(y,x=>N_(m,x));w&&(v.bum||(v.bum=[])).push(w)}:y;c?_():p().then(()=>!v.isUnmounted&&_())},get __asyncResolved(){return c},setup(){const m=kt;if(jd(m),c)return()=>fa(c,m);const v=_=>{u=null,Gi(_,m,13,!o)};if(a&&m.suspense||As)return p().then(_=>()=>fa(_,m)).catch(_=>(v(_),()=>o?A(o,{error:_}):null));const b=V(!1),g=V(),y=V(!!r);return r&&setTimeout(()=>{y.value=!1},r),i!=null&&setTimeout(()=>{if(!b.value&&!g.value){const _=new Error(`Async component timed out after ${i}ms.`);v(_),g.value=_}},i),p().then(()=>{b.value=!0,m.parent&&zd(m.parent.vnode)&&m.parent.update()}).catch(_=>{v(_),g.value=_}),()=>{if(b.value&&c)return fa(c,m);if(g.value&&o)return A(o,{error:g.value});if(n&&!y.value)return fa(n,m)}}})}function fa(t,e){const{ref:n,props:o,children:r,ce:s}=e.vnode,i=A(t,o,r);return i.ref=n,i.ce=s,delete e.vnode.ce,i}const zd=t=>t.type.__isKeepAlive;function z_(t,e){mv(t,"a",e)}function U_(t,e){mv(t,"da",e)}function mv(t,e,n=kt){const o=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Hl(e,o,n),n){let r=n.parent;for(;r&&r.parent;)zd(r.parent.vnode)&&H_(o,e,n,r),r=r.parent}}function H_(t,e,n,o){const r=Hl(e,t,o,!0);Dt(()=>{Od(o[e],r)},n)}function Hl(t,e,n=kt,o=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...i)=>{Po();const a=Ki(n),l=ao(e,n,t,i);return a(),ko(),l});return o?r.unshift(s):r.push(s),s}}const Vo=t=>(e,n=kt)=>{(!As||t==="sp")&&Hl(t,(...o)=>e(...o),n)},vv=Vo("bm"),Ee=Vo("m"),gv=Vo("bu"),bv=Vo("u"),Ud=Vo("bum"),Dt=Vo("um"),G_=Vo("sp"),W_=Vo("rtg"),K_=Vo("rtc");function Y_(t,e=kt){Hl("ec",t,e)}const X_="components",yv=Symbol.for("v-ndc");function fo(t){return ut(t)?Q_(X_,t,!1)||t:t||yv}function Q_(t,e,n=!0,o=!1){const r=Rt||kt;if(r){const s=r.type;{const a=B0(s,!1);if(a&&(a===e||a===Yt(e)||a===ql(Yt(e))))return s}const i=ip(r[t]||s[t],e)||ip(r.appContext[t],e);return!i&&o?s:i}}function ip(t,e){return t&&(t[e]||t[Yt(e)]||t[ql(Yt(e))])}function lt(t,e,n,o){let r;const s=n,i=ye(t);if(i||ut(t)){const a=i&&Eo(t);let l=!1,u=!1;a&&(l=!mn(t),u=Ro(t),t=$l(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(l?u?Es(Ln(t[c])):Ln(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s)}else if(et(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,s)}}else r=[];return r}function N(t,e,n={},o,r){if(Rt.ce||Rt.parent&&ws(Rt.parent)&&Rt.parent.ce){const u=Object.keys(n).length>0;return e!=="default"&&(n.name=e),k(),D(he,null,[A("slot",n,o&&o())],u?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),k();const i=s&&_v(s(n)),a=n.key||i&&i.key,l=D(he,{key:(a&&!Fo(a)?a:`_${e}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function _v(t){return t.some(e=>Di(e)?!(e.type===uo||e.type===he&&!_v(e.children)):!0)?t:null}function Z_(t,e){const n={};for(const o in t)n[fi(o)]=t[o];return n}const Rc=t=>t?$v(t)?Kl(t):Rc(t.parent):null,gi=St(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Rc(t.parent),$root:t=>Rc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Sv(t),$forceUpdate:t=>t.f||(t.f=()=>{Fd(t.update)}),$nextTick:t=>t.n||(t.n=We.bind(t.proxy)),$watch:t=>q_.bind(t)}),Ou=(t,e)=>t!==Be&&!t.__isScriptSetup&&Ne(t,e),J_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=t;if(e[0]!=="$"){const f=i[e];if(f!==void 0)switch(f){case 1:return o[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Ou(o,e))return i[e]=1,o[e];if(r!==Be&&Ne(r,e))return i[e]=2,r[e];if(Ne(s,e))return i[e]=3,s[e];if(n!==Be&&Ne(n,e))return i[e]=4,n[e];Oc&&(i[e]=0)}}const u=gi[e];let c,d;if(u)return e==="$attrs"&&Lt(t.attrs,"get",""),u(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Be&&Ne(n,e))return i[e]=4,n[e];if(d=l.config.globalProperties,Ne(d,e))return d[e]},set({_:t},e,n){const{data:o,setupState:r,ctx:s}=t;return Ou(r,e)?(r[e]=n,!0):o!==Be&&Ne(o,e)?(o[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:r,props:s,type:i}},a){let l;return!!(n[a]||t!==Be&&a[0]!=="$"&&Ne(t,a)||Ou(e,a)||Ne(s,a)||Ne(o,a)||Ne(gi,a)||Ne(r.config.globalProperties,a)||(l=i.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function e0(){return t0().slots}function t0(t){const e=Nt();return e.setupContext||(e.setupContext=jv(e))}function Oi(t){return ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function wv(t,e){const n=Oi(t);for(const o in e){if(o.startsWith("__skip"))continue;let r=n[o];r?ye(r)||_e(r)?r=n[o]={type:r,default:e[o]}:r.default=e[o]:r===null&&(r=n[o]={default:e[o]}),r&&e[`__skip_${o}`]&&(r.skipFactory=!0)}return n}function Os(t,e){return!t||!e?t||e:ye(t)&&ye(e)?t.concat(e):St({},Oi(t),Oi(e))}let Oc=!0;function n0(t){const e=Sv(t),n=t.proxy,o=t.ctx;Oc=!1,e.beforeCreate&&ap(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:v,deactivated:b,beforeDestroy:g,beforeUnmount:y,destroyed:_,unmounted:w,render:x,renderTracked:P,renderTriggered:T,errorCaptured:M,serverPrefetch:E,expose:S,inheritAttrs:R,components:O,directives:I,filters:L}=e;if(u&&o0(u,o,null),i)for(const H in i){const Y=i[H];_e(Y)&&(o[H]=Y.bind(n))}if(r){const H=r.call(n,n);et(H)&&(t.data=gn(H))}if(Oc=!0,s)for(const H in s){const Y=s[H],fe=_e(Y)?Y.bind(n,n):_e(Y.get)?Y.get.bind(n,n):qn,le=!_e(Y)&&_e(Y.set)?Y.set.bind(n):qn,we=q({get:fe,set:le});Object.defineProperty(o,H,{enumerable:!0,configurable:!0,get:()=>we.value,set:Se=>we.value=Se})}if(a)for(const H in a)xv(a[H],o,n,H);if(l){const H=_e(l)?l.call(n):l;Reflect.ownKeys(H).forEach(Y=>{Ld(Y,H[Y])})}c&&ap(c,t,"c");function W(H,Y){ye(Y)?Y.forEach(fe=>H(fe.bind(n))):Y&&H(Y.bind(n))}if(W(vv,d),W(Ee,f),W(gv,p),W(bv,m),W(z_,v),W(U_,b),W(Y_,M),W(K_,P),W(W_,T),W(Ud,y),W(Dt,w),W(G_,E),ye(S))if(S.length){const H=t.exposed||(t.exposed={});S.forEach(Y=>{Object.defineProperty(H,Y,{get:()=>n[Y],set:fe=>n[Y]=fe,enumerable:!0})})}else t.exposed||(t.exposed={});x&&t.render===qn&&(t.render=x),R!=null&&(t.inheritAttrs=R),O&&(t.components=O),I&&(t.directives=I),E&&jd(t)}function o0(t,e,n=qn){ye(t)&&(t=Ic(t));for(const o in t){const r=t[o];let s;et(r)?"default"in r?s=Or(r.from||o,r.default,!0):s=Or(r.from||o):s=Or(r),Re(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):e[o]=s}}function ap(t,e,n){ao(ye(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function xv(t,e,n,o){let r=o.includes(".")?dv(n,o):()=>n[o];if(ut(t)){const s=e[t];_e(s)&&pe(r,s)}else if(_e(t))pe(r,t.bind(n));else if(et(t))if(ye(t))t.forEach(s=>xv(s,e,n,o));else{const s=_e(t.handler)?t.handler.bind(n):e[t.handler];_e(s)&&pe(r,s,t)}}function Sv(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!o?l=e:(l={},r.length&&r.forEach(u=>dl(l,u,i,!0)),dl(l,e,i)),et(e)&&s.set(e,l),l}function dl(t,e,n,o=!1){const{mixins:r,extends:s}=e;s&&dl(t,s,n,!0),r&&r.forEach(i=>dl(t,i,n,!0));for(const i in e)if(!(o&&i==="expose")){const a=r0[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const r0={data:lp,props:up,emits:up,methods:ii,computed:ii,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:ii,directives:ii,watch:i0,provide:lp,inject:s0};function lp(t,e){return e?t?function(){return St(_e(t)?t.call(this,this):t,_e(e)?e.call(this,this):e)}:e:t}function s0(t,e){return ii(Ic(t),Ic(e))}function Ic(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function ii(t,e){return t?St(Object.create(null),t,e):e}function up(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:St(Object.create(null),Oi(t),Oi(e??{})):e}function i0(t,e){if(!t)return e;if(!e)return t;const n=St(Object.create(null),t);for(const o in e)n[o]=zt(t[o],e[o]);return n}function Cv(){return{app:null,config:{isNativeTag:Pm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let a0=0;function l0(t,e){return function(o,r=null){_e(o)||(o=St({},o)),r!=null&&!et(r)&&(r=null);const s=Cv(),i=new WeakSet,a=[];let l=!1;const u=s.app={_uid:a0++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:F0,get config(){return s.config},set config(c){},use(c,...d){return i.has(c)||(c&&_e(c.install)?(i.add(c),c.install(u,...d)):_e(c)&&(i.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const p=u._ceVNode||A(o,r);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Kl(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ao(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=Ir;Ir=u;try{return c()}finally{Ir=d}}};return u}}let Ir=null;function Ot(t,e,n=Be){const o=Nt(),r=Yt(e),s=Lo(e),i=Tv(t,r),a=Ui((l,u)=>{let c,d=Be,f;return B_(()=>{const p=t[r];an(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const m=n.set?n.set(p):p;if(!an(m,c)&&!(d!==Be&&an(p,d)))return;const v=o.vnode.props;v&&(e in v||r in v||s in v)&&(`onUpdate:${e}`in v||`onUpdate:${r}`in v||`onUpdate:${s}`in v)||(c=p,u()),o.emit(`update:${e}`,m),an(p,m)&&an(p,d)&&!an(m,f)&&u(),d=p,f=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?i||Be:a,done:!1}:{done:!0}}}},a}const Tv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Yt(e)}Modifiers`]||t[`${Lo(e)}Modifiers`];function u0(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||Be;let r=n;const s=e.startsWith("update:"),i=s&&Tv(o,e.slice(7));i&&(i.trim&&(r=n.map(c=>ut(c)?c.trim():c)),i.number&&(r=n.map(Id)));let a,l=o[a=fi(e)]||o[a=fi(Yt(e))];!l&&s&&(l=o[a=fi(Lo(e))]),l&&ao(l,t,6,r);const u=o[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ao(u,t,6,r)}}const c0=new WeakMap;function Ev(t,e,n=!1){const o=n?c0:e.emitsCache,r=o.get(t);if(r!==void 0)return r;const s=t.emits;let i={},a=!1;if(!_e(t)){const l=u=>{const c=Ev(u,e,!0);c&&(a=!0,St(i,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(et(t)&&o.set(t,null),null):(ye(s)?s.forEach(l=>i[l]=null):St(i,s),et(t)&&o.set(t,i),i)}function Gl(t,e){return!t||!Ol(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,Lo(e))||Ne(t,e))}function cp(t){const{type:e,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:p,ctx:m,inheritAttrs:v}=t,b=ul(t);let g,y;try{if(n.shapeFlag&4){const w=r||o,x=w;g=Jn(u.call(x,w,c,d,p,f,m)),y=a}else{const w=e;g=Jn(w.length>1?w(d,{attrs:a,slots:i,emit:l}):w(d,null)),y=e.props?a:d0(a)}}catch(w){yi.length=0,Gi(w,t,1),g=A(uo)}let _=g;if(y&&v!==!1){const w=Object.keys(y),{shapeFlag:x}=_;w.length&&x&7&&(s&&w.some(Rd)&&(y=f0(y,s)),_=or(_,y,!1,!0))}return n.dirs&&(_=or(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Nd(_,n.transition),g=_,ul(b),g}const d0=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ol(n))&&((e||(e={}))[n]=t[n]);return e},f0=(t,e)=>{const n={};for(const o in t)(!Rd(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function p0(t,e,n){const{props:o,children:r,component:s}=t,{props:i,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?dp(o,i,u):!!i;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(i[f]!==o[f]&&!Gl(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?dp(o,i,u):!0:!!i;return!1}function dp(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(e[s]!==t[s]&&!Gl(n,s))return!0}return!1}function h0({vnode:t,parent:e},n){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=n,e=e.parent;else break}}const Av={},Mv=()=>Object.create(Av),Pv=t=>Object.getPrototypeOf(t)===Av;function m0(t,e,n,o=!1){const r={},s=Mv();t.propsDefaults=Object.create(null),kv(t,e,r,s);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=o?r:__(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function v0(t,e,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=t,a=Oe(r),[l]=t.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Gl(t.emitsOptions,f))continue;const p=e[f];if(l)if(Ne(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const m=Yt(f);r[m]=Dc(l,a,m,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{kv(t,e,r,s)&&(u=!0);let c;for(const d in a)(!e||!Ne(e,d)&&((c=Lo(d))===d||!Ne(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Dc(l,a,d,void 0,t,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!Ne(e,d))&&(delete s[d],u=!0)}u&&So(t.attrs,"set","")}function kv(t,e,n,o){const[r,s]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(di(l))continue;const u=e[l];let c;r&&Ne(r,c=Yt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Gl(t.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,i=!0)}if(s){const l=Oe(n),u=a||Be;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Dc(r,l,d,u[d],t,!Ne(u,d))}}return i}function Dc(t,e,n,o,r,s){const i=t[n];if(i!=null){const a=Ne(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&_e(l)){const{propsDefaults:u}=r;if(n in u)o=u[n];else{const c=Ki(r);o=u[n]=l.call(null,e),c()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===Lo(n))&&(o=!0))}return o}const g0=new WeakMap;function Rv(t,e,n=!1){const o=n?g0:e.propsCache,r=o.get(t);if(r)return r;const s=t.props,i={},a=[];let l=!1;if(!_e(t)){const c=d=>{l=!0;const[f,p]=Rv(d,e,!0);St(i,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return et(t)&&o.set(t,bs),bs;if(ye(s))for(let c=0;c<s.length;c++){const d=Yt(s[c]);fp(d)&&(i[d]=Be)}else if(s)for(const c in s){const d=Yt(c);if(fp(d)){const f=s[c],p=i[d]=ye(f)||_e(f)?{type:f}:St({},f),m=p.type;let v=!1,b=!0;if(ye(m))for(let g=0;g<m.length;++g){const y=m[g],_=_e(y)&&y.name;if(_==="Boolean"){v=!0;break}else _==="String"&&(b=!1)}else v=_e(m)&&m.name==="Boolean";p[0]=v,p[1]=b,(v||Ne(p,"default"))&&a.push(d)}}const u=[i,a];return et(t)&&o.set(t,u),u}function fp(t){return t[0]!=="$"&&!di(t)}const Hd=t=>t==="_"||t==="_ctx"||t==="$stable",Gd=t=>ye(t)?t.map(Jn):[Jn(t)],b0=(t,e,n)=>{if(e._n)return e;const o=C((...r)=>Gd(e(...r)),n);return o._c=!1,o},Ov=(t,e,n)=>{const o=t._ctx;for(const r in t){if(Hd(r))continue;const s=t[r];if(_e(s))e[r]=b0(r,s,o);else if(s!=null){const i=Gd(s);e[r]=()=>i}}},Iv=(t,e)=>{const n=Gd(e);t.slots.default=()=>n},Dv=(t,e,n)=>{for(const o in e)(n||!Hd(o))&&(t[o]=e[o])},y0=(t,e,n)=>{const o=t.slots=Mv();if(t.vnode.shapeFlag&32){const r=e._;r?(Dv(o,e,n),n&&Dm(o,"_",r,!0)):Ov(e,o)}else e&&Iv(t,e)},_0=(t,e,n)=>{const{vnode:o,slots:r}=t;let s=!0,i=Be;if(o.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Dv(r,e,n):(s=!e.$stable,Ov(e,r)),i=e}else e&&(Iv(t,e),i={default:1});if(s)for(const a in r)!Hd(a)&&i[a]==null&&delete r[a]},Ut=T0;function w0(t){return x0(t)}function x0(t,e){const n=Fl();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:p=qn,insertStaticContent:m}=t,v=(B,$,G,ne=null,J=null,ee=null,ae=void 0,re=null,oe=!!$.dynamicChildren)=>{if(B===$)return;B&&!Hs(B,$)&&(ne=Ce(B),Se(B,J,ee,!0),B=null),$.patchFlag===-2&&(oe=!1,$.dynamicChildren=null);const{type:te,ref:be,shapeFlag:ce}=$;switch(te){case Wl:b(B,$,G,ne);break;case uo:g(B,$,G,ne);break;case bi:B==null&&y($,G,ne,ae);break;case he:O(B,$,G,ne,J,ee,ae,re,oe);break;default:ce&1?x(B,$,G,ne,J,ee,ae,re,oe):ce&6?I(B,$,G,ne,J,ee,ae,re,oe):(ce&64||ce&128)&&te.process(B,$,G,ne,J,ee,ae,re,oe,Xe)}be!=null&&J?vi(be,B&&B.ref,ee,$||B,!$):be==null&&B&&B.ref!=null&&vi(B.ref,null,ee,B,!0)},b=(B,$,G,ne)=>{if(B==null)o($.el=a($.children),G,ne);else{const J=$.el=B.el;$.children!==B.children&&u(J,$.children)}},g=(B,$,G,ne)=>{B==null?o($.el=l($.children||""),G,ne):$.el=B.el},y=(B,$,G,ne)=>{[B.el,B.anchor]=m(B.children,$,G,ne,B.el,B.anchor)},_=({el:B,anchor:$},G,ne)=>{let J;for(;B&&B!==$;)J=f(B),o(B,G,ne),B=J;o($,G,ne)},w=({el:B,anchor:$})=>{let G;for(;B&&B!==$;)G=f(B),r(B),B=G;r($)},x=(B,$,G,ne,J,ee,ae,re,oe)=>{if($.type==="svg"?ae="svg":$.type==="math"&&(ae="mathml"),B==null)P($,G,ne,J,ee,ae,re,oe);else{const te=B.el&&B.el._isVueCE?B.el:null;try{te&&te._beginPatch(),E(B,$,J,ee,ae,re,oe)}finally{te&&te._endPatch()}}},P=(B,$,G,ne,J,ee,ae,re)=>{let oe,te;const{props:be,shapeFlag:ce,transition:ve,dirs:xe}=B;if(oe=B.el=i(B.type,ee,be&&be.is,be),ce&8?c(oe,B.children):ce&16&&M(B.children,oe,null,ne,J,Iu(B,ee),ae,re),xe&&mr(B,null,ne,"created"),T(oe,B,B.scopeId,ae,ne),be){for(const Qe in be)Qe!=="value"&&!di(Qe)&&s(oe,Qe,null,be[Qe],ee,ne);"value"in be&&s(oe,"value",null,be.value,ee),(te=be.onVnodeBeforeMount)&&Wn(te,ne,B)}xe&&mr(B,null,ne,"beforeMount");const Pe=S0(J,ve);Pe&&ve.beforeEnter(oe),o(oe,$,G),((te=be&&be.onVnodeMounted)||Pe||xe)&&Ut(()=>{te&&Wn(te,ne,B),Pe&&ve.enter(oe),xe&&mr(B,null,ne,"mounted")},J)},T=(B,$,G,ne,J)=>{if(G&&p(B,G),ne)for(let ee=0;ee<ne.length;ee++)p(B,ne[ee]);if(J){let ee=J.subTree;if($===ee||Fv(ee.type)&&(ee.ssContent===$||ee.ssFallback===$)){const ae=J.vnode;T(B,ae,ae.scopeId,ae.slotScopeIds,J.parent)}}},M=(B,$,G,ne,J,ee,ae,re,oe=0)=>{for(let te=oe;te<B.length;te++){const be=B[te]=re?Yo(B[te]):Jn(B[te]);v(null,be,$,G,ne,J,ee,ae,re)}},E=(B,$,G,ne,J,ee,ae)=>{const re=$.el=B.el;let{patchFlag:oe,dynamicChildren:te,dirs:be}=$;oe|=B.patchFlag&16;const ce=B.props||Be,ve=$.props||Be;let xe;if(G&&vr(G,!1),(xe=ve.onVnodeBeforeUpdate)&&Wn(xe,G,$,B),be&&mr($,B,G,"beforeUpdate"),G&&vr(G,!0),(ce.innerHTML&&ve.innerHTML==null||ce.textContent&&ve.textContent==null)&&c(re,""),te?S(B.dynamicChildren,te,re,G,ne,Iu($,J),ee):ae||Y(B,$,re,null,G,ne,Iu($,J),ee,!1),oe>0){if(oe&16)R(re,ce,ve,G,J);else if(oe&2&&ce.class!==ve.class&&s(re,"class",null,ve.class,J),oe&4&&s(re,"style",ce.style,ve.style,J),oe&8){const Pe=$.dynamicProps;for(let Qe=0;Qe<Pe.length;Qe++){const Ue=Pe[Qe],Zt=ce[Ue],Jt=ve[Ue];(Jt!==Zt||Ue==="value")&&s(re,Ue,Zt,Jt,J,G)}}oe&1&&B.children!==$.children&&c(re,$.children)}else!ae&&te==null&&R(re,ce,ve,G,J);((xe=ve.onVnodeUpdated)||be)&&Ut(()=>{xe&&Wn(xe,G,$,B),be&&mr($,B,G,"updated")},ne)},S=(B,$,G,ne,J,ee,ae)=>{for(let re=0;re<$.length;re++){const oe=B[re],te=$[re],be=oe.el&&(oe.type===he||!Hs(oe,te)||oe.shapeFlag&198)?d(oe.el):G;v(oe,te,be,null,ne,J,ee,ae,!0)}},R=(B,$,G,ne,J)=>{if($!==G){if($!==Be)for(const ee in $)!di(ee)&&!(ee in G)&&s(B,ee,$[ee],null,J,ne);for(const ee in G){if(di(ee))continue;const ae=G[ee],re=$[ee];ae!==re&&ee!=="value"&&s(B,ee,re,ae,J,ne)}"value"in G&&s(B,"value",$.value,G.value,J)}},O=(B,$,G,ne,J,ee,ae,re,oe)=>{const te=$.el=B?B.el:a(""),be=$.anchor=B?B.anchor:a("");let{patchFlag:ce,dynamicChildren:ve,slotScopeIds:xe}=$;xe&&(re=re?re.concat(xe):xe),B==null?(o(te,G,ne),o(be,G,ne),M($.children||[],G,be,J,ee,ae,re,oe)):ce>0&&ce&64&&ve&&B.dynamicChildren&&B.dynamicChildren.length===ve.length?(S(B.dynamicChildren,ve,G,J,ee,ae,re),($.key!=null||J&&$===J.subTree)&&Wd(B,$,!0)):Y(B,$,G,be,J,ee,ae,re,oe)},I=(B,$,G,ne,J,ee,ae,re,oe)=>{$.slotScopeIds=re,B==null?$.shapeFlag&512?J.ctx.activate($,G,ne,ae,oe):L($,G,ne,J,ee,ae,oe):z(B,$,oe)},L=(B,$,G,ne,J,ee,ae)=>{const re=B.component=R0(B,ne,J);if(zd(B)&&(re.ctx.renderer=Xe),O0(re,!1,ae),re.asyncDep){if(J&&J.registerDep(re,W,ae),!B.el){const oe=re.subTree=A(uo);g(null,oe,$,G),B.placeholder=oe.el}}else W(re,B,$,G,J,ee,ae)},z=(B,$,G)=>{const ne=$.component=B.component;if(p0(B,$,G))if(ne.asyncDep&&!ne.asyncResolved){H(ne,$,G);return}else ne.next=$,ne.update();else $.el=B.el,ne.vnode=$},W=(B,$,G,ne,J,ee,ae)=>{const re=()=>{if(B.isMounted){let{next:ce,bu:ve,u:xe,parent:Pe,vnode:Qe}=B;{const Hn=Bv(B);if(Hn){ce&&(ce.el=Qe.el,H(B,ce,ae)),Hn.asyncDep.then(()=>{B.isUnmounted||re()});return}}let Ue=ce,Zt;vr(B,!1),ce?(ce.el=Qe.el,H(B,ce,ae)):ce=Qe,ve&&Ya(ve),(Zt=ce.props&&ce.props.onVnodeBeforeUpdate)&&Wn(Zt,Pe,ce,Qe),vr(B,!0);const Jt=cp(B),Un=B.subTree;B.subTree=Jt,v(Un,Jt,d(Un.el),Ce(Un),B,J,ee),ce.el=Jt.el,Ue===null&&h0(B,Jt.el),xe&&Ut(xe,J),(Zt=ce.props&&ce.props.onVnodeUpdated)&&Ut(()=>Wn(Zt,Pe,ce,Qe),J)}else{let ce;const{el:ve,props:xe}=$,{bm:Pe,m:Qe,parent:Ue,root:Zt,type:Jt}=B,Un=ws($);vr(B,!1),Pe&&Ya(Pe),!Un&&(ce=xe&&xe.onVnodeBeforeMount)&&Wn(ce,Ue,$),vr(B,!0);{Zt.ce&&Zt.ce._def.shadowRoot!==!1&&Zt.ce._injectChildStyle(Jt);const Hn=B.subTree=cp(B);v(null,Hn,G,ne,B,J,ee),$.el=Hn.el}if(Qe&&Ut(Qe,J),!Un&&(ce=xe&&xe.onVnodeMounted)){const Hn=$;Ut(()=>Wn(ce,Ue,Hn),J)}($.shapeFlag&256||Ue&&ws(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&B.a&&Ut(B.a,J),B.isMounted=!0,$=G=ne=null}};B.scope.on();const oe=B.effect=new Vm(re);B.scope.off();const te=B.update=oe.run.bind(oe),be=B.job=oe.runIfDirty.bind(oe);be.i=B,be.id=B.uid,oe.scheduler=()=>Fd(be),vr(B,!0),te()},H=(B,$,G)=>{$.component=B;const ne=B.vnode.props;B.vnode=$,B.next=null,v0(B,$.props,ne,G),_0(B,$.children,G),Po(),ep(B),ko()},Y=(B,$,G,ne,J,ee,ae,re,oe=!1)=>{const te=B&&B.children,be=B?B.shapeFlag:0,ce=$.children,{patchFlag:ve,shapeFlag:xe}=$;if(ve>0){if(ve&128){le(te,ce,G,ne,J,ee,ae,re,oe);return}else if(ve&256){fe(te,ce,G,ne,J,ee,ae,re,oe);return}}xe&8?(be&16&&Fe(te,J,ee),ce!==te&&c(G,ce)):be&16?xe&16?le(te,ce,G,ne,J,ee,ae,re,oe):Fe(te,J,ee,!0):(be&8&&c(G,""),xe&16&&M(ce,G,ne,J,ee,ae,re,oe))},fe=(B,$,G,ne,J,ee,ae,re,oe)=>{B=B||bs,$=$||bs;const te=B.length,be=$.length,ce=Math.min(te,be);let ve;for(ve=0;ve<ce;ve++){const xe=$[ve]=oe?Yo($[ve]):Jn($[ve]);v(B[ve],xe,G,null,J,ee,ae,re,oe)}te>be?Fe(B,J,ee,!0,!1,ce):M($,G,ne,J,ee,ae,re,oe,ce)},le=(B,$,G,ne,J,ee,ae,re,oe)=>{let te=0;const be=$.length;let ce=B.length-1,ve=be-1;for(;te<=ce&&te<=ve;){const xe=B[te],Pe=$[te]=oe?Yo($[te]):Jn($[te]);if(Hs(xe,Pe))v(xe,Pe,G,null,J,ee,ae,re,oe);else break;te++}for(;te<=ce&&te<=ve;){const xe=B[ce],Pe=$[ve]=oe?Yo($[ve]):Jn($[ve]);if(Hs(xe,Pe))v(xe,Pe,G,null,J,ee,ae,re,oe);else break;ce--,ve--}if(te>ce){if(te<=ve){const xe=ve+1,Pe=xe<be?$[xe].el:ne;for(;te<=ve;)v(null,$[te]=oe?Yo($[te]):Jn($[te]),G,Pe,J,ee,ae,re,oe),te++}}else if(te>ve)for(;te<=ce;)Se(B[te],J,ee,!0),te++;else{const xe=te,Pe=te,Qe=new Map;for(te=Pe;te<=ve;te++){const cn=$[te]=oe?Yo($[te]):Jn($[te]);cn.key!=null&&Qe.set(cn.key,te)}let Ue,Zt=0;const Jt=ve-Pe+1;let Un=!1,Hn=0;const js=new Array(Jt);for(te=0;te<Jt;te++)js[te]=0;for(te=xe;te<=ce;te++){const cn=B[te];if(Zt>=Jt){Se(cn,J,ee,!0);continue}let Gn;if(cn.key!=null)Gn=Qe.get(cn.key);else for(Ue=Pe;Ue<=ve;Ue++)if(js[Ue-Pe]===0&&Hs(cn,$[Ue])){Gn=Ue;break}Gn===void 0?Se(cn,J,ee,!0):(js[Gn-Pe]=te+1,Gn>=Hn?Hn=Gn:Un=!0,v(cn,$[Gn],G,null,J,ee,ae,re,oe),Zt++)}const Gf=Un?C0(js):bs;for(Ue=Gf.length-1,te=Jt-1;te>=0;te--){const cn=Pe+te,Gn=$[cn],Wf=$[cn+1],Kf=cn+1<be?Wf.el||qv(Wf):ne;js[te]===0?v(null,Gn,G,Kf,J,ee,ae,re,oe):Un&&(Ue<0||te!==Gf[Ue]?we(Gn,G,Kf,2):Ue--)}}},we=(B,$,G,ne,J=null)=>{const{el:ee,type:ae,transition:re,children:oe,shapeFlag:te}=B;if(te&6){we(B.component.subTree,$,G,ne);return}if(te&128){B.suspense.move($,G,ne);return}if(te&64){ae.move(B,$,G,Xe);return}if(ae===he){o(ee,$,G);for(let ce=0;ce<oe.length;ce++)we(oe[ce],$,G,ne);o(B.anchor,$,G);return}if(ae===bi){_(B,$,G);return}if(ne!==2&&te&1&&re)if(ne===0)re.beforeEnter(ee),o(ee,$,G),Ut(()=>re.enter(ee),J);else{const{leave:ce,delayLeave:ve,afterLeave:xe}=re,Pe=()=>{B.ctx.isUnmounted?r(ee):o(ee,$,G)},Qe=()=>{ee._isLeaving&&ee[V_](!0),ce(ee,()=>{Pe(),xe&&xe()})};ve?ve(ee,Pe,Qe):Qe()}else o(ee,$,G)},Se=(B,$,G,ne=!1,J=!1)=>{const{type:ee,props:ae,ref:re,children:oe,dynamicChildren:te,shapeFlag:be,patchFlag:ce,dirs:ve,cacheIndex:xe}=B;if(ce===-2&&(J=!1),re!=null&&(Po(),vi(re,null,G,B,!0),ko()),xe!=null&&($.renderCache[xe]=void 0),be&256){$.ctx.deactivate(B);return}const Pe=be&1&&ve,Qe=!ws(B);let Ue;if(Qe&&(Ue=ae&&ae.onVnodeBeforeUnmount)&&Wn(Ue,$,B),be&6)He(B.component,G,ne);else{if(be&128){B.suspense.unmount(G,ne);return}Pe&&mr(B,null,$,"beforeUnmount"),be&64?B.type.remove(B,$,G,Xe,ne):te&&!te.hasOnce&&(ee!==he||ce>0&&ce&64)?Fe(te,$,G,!1,!0):(ee===he&&ce&384||!J&&be&16)&&Fe(oe,$,G),ne&&tt(B)}(Qe&&(Ue=ae&&ae.onVnodeUnmounted)||Pe)&&Ut(()=>{Ue&&Wn(Ue,$,B),Pe&&mr(B,null,$,"unmounted")},G)},tt=B=>{const{type:$,el:G,anchor:ne,transition:J}=B;if($===he){it(G,ne);return}if($===bi){w(B);return}const ee=()=>{r(G),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(B.shapeFlag&1&&J&&!J.persisted){const{leave:ae,delayLeave:re}=J,oe=()=>ae(G,ee);re?re(B.el,ee,oe):oe()}else ee()},it=(B,$)=>{let G;for(;B!==$;)G=f(B),r(B),B=G;r($)},He=(B,$,G)=>{const{bum:ne,scope:J,job:ee,subTree:ae,um:re,m:oe,a:te}=B;pp(oe),pp(te),ne&&Ya(ne),J.stop(),ee&&(ee.flags|=8,Se(ae,B,$,G)),re&&Ut(re,$),Ut(()=>{B.isUnmounted=!0},$)},Fe=(B,$,G,ne=!1,J=!1,ee=0)=>{for(let ae=ee;ae<B.length;ae++)Se(B[ae],$,G,ne,J)},Ce=B=>{if(B.shapeFlag&6)return Ce(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const $=f(B.anchor||B.el),G=$&&$[fv];return G?f(G):$};let Le=!1;const De=(B,$,G)=>{let ne;B==null?$._vnode&&(Se($._vnode,null,null,!0),ne=$._vnode.component):v($._vnode||null,B,$,null,null,null,G),$._vnode=B,Le||(Le=!0,ep(ne),lv(),Le=!1)},Xe={p:v,um:Se,m:we,r:tt,mt:L,mc:M,pc:Y,pbc:S,n:Ce,o:t};return{render:De,hydrate:void 0,createApp:l0(De)}}function Iu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function vr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function S0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wd(t,e,n=!1){const o=t.children,r=e.children;if(ye(o)&&ye(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Yo(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&Wd(i,a)),a.type===Wl&&(a.patchFlag!==-1?a.el=i.el:a.__elIndex=s+(t.type===he?1:0)),a.type===uo&&!a.el&&(a.el=i.el)}}function C0(t){const e=t.slice(),n=[0];let o,r,s,i,a;const l=t.length;for(o=0;o<l;o++){const u=t[o];if(u!==0){if(r=n[n.length-1],t[r]<u){e[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,t[n[a]]<u?s=a+1:i=a;u<t[n[s]]&&(s>0&&(e[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=e[i];return n}function Bv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Bv(e)}function pp(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function qv(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?qv(e.subTree):null}const Fv=t=>t.__isSuspense;function T0(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):av(t)}const he=Symbol.for("v-fgt"),Wl=Symbol.for("v-txt"),uo=Symbol.for("v-cmt"),bi=Symbol.for("v-stc"),yi=[];let pn=null;function k(t=!1){yi.push(pn=t?null:[])}function E0(){yi.pop(),pn=yi[yi.length-1]||null}let Ii=1;function fl(t,e=!1){Ii+=t,t<0&&pn&&e&&(pn.hasOnce=!0)}function Lv(t){return t.dynamicChildren=Ii>0?pn||bs:null,E0(),Ii>0&&pn&&pn.push(t),t}function Q(t,e,n,o,r,s){return Lv(j(t,e,n,o,r,s,!0))}function D(t,e,n,o,r){return Lv(A(t,e,n,o,r,!0))}function Di(t){return t?t.__v_isVNode===!0:!1}function Hs(t,e){return t.type===e.type&&t.key===e.key}const Vv=({key:t})=>t??null,Qa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ut(t)||Re(t)||_e(t)?{i:Rt,r:t,k:e,f:!!n}:t:null);function j(t,e=null,n=null,o=0,r=null,s=t===he?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vv(e),ref:e&&Qa(e),scopeId:cv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Rt};return a?(Kd(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=ut(n)?8:16),Ii>0&&!i&&pn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&pn.push(l),l}const A=A0;function A0(t,e=null,n=null,o=0,r=null,s=!1){if((!t||t===yv)&&(t=uo),Di(t)){const a=or(t,e,!0);return n&&Kd(a,n),Ii>0&&!s&&pn&&(a.shapeFlag&6?pn[pn.indexOf(t)]=a:pn.push(a)),a.patchFlag=-2,a}if(q0(t)&&(t=t.__vccOpts),e){e=ze(e);let{class:a,style:l}=e;a&&!ut(a)&&(e.class=En(a)),et(l)&&(zl(l)&&!ye(l)&&(l=St({},l)),e.style=pt(l))}const i=ut(t)?1:Fv(t)?128:F_(t)?64:et(t)?4:_e(t)?2:0;return j(t,e,n,o,r,i,s,!0)}function ze(t){return t?zl(t)||Pv(t)?St({},t):t:null}function or(t,e,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=t,u=e?X(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Vv(u),ref:e&&e.ref?n&&s?ye(s)?s.concat(Qa(e)):[s,Qa(e)]:Qa(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==he?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&or(t.ssContent),ssFallback:t.ssFallback&&or(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&o&&Nd(c,l.clone(c)),c}function Te(t=" ",e=0){return A(Wl,null,t,e)}function M0(t,e){const n=A(bi,null,t);return n.staticCount=e,n}function ie(t="",e=!1){return e?(k(),D(uo,null,t)):A(uo,null,t)}function Jn(t){return t==null||typeof t=="boolean"?A(uo):ye(t)?A(he,null,t.slice()):Di(t)?Yo(t):A(Wl,null,String(t))}function Yo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:or(t)}function Kd(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(ye(e))n=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),Kd(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Pv(e)?e._ctx=Rt:r===3&&Rt&&(Rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _e(e)?(e={default:e,_ctx:Rt},n=32):(e=String(e),o&64?(n=16,e=[Te(e)]):n=8);t.children=e,t.shapeFlag|=n}function X(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=En([e.class,o.class]));else if(r==="style")e.style=pt([e.style,o.style]);else if(Ol(r)){const s=e[r],i=o[r];i&&s!==i&&!(ye(s)&&s.includes(i))&&(e[r]=s?[].concat(s,i):i)}else r!==""&&(e[r]=o[r])}return e}function Wn(t,e,n,o=null){ao(t,e,7,[n,o])}const P0=Cv();let k0=0;function R0(t,e,n){const o=t.type,r=(e?e.appContext:t.appContext)||P0,s={uid:k0++,vnode:t,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rv(o,r),emitsOptions:Ev(o,r),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:o.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=u0.bind(null,s),t.ce&&t.ce(s),s}let kt=null;const Nt=()=>kt||Rt;let pl,Bc;{const t=Fl(),e=(n,o)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};pl=e("__VUE_INSTANCE_SETTERS__",n=>kt=n),Bc=e("__VUE_SSR_SETTERS__",n=>As=n)}const Ki=t=>{const e=kt;return pl(t),t.scope.on(),()=>{t.scope.off(),pl(e)}},hp=()=>{kt&&kt.scope.off(),pl(null)};function $v(t){return t.vnode.shapeFlag&4}let As=!1;function O0(t,e=!1,n=!1){e&&Bc(e);const{props:o,children:r}=t.vnode,s=$v(t);m0(t,o,s,e),y0(t,r,n||e);const i=s?I0(t,e):void 0;return e&&Bc(!1),i}function I0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,J_);const{setup:o}=n;if(o){Po();const r=t.setupContext=o.length>1?jv(t):null,s=Ki(t),i=Hi(o,t,0,[t.props,r]),a=Rm(i);if(ko(),s(),(a||t.sp)&&!ws(t)&&jd(t),a){if(i.then(hp,hp),e)return i.then(l=>{mp(t,l)}).catch(l=>{Gi(l,t,0)});t.asyncDep=i}else mp(t,i)}else Nv(t)}function mp(t,e,n){_e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:et(e)&&(t.setupState=nv(e)),Nv(t)}function Nv(t,e,n){const o=t.type;t.render||(t.render=o.render||qn);{const r=Ki(t);Po();try{n0(t)}finally{ko(),r()}}}const D0={get(t,e){return Lt(t,"get",""),t[e]}};function jv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,D0),slots:t.slots,emit:t.emit,expose:e}}function Kl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(nv(Ul(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gi)return gi[n](t)},has(e,n){return n in e||n in gi}})):t.proxy}function B0(t,e=!0){return _e(t)?t.displayName||t.name:t.name||e&&t.__name}function q0(t){return _e(t)&&"__vccOpts"in t}const q=(t,e)=>A_(t,e,As);function xs(t,e,n){try{fl(-1);const o=arguments.length;return o===2?et(e)&&!ye(e)?Di(e)?A(t,null,[e]):A(t,e):A(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Di(n)&&(n=[n]),A(t,e,n))}finally{fl(1)}}const F0="3.5.27";let qc;const vp=typeof window<"u"&&window.trustedTypes;if(vp)try{qc=vp.createPolicy("vue",{createHTML:t=>t})}catch{}const zv=qc?t=>qc.createHTML(t):t=>t,L0="http://www.w3.org/2000/svg",V0="http://www.w3.org/1998/Math/MathML",_o=typeof document<"u"?document:null,gp=_o&&_o.createElement("template"),$0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const r=e==="svg"?_o.createElementNS(L0,t):e==="mathml"?_o.createElementNS(V0,t):n?_o.createElement(t,{is:n}):_o.createElement(t);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>_o.createTextNode(t),createComment:t=>_o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,r,s){const i=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{gp.innerHTML=zv(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=gp.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},N0=Symbol("_vtc");function j0(t,e,n){const o=t[N0];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hl=Symbol("_vod"),Uv=Symbol("_vsh"),Bi={name:"show",beforeMount(t,{value:e},{transition:n}){t[hl]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Gs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:o}){!e!=!n&&(o?e?(o.beforeEnter(t),Gs(t,!0),o.enter(t)):o.leave(t,()=>{Gs(t,!1)}):Gs(t,e))},beforeUnmount(t,{value:e}){Gs(t,e)}};function Gs(t,e){t.style.display=e?t[hl]:"none",t[Uv]=!e}const Hv=Symbol("");function Gv(t){const e=Nt();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>ml(s,r))},o=()=>{const r=t(e.proxy);e.ce?ml(e.ce,r):Fc(e.subTree,r),n(r)};gv(()=>{av(o)}),Ee(()=>{pe(o,qn,{flush:"post"});const r=new MutationObserver(o);r.observe(e.subTree.el.parentNode,{childList:!0}),Dt(()=>r.disconnect())})}function Fc(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Fc(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ml(t.el,e);else if(t.type===he)t.children.forEach(n=>Fc(n,e));else if(t.type===bi){let{el:n,anchor:o}=t;for(;n&&(ml(n,e),n!==o);)n=n.nextSibling}}function ml(t,e){if(t.nodeType===1){const n=t.style;let o="";for(const r in e){const s=e_(e[r]);n.setProperty(`--${r}`,s),o+=`--${r}: ${s};`}n[Hv]=o}}const z0=/(?:^|;)\s*display\s*:/;function U0(t,e,n){const o=t.style,r=ut(n);let s=!1;if(n&&!r){if(e)if(ut(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Za(o,a,"")}else for(const i in e)n[i]==null&&Za(o,i,"");for(const i in n)i==="display"&&(s=!0),Za(o,i,n[i])}else if(r){if(e!==n){const i=o[Hv];i&&(n+=";"+i),o.cssText=n,s=z0.test(n)}}else e&&t.removeAttribute("style");hl in t&&(t[hl]=s?o.display:"",t[Uv]&&(o.display="none"))}const bp=/\s*!important$/;function Za(t,e,n){if(ye(n))n.forEach(o=>Za(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=H0(t,e);bp.test(n)?t.setProperty(Lo(o),n.replace(bp,""),"important"):t[o]=n}}const yp=["Webkit","Moz","ms"],Du={};function H0(t,e){const n=Du[e];if(n)return n;let o=Yt(e);if(o!=="filter"&&o in t)return Du[e]=o;o=ql(o);for(let r=0;r<yp.length;r++){const s=yp[r]+o;if(s in t)return Du[e]=s}return e}const _p="http://www.w3.org/1999/xlink";function wp(t,e,n,o,r,s=Jy(e)){o&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(_p,e.slice(6,e.length)):t.setAttributeNS(_p,e,n):n==null||s&&!Bm(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Fo(n)?String(n):n)}function xp(t,e,n,o,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?zv(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Bm(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function us(t,e,n,o){t.addEventListener(e,n,o)}function G0(t,e,n,o){t.removeEventListener(e,n,o)}const Sp=Symbol("_vei");function W0(t,e,n,o,r=null){const s=t[Sp]||(t[Sp]={}),i=s[e];if(o&&i)i.value=o;else{const[a,l]=K0(e);if(o){const u=s[e]=Q0(o,r);us(t,a,u,l)}else i&&(G0(t,a,i,l),s[e]=void 0)}}const Cp=/(?:Once|Passive|Capture)$/;function K0(t){let e;if(Cp.test(t)){e={};let o;for(;o=t.match(Cp);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lo(t.slice(2)),e]}let Bu=0;const Y0=Promise.resolve(),X0=()=>Bu||(Y0.then(()=>Bu=0),Bu=Date.now());function Q0(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;ao(Z0(o,n.value),e,5,[o])};return n.value=t,n.attached=X0(),n}function Z0(t,e){if(ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const Tp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,J0=(t,e,n,o,r,s)=>{const i=r==="svg";e==="class"?j0(t,o,i):e==="style"?U0(t,n,o):Ol(e)?Rd(e)||W0(t,e,n,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ew(t,e,o,i))?(xp(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wp(t,e,o,i,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ut(o))?xp(t,Yt(e),o,s,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),wp(t,e,o,i))};function ew(t,e,n,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Tp(e)&&_e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Tp(e)&&ut(n)?!1:e in t}const Ep=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?n=>Ya(e,n):e};function tw(t){t.target.composing=!0}function Ap(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qu=Symbol("_assign");function Mp(t,e,n){return e&&(t=t.trim()),n&&(t=Id(t)),t}const Yl={created(t,{modifiers:{lazy:e,trim:n,number:o}},r){t[qu]=Ep(r);const s=o||r.props&&r.props.type==="number";us(t,e?"change":"input",i=>{i.target.composing||t[qu](Mp(t.value,n,s))}),(n||s)&&us(t,"change",()=>{t.value=Mp(t.value,n,s)}),e||(us(t,"compositionstart",tw),us(t,"compositionend",Ap),us(t,"change",Ap))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(t[qu]=Ep(i),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Id(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(o&&e===n||r&&t.value.trim()===l)||(t.value=l))}},nw=["ctrl","shift","alt","meta"],ow={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>nw.some(n=>t[`${n}Key`]&&!e.includes(n))},Ve=(t,e)=>{const n=t._withMods||(t._withMods={}),o=e.join(".");return n[o]||(n[o]=((r,...s)=>{for(let i=0;i<e.length;i++){const a=ow[e[i]];if(a&&a(r,e))return}return t(r,...s)}))},rw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_t=(t,e)=>{const n=t._withKeys||(t._withKeys={}),o=e.join(".");return n[o]||(n[o]=(r=>{if(!("key"in r))return;const s=Lo(r.key);if(e.some(i=>i===s||rw[i]===s))return t(r)}))},sw=St({patchProp:J0},$0);let Pp;function iw(){return Pp||(Pp=w0(sw))}const aw=((...t)=>{const e=iw().createApp(...t),{mount:n}=e;return e.mount=o=>{const r=uw(o);if(!r)return;const s=e._component;!_e(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,lw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e});function lw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function uw(t){return ut(t)?document.querySelector(t):t}function kp(t){return typeof t=="string"?`'${t}'`:new cw().serialize(t)}const cw=(function(){class t{#e=new Map;compare(n,o){const r=typeof n,s=typeof o;return r==="string"&&s==="string"?n.localeCompare(o):r==="number"&&s==="number"?n-o:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(o,!0))}serialize(n,o){if(n===null)return"null";switch(typeof n){case"string":return o?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const o=Object.prototype.toString.call(n);if(o!=="[object Object]")return this.serializeBuiltInType(o.length<10?`unknown:${o}`:o.slice(8,-1),n);const r=n.constructor,s=r===Object||r===void 0?"":r.name;if(s!==""&&globalThis[s]===r)return this.serializeBuiltInType(s,n);if(typeof n.toJSON=="function"){const i=n.toJSON();return s+(i!==null&&typeof i=="object"?this.$object(i):`(${this.serialize(i)})`)}return this.serializeObjectEntries(s,Object.entries(n))}serializeBuiltInType(n,o){const r=this["$"+n];if(r)return r.call(this,o);if(typeof o?.entries=="function")return this.serializeObjectEntries(n,o.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,o){const r=Array.from(o).sort((i,a)=>this.compare(i[0],a[0]));let s=`${n}{`;for(let i=0;i<r.length;i++){const[a,l]=r[i];s+=`${this.serialize(a,!0)}:${this.serialize(l)}`,i<r.length-1&&(s+=",")}return s+"}"}$object(n){let o=this.#e.get(n);return o===void 0&&(this.#e.set(n,`#${this.#e.size}`),o=this.serializeObject(n),this.#e.set(n,o)),o}$function(n){const o=Function.prototype.toString.call(n);return o.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${o.replace(/\s*\n\s*/g,"")}`}$Array(n){let o="[";for(let r=0;r<n.length;r++)o+=this.serialize(n[r]),r<n.length-1&&(o+=",");return o+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((o,r)=>this.compare(o,r)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function Io(t,e){return t===e||kp(t)===kp(e)}function Fu(t,e,n){const o=t.findIndex(a=>Io(a,e)),r=t.findIndex(a=>Io(a,n));if(o===-1||r===-1)return[];const[s,i]=[o,r].sort((a,l)=>a-l);return t.slice(s,i+1)}function Ms(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function pa(t,e){let n=t;const o=e.toString(),r=o.indexOf("."),s=r>=0?o.length-r:0;if(s>0){const i=10**s;n=Math.round(n*i)/i}return n}function dw(t,e,n,o){e=Number(e),n=Number(n);const r=(t-(Number.isNaN(e)?0:e))%o;let s=pa(Math.abs(r)*2>=o?t+Math.sign(r)*(o-Math.abs(r)):t-r,o);return Number.isNaN(e)?!Number.isNaN(n)&&s>n&&(s=Math.floor(pa(n/o,o))*o):s<e?s=e:!Number.isNaN(n)&&s>n&&(s=e+Math.floor(pa((n-e)/o,o))*o),s=pa(s,o),s}function Ae(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,o=Symbol(n);return[i=>{const a=Or(o,i);if(a||a===null)return a;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},i=>(Ld(o,i),i)]}function Je(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function Ps(t,e,n){const o=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(r)}function Ao(t){return t==null}function Lc(t,e){return Ao(t)?!1:Array.isArray(t)?t.some(n=>Io(n,e)):Io(t,e)}function Yd(t){return t?t.flatMap(e=>e.type===he?Yd(e.children):[e]):[]}const fw=["INPUT","TEXTAREA"];function Wv(t,e,n,o={}){if(!e||o.enableIgnoredElement&&fw.includes(e.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:s="[data-reka-collection-item]",itemsArray:i=[],loop:a=!0,dir:l="ltr",preventScroll:u=!0,focus:c=!1}=o,[d,f,p,m,v,b]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],g=p||m,y=d||f;if(!v&&!b&&(!g&&!y||r==="vertical"&&y||r==="horizontal"&&g))return null;const _=n?Array.from(n.querySelectorAll(s)):i;if(!_.length)return null;u&&t.preventDefault();let w=null;return y||g?w=Kv(_,e,{goForward:g?m:l==="ltr"?d:f,loop:a}):v?w=_.at(0)||null:b&&(w=_.at(-1)||null),c&&w?.focus(),w}function Kv(t,e,n,o=t.length){if(--o===0)return null;const r=t.indexOf(e),s=n.goForward?r+1:r-1;if(!n.loop&&(s<0||s>=t.length))return null;const i=(s+t.length)%t.length,a=t[i];return a?a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false"?Kv(t,a,n,o):a:null}const[Xl]=Ae("ConfigProvider");function pw(t,e){var n;const o=je();return dt(()=>{o.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),io(o)}function hw(t,e){let n,o,r;const s=je(!0),i=()=>{s.value=!0,r()};pe(t,i,{flush:"sync"});const a=typeof e=="function"?e:e.get,l=typeof e=="function"?void 0:e.set,u=Ui((c,d)=>(o=c,r=d,{get(){return s.value&&(n=a(n),s.value=!1),o(),n},set(f){l?.(f)}}));return Object.isExtensible(u)&&(u.trigger=i),u}function ur(t){return ji()?(zi(t),!0):!1}function Xd(){const t=new Set,e=s=>{t.delete(s)};return{on:s=>{t.add(s);const i=()=>e(s);return ur(i),{off:i}},off:e,trigger:(...s)=>Promise.all(Array.from(t).map(i=>i(...s))),clear:()=>{t.clear()}}}function mw(t){let e=!1,n;const o=Ll(!0);return(...r)=>(e||(n=o.run(()=>t(...r)),e=!0),n)}function Yv(t){let e=0,n,o;const r=()=>{e-=1,o&&e<=0&&(o.stop(),n=void 0,o=void 0)};return(...s)=>(e+=1,o||(o=Ll(!0),n=o.run(()=>t(...s))),ur(r),n)}function vw(t){if(!Re(t))return gn(t);const e=new Proxy({},{get(n,o,r){return h(Reflect.get(t.value,o,r))},set(n,o,r){return Re(t.value[o])&&!Re(r)?t.value[o].value=r:t.value[o]=r,!0},deleteProperty(n,o){return Reflect.deleteProperty(t.value,o)},has(n,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return gn(e)}function Qd(t){return vw(q(t))}function Ql(t,...e){const n=e.flat(),o=n[0];return Qd(()=>Object.fromEntries(typeof o=="function"?Object.entries(Ie(t)).filter(([r,s])=>!o(me(s),r)):Object.entries(Ie(t)).filter(r=>!n.includes(r[0]))))}const jn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gw=t=>typeof t<"u",bw=Object.prototype.toString,yw=t=>bw.call(t)==="[object Object]",Vc=()=>{},Rp=_w();function _w(){var t,e;return jn&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function ww(t,e){function n(...o){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(s)})}return n}function xw(t,e={}){let n,o,r=Vc;const s=l=>{clearTimeout(l),r(),r=Vc};let i;return l=>{const u=me(t),c=me(e.maxWait);return n&&s(n),u<=0||c!==void 0&&c<=0?(o&&(s(o),o=null),Promise.resolve(l())):new Promise((d,f)=>{r=e.rejectOnCancel?f:d,i=l,c&&!o&&(o=setTimeout(()=>{n&&s(n),o=null,d(i())},c)),n=setTimeout(()=>{o&&s(o),o=null,d(l())},u)})}}function Xv(t){return Nt()}function Lu(t){return Array.isArray(t)?t:[t]}function Zd(t,e=1e4){return Ui((n,o)=>{let r=me(t),s;const i=()=>setTimeout(()=>{r=me(t),o()},me(e));return ur(()=>{clearTimeout(s)}),{get(){return n(),r},set(a){r=a,o(),clearTimeout(s),s=i()}}})}function Qv(t,e=200,n={}){return ww(xw(e,n),t)}function Sw(t,e){Xv()&&Ud(t,e)}function Cw(t,e=!0,n){Xv()?Ee(t,n):e?t():We(t)}function Jd(t,e,n={}){const{immediate:o=!0,immediateCallback:r=!1}=n,s=je(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function l(){s.value=!1,a()}function u(...c){r&&t(),a(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,t(...c)},me(e))}return o&&(s.value=!0,jn&&u()),ur(l),{isPending:io(s),start:u,stop:l}}function Tw(t=1e3,e={}){const{controls:n=!1,callback:o}=e,r=Jd(o??Vc,t,e),s=q(()=>!r.isPending.value);return n?{ready:s,...r}:s}function Ew(t,e,n){return pe(t,e,{...n,immediate:!0})}function Aw(t,e,n){const o=pe(t,(...r)=>(We(()=>o()),e(...r)),n);return o}const Yi=jn?window:void 0;function un(t){var e;const n=me(t);return(e=n?.$el)!=null?e:n}function Tn(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},o=(a,l,u,c)=>(a.addEventListener(l,u,c),()=>a.removeEventListener(l,u,c)),r=q(()=>{const a=Lu(me(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=Ew(()=>{var a,l;return[(l=(a=r.value)==null?void 0:a.map(u=>un(u)))!=null?l:[Yi].filter(u=>u!=null),Lu(me(r.value?t[1]:t[0])),Lu(h(r.value?t[2]:t[1])),me(r.value?t[3]:t[2])]},([a,l,u,c])=>{if(n(),!a?.length||!l?.length||!u?.length)return;const d=yw(c)?{...c}:c;e.push(...a.flatMap(f=>l.flatMap(p=>u.map(m=>o(f,p,m,d)))))},{flush:"post"}),i=()=>{s(),n()};return ur(n),i}function ef(){const t=je(!1),e=Nt();return e&&Ee(()=>{t.value=!0},e),t}function Mw(t){const e=ef();return q(()=>(e.value,!!t()))}function Pw(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function tf(...t){let e,n,o={};t.length===3?(e=t[0],n=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],o=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:r=Yi,eventName:s="keydown",passive:i=!1,dedupe:a=!1}=o,l=Pw(e);return Tn(r,s,c=>{c.repeat&&me(a)||l(c)&&n(c)},i)}function Zv(t,e={}){const{immediate:n=!0,fpsLimit:o=void 0,window:r=Yi,once:s=!1}=e,i=je(!1),a=q(()=>o?1e3/me(o):null);let l=0,u=null;function c(p){if(!i.value||!r)return;l||(l=p);const m=p-l;if(a.value&&m<a.value){u=r.requestAnimationFrame(c);return}if(l=p,t({delta:m,timestamp:p}),s){i.value=!1,u=null;return}u=r.requestAnimationFrame(c)}function d(){!i.value&&r&&(i.value=!0,l=0,u=r.requestAnimationFrame(c))}function f(){i.value=!1,u!=null&&r&&(r.cancelAnimationFrame(u),u=null)}return n&&d(),ur(f),{isActive:io(i),pause:f,resume:d}}function kw(t){return JSON.parse(JSON.stringify(t))}function Rw(t){const e=Nt(),n=hw(()=>null,()=>e.proxy.$el);return bv(n.trigger),Ee(n.trigger),n}function rr(t,e,n={}){const{window:o=Yi,...r}=n;let s;const i=Mw(()=>o&&"ResizeObserver"in o),a=()=>{s&&(s.disconnect(),s=void 0)},l=q(()=>{const d=me(t);return Array.isArray(d)?d.map(f=>un(f)):[un(d)]}),u=pe(l,d=>{if(a(),i.value&&o){s=new ResizeObserver(e);for(const f of d)f&&s.observe(f,r)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return ur(c),{isSupported:i,stop:c}}function Ow(t=Rw()){const e=je(),n=()=>{const o=un(t);o&&(e.value=o.parentElement)};return Cw(n),pe(()=>me(t),n),e}function st(t,e,n,o={}){var r,s,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:f}=o,p=Nt(),m=n||p?.emit||((r=p?.$emit)==null?void 0:r.bind(p))||((i=(s=p?.proxy)==null?void 0:s.$emit)==null?void 0:i.bind(p?.proxy));let v=u;e||(e="modelValue"),v=v||`update:${e.toString()}`;const b=_=>a?typeof a=="function"?a(_):kw(_):_,g=()=>gw(t[e])?b(t[e]):d,y=_=>{f?f(_)&&m(v,_):m(v,_)};if(l){const _=g(),w=V(_);let x=!1;return pe(()=>t[e],P=>{x||(x=!0,w.value=b(P),We(()=>x=!1))}),pe(w,P=>{!x&&(P!==t[e]||c)&&y(P)},{deep:c}),w}else return q({get(){return g()},set(_){y(_)}})}function Vu(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function $c(t,e,n=".",o){if(!Vu(e))return $c(t,{},n,o);const r=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const i=t[s];i!=null&&(o&&o(r,s,i,n)||(Array.isArray(i)&&Array.isArray(r[s])?r[s]=[...i,...r[s]]:Vu(i)&&Vu(r[s])?r[s]=$c(i,r[s],(n?`${n}.`:"")+s.toString(),o):r[s]=i))}return r}function Iw(t){return(...e)=>e.reduce((n,o)=>$c(n,o,"",t),{})}const Dw=Iw(),Bw=Yv(()=>{const t=V(new Map),e=V(),n=q(()=>{for(const i of t.value.values())if(i)return!0;return!1}),o=Xl({scrollBody:V(!0)});let r=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",Rp&&r?.(),e.value=void 0};return pe(n,(i,a)=>{if(!jn)return;if(!i){a&&s();return}e.value===void 0&&(e.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,u={padding:l,margin:0},c=o.scrollBody?.value?typeof o.scrollBody.value=="object"?Dw({padding:o.scrollBody.value.padding===!0?l:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?l:o.scrollBody.value.margin},u):u:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof c.padding=="number"?`${c.padding}px`:String(c.padding),document.body.style.marginRight=typeof c.margin=="number"?`${c.margin}px`:String(c.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),Rp&&(r=Tn(document,"touchmove",d=>qw(d),{passive:!1})),We(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Zl(t){const e=Math.random().toString(36).substring(2,7),n=Bw();n.value.set(e,t??!1);const o=q({get:()=>n.value.get(e)??!1,set:r=>n.value.set(e,r)});return Sw(()=>{n.value.delete(e)}),o}function Jv(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Jv(n)}}function qw(t){const e=t||window.event,n=e.target;return n instanceof Element&&Jv(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function zn(t){const e=Xl({dir:V("ltr")});return q(()=>t?.value||e.dir?.value||"ltr")}function Lr(t){const e=Nt(),n=e?.type.emits,o={};return n?.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(r=>{o[fi(Yt(r))]=(...s)=>t(r,...s)}),o}let $u=0;function nf(){dt(t=>{if(!jn)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??Op()),document.body.insertAdjacentElement("beforeend",e[1]??Op()),$u++,t(()=>{$u===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),$u--})})}function Op(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function Vr(t){return q(()=>me(t)?!!un(t)?.closest("form"):!0)}function Z(){const t=Nt(),e=V(),n=q(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:un(e)),o=Object.assign({},t.exposed),r={};for(const i in t.props)Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>t.props[i]});if(Object.keys(o).length>0)for(const i in o)Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>o[i]});Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=r;function s(i){if(e.value=i,!!i&&(Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),!(i instanceof Element)&&!Object.hasOwn(i,"$el"))){const a=i.$.exposed,l=Object.assign({},r);for(const u in a)Object.defineProperty(l,u,{enumerable:!0,configurable:!0,get:()=>a[u]});t.exposed=l}}return{forwardRef:s,currentRef:e,currentElement:n}}function cr(t){const e=Nt(),n=Object.keys(e?.type.props??{}).reduce((r,s)=>{const i=(e?.type.props[s]).default;return i!==void 0&&(r[s]=i),r},{}),o=ov(t);return q(()=>{const r={},s=e?.vnode.props??{};return Object.keys(s).forEach(i=>{r[Yt(i)]=s[i]}),Object.keys({...n,...r}).reduce((i,a)=>(o.value[a]!==void 0&&(i[a]=o.value[a]),i),{})})}function yn(t,e){const n=cr(t),o=e?Lr(e):{};return q(()=>({...n.value,...o}))}function Fw(t,e){const n=Zd(!1,300);ur(()=>{n.value=!1});const o=V(null),r=Xd();function s(){o.value=null,n.value=!1}function i(a,l){const u=a.currentTarget,c={x:a.clientX,y:a.clientY},d=Lw(c,u.getBoundingClientRect()),f=Vw(c,d),p=$w(l.getBoundingClientRect()),m=jw([...f,...p]);o.value=m,n.value=!0}return dt(a=>{if(t.value&&e.value){const l=c=>i(c,e.value),u=c=>i(c,t.value);t.value.addEventListener("pointerleave",l),e.value.addEventListener("pointerleave",u),a(()=>{t.value?.removeEventListener("pointerleave",l),e.value?.removeEventListener("pointerleave",u)})}}),dt(a=>{if(o.value){const l=u=>{if(!o.value||!(u.target instanceof Element))return;const c=u.target,d={x:u.clientX,y:u.clientY},f=t.value?.contains(c)||e.value?.contains(c),p=!Nw(d,o.value),m=!!c.closest("[data-grace-area-trigger]");f?s():(p||m)&&(s(),r.trigger())};t.value?.ownerDocument.addEventListener("pointermove",l),a(()=>t.value?.ownerDocument.removeEventListener("pointermove",l))}}),{isPointerInTransit:n,onPointerExit:r.on}}function Lw(t,e){const n=Math.abs(e.top-t.y),o=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,o,r,s)){case s:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Vw(t,e,n=5){const o=[];switch(e){case"top":o.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":o.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":o.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":o.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return o}function $w(t){const{top:e,right:n,bottom:o,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:o},{x:r,y:o}]}function Nw(t,e){const{x:n,y:o}=t;let r=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s].x,l=e[s].y,u=e[i].x,c=e[i].y;l>o!=c>o&&n<(u-a)*(o-l)/(c-l)+a&&(r=!r)}return r}function jw(t){const e=t.slice();return e.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),zw(e)}function zw(t){if(t.length<=1)return t.slice();const e=[];for(let o=0;o<t.length;o++){const r=t[o];for(;e.length>=2;){const s=e[e.length-1],i=e[e.length-2];if((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let o=t.length-1;o>=0;o--){const r=t[o];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(r.y-i.y)>=(s.y-i.y)*(r.x-i.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Uw=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Gr=new WeakMap,ha=new WeakMap,ma={},Nu=0,eg=function(t){return t&&(t.host||eg(t.parentNode))},Hw=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=eg(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Gw=function(t,e,n,o){var r=Hw(e,Array.isArray(t)?t:[t]);ma[n]||(ma[n]=new WeakMap);var s=ma[n],i=[],a=new Set,l=new Set(r),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};r.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else try{var p=f.getAttribute(o),m=p!==null&&p!=="false",v=(Gr.get(f)||0)+1,b=(s.get(f)||0)+1;Gr.set(f,v),s.set(f,b),i.push(f),v===1&&m&&ha.set(f,!0),b===1&&f.setAttribute(n,"true"),m||f.setAttribute(o,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return c(e),a.clear(),Nu++,function(){i.forEach(function(d){var f=Gr.get(d)-1,p=s.get(d)-1;Gr.set(d,f),s.set(d,p),f||(ha.has(d)||d.removeAttribute(o),ha.delete(d)),p||d.removeAttribute(n)}),Nu--,Nu||(Gr=new WeakMap,Gr=new WeakMap,ha=new WeakMap,ma={})}},Ww=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=Uw(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),Gw(o,r,n,"aria-hidden")):function(){return null}};function Jl(t){let e;pe(()=>un(t),n=>{n?e=Ww(n):e&&e()}),Dt(()=>{e&&e()})}function It(t,e="reka"){return t||`${e}-${$_?.()}`}function Kw(t){const e=Xl({locale:V("en")});return q(()=>t?.value||e.locale?.value||"en")}function Yw(t,e){const n=V(),o=(s,i)=>{if(e.multiple&&Array.isArray(t.value))if(e.selectionBehavior==="replace")t.value=[s],n.value=s;else{const a=t.value.findIndex(l=>i(l));a!==-1?t.value=t.value.filter((l,u)=>u!==a):t.value=[...t.value,s]}else e.selectionBehavior==="replace"?t.value={...s}:!Array.isArray(t.value)&&i(t.value)?t.value=void 0:t.value={...s};return t.value};function r(s,i,a,l){if(!n?.value||!e.multiple||!Array.isArray(t.value))return;const c=a().filter(f=>f.ref.dataset.disabled!=="").find(f=>f.ref===i)?.value;if(!c)return;let d=null;switch(s){case"prev":case"next":{d=Fu(l,n.value,c);break}case"first":{d=Fu(l,n.value,l?.[0]);break}case"last":{d=Fu(l,n.value,l?.[l.length-1]);break}}t.value=d}return{firstValue:n,onSelectItem:o,handleMultipleReplace:r}}function tg(t){const e=V(),n=q(()=>e.value?.width??0),o=q(()=>e.value?.height??0);return Ee(()=>{const r=un(t);if(r){e.value={width:r.offsetWidth,height:r.offsetHeight};const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,u=d.blockSize}else l=r.offsetWidth,u=r.offsetHeight;e.value={width:l,height:u}});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else e.value=void 0}),{width:n,height:o}}function ng(t,e){const n=V(t);function o(s){return e[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=o(s)}}}function eu(t){const e=Zd("",1e3);return{search:e,handleTypeaheadSearch:(r,s)=>{e.value=e.value+r;{const i=Je(),a=s.map(f=>({...f,textValue:f.value?.textValue??f.ref.textContent?.trim()??""})),l=a.find(f=>f.ref===i),u=a.map(f=>f.textValue),c=og(u,e.value,l?.textValue),d=a.find(f=>f.textValue===c);return d&&d.ref.focus(),d?.ref}},resetTypeahead:()=>{e.value=""}}}function of(t,e){return t.map((n,o)=>t[(e+o)%t.length])}function og(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=of(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function Xw(t,e){const n=V({}),o=V("none"),r=V(t),s=t.value?"mounted":"unmounted";let i;const a=e.value?.ownerDocument.defaultView??Yi,{state:l,dispatch:u}=ng(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),c=b=>{if(jn){const g=new CustomEvent(b,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(g)}};pe(t,async(b,g)=>{const y=g!==b;if(await We(),y){const _=o.value,w=va(e.value);b?(u("MOUNT"),c("enter"),w==="none"&&c("after-enter")):w==="none"||w==="undefined"||n.value?.display==="none"?(u("UNMOUNT"),c("leave"),c("after-leave")):g&&_!==w?(u("ANIMATION_OUT"),c("leave")):(u("UNMOUNT"),c("after-leave"))}},{immediate:!0});const d=b=>{const g=va(e.value),y=g.includes(CSS.escape(b.animationName)),_=l.value==="mounted"?"enter":"leave";if(b.target===e.value&&y&&(c(`after-${_}`),u("ANIMATION_END"),!r.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",i=a?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=w)})}b.target===e.value&&g==="none"&&u("ANIMATION_END")},f=b=>{b.target===e.value&&(o.value=va(e.value))},p=pe(e,(b,g)=>{b?(n.value=getComputedStyle(b),b.addEventListener("animationstart",f),b.addEventListener("animationcancel",d),b.addEventListener("animationend",d)):(u("ANIMATION_END"),i!==void 0&&a?.clearTimeout(i),g?.removeEventListener("animationstart",f),g?.removeEventListener("animationcancel",d),g?.removeEventListener("animationend",d))},{immediate:!0}),m=pe(l,()=>{const b=va(e.value);o.value=l.value==="mounted"?b:"none"});return Dt(()=>{p(),m()}),{isPresent:q(()=>["mounted","unmountSuspended"].includes(l.value))}}function va(t){return t&&getComputedStyle(t).animationName||"none"}var Xt=F({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){const{present:o,forceMount:r}=Ie(t),s=V(),{isPresent:i}=Xw(o,s);n({present:i});let a=e.default({present:i.value});a=Yd(a||[]);const l=Nt();if(a&&a?.length>1){const u=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(c=>`  - ${c}`).join(`
`)].join(`
`))}return()=>r.value||o.value||i.value?xs(e.default({present:i.value})[0],{ref:u=>{const c=un(u);return typeof c?.hasAttribute>"u"||(c?.hasAttribute("data-reka-popper-content-wrapper")?s.value=c.firstElementChild:s.value=c),c}}):null}});const Nc=F({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const o=Yd(n.default()),r=o.findIndex(l=>l.type!==uo);if(r===-1)return o;const s=o[r];delete s.props?.ref;const i=s.props?X(e,s.props):e,a=or({...s,props:{}},i);return o.length===1?a:(o[r]=a,o)}}}),Qw=["area","img","input"],se=F({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const o=t.asChild?"template":t.as;return typeof o=="string"&&Qw.includes(o)?()=>xs(o,e):o!=="template"?()=>xs(t.as,e,{default:n.default}):()=>xs(Nc,e,{default:n.default})}});function sr(){const t=V(),e=q(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:un(t));return{primitiveElement:t,currentElement:e}}const[rg,Zw]=Ae("CollapsibleRoot");var Jw=F({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(t,{expose:e,emit:n}){const o=t,s=st(o,"open",n,{defaultValue:o.defaultOpen,passive:o.open===void 0}),{disabled:i,unmountOnHide:a}=Ie(o);return Zw({contentId:"",disabled:i,open:s,unmountOnHide:a,onOpenToggle:()=>{i.value||(s.value=!s.value)}}),e({open:s}),Z(),(l,u)=>(k(),D(h(se),{as:l.as,"as-child":o.asChild,"data-state":h(s)?"open":"closed","data-disabled":h(i)?"":void 0},{default:C(()=>[N(l.$slots,"default",{open:h(s)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),ex=Jw,tx=F({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(t,{emit:e}){const n=t,o=e,r=rg();r.contentId||=It(void 0,"reka-collapsible-content");const s=V(),{forwardRef:i,currentElement:a}=Z(),l=V(0),u=V(0),c=q(()=>r.open.value),d=V(c.value),f=V();pe(()=>[c.value,s.value?.present],async()=>{await We();const m=a.value;if(!m)return;f.value=f.value||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const v=m.getBoundingClientRect();u.value=v.height,l.value=v.width,d.value||(m.style.transitionDuration=f.value.transitionDuration,m.style.animationName=f.value.animationName)},{immediate:!0});const p=q(()=>d.value&&r.open.value);return Ee(()=>{requestAnimationFrame(()=>{d.value=!1})}),Tn(a,"beforematch",m=>{requestAnimationFrame(()=>{r.onOpenToggle(),o("contentFound")})}),(m,v)=>(k(),D(h(Xt),{ref_key:"presentRef",ref:s,present:m.forceMount||h(r).open.value,"force-mount":!0},{default:C(({present:b})=>[A(h(se),X(m.$attrs,{id:h(r).contentId,ref:h(i),"as-child":n.asChild,as:m.as,hidden:b?void 0:h(r).unmountOnHide.value?"":"until-found","data-state":p.value?void 0:h(r).open.value?"open":"closed","data-disabled":h(r).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${u.value}px`,"--reka-collapsible-content-width":`${l.value}px`}}),{default:C(()=>[!h(r).unmountOnHide.value||b?N(m.$slots,"default",{key:0}):ie("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),nx=tx,ox=F({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;Z();const n=rg();return(o,r)=>(k(),D(h(se),{type:o.as==="button"?"button":void 0,as:o.as,"as-child":e.asChild,"aria-controls":h(n).contentId,"aria-expanded":h(n).open.value,"data-state":h(n).open.value?"open":"closed","data-disabled":h(n).disabled?.value?"":void 0,disabled:h(n).disabled?.value,onClick:h(n).onOpenToggle},{default:C(()=>[N(o.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}}),rx=ox;function sx({type:t,defaultValue:e,modelValue:n}){const o=n||e;return n!==void 0||e!==void 0?Array.isArray(o)?"multiple":"single":t??"single"}function ix({type:t,defaultValue:e,modelValue:n}){return t||sx({type:t,defaultValue:e,modelValue:n})}function ax({type:t,defaultValue:e}){return e!==void 0?e:t==="single"?void 0:[]}function lx(t,e){const n=q(()=>ix(t)),o=st(t,"modelValue",e,{defaultValue:ax(t),passive:t.modelValue===void 0,deep:!0});function r(i){if(n.value==="single")o.value=Io(i,o.value)?void 0:i;else{const a=Array.isArray(o.value)?[...o.value||[]]:[o.value].filter(Boolean);if(Lc(a,i)){const l=a.findIndex(u=>Io(u,i));a.splice(l,1)}else a.push(i);o.value=a}}const s=q(()=>n.value==="single");return{modelValue:o,changeModelValue:r,isSingle:s}}const[tu,ux]=Ae("AccordionRoot");var cx=F({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{dir:r,disabled:s,unmountOnHide:i}=Ie(n),a=zn(r),{modelValue:l,changeModelValue:u,isSingle:c}=lx(n,o),{forwardRef:d,currentElement:f}=Z();return ux({disabled:s,direction:a,orientation:n.orientation,parentElement:f,isSingle:c,collapsible:n.collapsible,modelValue:l,changeModelValue:u,unmountOnHide:i}),(p,m)=>(k(),D(h(se),{ref:h(d),"as-child":p.asChild,as:p.as},{default:C(()=>[N(p.$slots,"default",{modelValue:h(l)})]),_:3},8,["as-child","as"]))}}),dx=cx,jc=(function(t){return t.Open="open",t.Closed="closed",t})(jc||{});const[rf,fx]=Ae("AccordionItem");var px=F({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,o=tu(),r=q(()=>o.isSingle.value?n.value===o.modelValue.value:Array.isArray(o.modelValue.value)&&o.modelValue.value.includes(n.value)),s=q(()=>o.disabled.value||n.disabled),i=q(()=>s.value?"":void 0),a=q(()=>r.value?jc.Open:jc.Closed);e({open:r,dataDisabled:i});const{currentRef:l,currentElement:u}=Z();fx({open:r,dataState:a,disabled:s,dataDisabled:i,triggerId:"",currentRef:l,currentElement:u,value:q(()=>n.value)});function c(d){const f=d.target;if(Array.from(o.parentElement.value?.querySelectorAll("[data-reka-collection-item]")??[]).findIndex(v=>v===f)===-1)return null;Wv(d,f,o.parentElement.value,{arrowKeyOptions:o.orientation,dir:o.direction.value,focus:!0})}return(d,f)=>(k(),D(h(ex),{"data-orientation":h(o).orientation,"data-disabled":i.value,"data-state":a.value,disabled:s.value,open:r.value,as:n.as,"as-child":n.asChild,"unmount-on-hide":n.unmountOnHide??h(o).unmountOnHide.value,onKeydown:_t(c,["up","down","left","right","home","end"])},{default:C(()=>[N(d.$slots,"default",{open:r.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),hx=px,mx=F({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=tu(),o=rf();return Z(),(r,s)=>(k(),D(h(nx),{role:"region","as-child":e.asChild,as:r.as,"force-mount":e.forceMount,"aria-labelledby":h(o).triggerId,"data-state":h(o).dataState.value,"data-disabled":h(o).dataDisabled.value,"data-orientation":h(n).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:s[0]||(s[0]=i=>h(n).changeModelValue(h(o).value.value))},{default:C(()=>[N(r.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),vx=mx,gx=F({__name:"AccordionHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h3"}},setup(t){const e=t,n=tu(),o=rf();return Z(),(r,s)=>(k(),D(h(se),{as:e.as,"as-child":e.asChild,"data-orientation":h(n).orientation,"data-state":h(o).dataState.value,"data-disabled":h(o).dataDisabled.value},{default:C(()=>[N(r.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),bx=gx,yx=F({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=tu(),o=rf();o.triggerId||=It(void 0,"reka-accordion-trigger");function r(){const s=n.isSingle.value&&o.open.value&&!n.collapsible;o.disabled.value||s||n.changeModelValue(o.value.value)}return(s,i)=>(k(),D(h(rx),{id:h(o).triggerId,ref:h(o).currentRef,"data-reka-collection-item":"",as:e.as,"as-child":e.asChild,"aria-disabled":h(o).disabled.value||void 0,"aria-expanded":h(o).open.value||!1,"data-disabled":h(o).dataDisabled.value,"data-orientation":h(n).orientation,"data-state":h(o).dataState.value,disabled:h(o).disabled.value,onClick:r},{default:C(()=>[N(s.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),_x=yx;const[po,wx]=Ae("DialogRoot");var xx=F({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=st(n,"open",e,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=V(),i=V(),{modal:a}=Ie(n);return wx({open:r,modal:a,openModal:()=>{r.value=!0},onOpenChange:l=>{r.value=l},onOpenToggle:()=>{r.value=!r.value},contentId:"",titleId:"",descriptionId:"",triggerElement:s,contentElement:i}),(l,u)=>N(l.$slots,"default",{open:h(r),close:()=>r.value=!1})}}),Sx=xx,Cx=F({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;Z();const n=po();return(o,r)=>(k(),D(h(se),X(e,{type:o.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>h(n).onOpenChange(!1))}),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["type"]))}}),Tx=Cx;const Ex="dismissableLayer.pointerDownOutside",Ax="dismissableLayer.focusOutside";function sg(t,e){const n=e.closest("[data-dismissable-layer]"),o=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),r=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(o===n||r.indexOf(o)<r.indexOf(n)))}function Mx(t,e,n=!0){const o=e?.value?.ownerDocument??globalThis?.document,r=V(!1),s=V(()=>{});return dt(i=>{if(!jn||!me(n))return;const a=async u=>{const c=u.target;if(!(!e?.value||!c)){if(sg(e.value,c)){r.value=!1;return}if(u.target&&!r.value){let f=function(){Ps(Ex,t,d)};const d={originalEvent:u};u.pointerType==="touch"?(o.removeEventListener("click",s.value),s.value=f,o.addEventListener("click",s.value,{once:!0})):f()}else o.removeEventListener("click",s.value);r.value=!1}},l=window.setTimeout(()=>{o.addEventListener("pointerdown",a)},0);i(()=>{window.clearTimeout(l),o.removeEventListener("pointerdown",a),o.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{me(n)&&(r.value=!0)}}}function Px(t,e,n=!0){const o=e?.value?.ownerDocument??globalThis?.document,r=V(!1);return dt(s=>{if(!jn||!me(n))return;const i=async a=>{if(!e?.value)return;await We(),await We();const l=a.target;!e.value||!l||sg(e.value,l)||a.target&&!r.value&&Ps(Ax,t,{originalEvent:a})};o.addEventListener("focusin",i),s(()=>o.removeEventListener("focusin",i))}),{onFocusCapture:()=>{me(n)&&(r.value=!0)},onBlurCapture:()=>{me(n)&&(r.value=!1)}}}const rn=gn({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var kx=F({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=Z(),i=q(()=>s.value?.ownerDocument??globalThis.document),a=q(()=>rn.layersRoot),l=q(()=>s.value?Array.from(a.value).indexOf(s.value):-1),u=q(()=>rn.layersWithOutsidePointerEventsDisabled.size>0),c=q(()=>{const p=Array.from(a.value),[m]=[...rn.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(m);return l.value>=v}),d=Mx(async p=>{const m=[...rn.branches].some(v=>v?.contains(p.target));!c.value||m||(o("pointerDownOutside",p),o("interactOutside",p),await We(),p.defaultPrevented||o("dismiss"))},s),f=Px(p=>{[...rn.branches].some(v=>v?.contains(p.target))||(o("focusOutside",p),o("interactOutside",p),p.defaultPrevented||o("dismiss"))},s);return tf("Escape",p=>{l.value===a.value.size-1&&(o("escapeKeyDown",p),p.defaultPrevented||o("dismiss"))}),dt(p=>{s.value&&(n.disableOutsidePointerEvents&&(rn.layersWithOutsidePointerEventsDisabled.size===0&&(rn.originalBodyPointerEvents=i.value.body.style.pointerEvents,i.value.body.style.pointerEvents="none"),rn.layersWithOutsidePointerEventsDisabled.add(s.value)),a.value.add(s.value),p(()=>{n.disableOutsidePointerEvents&&rn.layersWithOutsidePointerEventsDisabled.size===1&&!Ao(rn.originalBodyPointerEvents)&&(i.value.body.style.pointerEvents=rn.originalBodyPointerEvents)}))}),dt(p=>{p(()=>{s.value&&(a.value.delete(s.value),rn.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(p,m)=>(k(),D(h(se),{ref:h(r),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:pt({pointerEvents:u.value?c.value?"auto":"none":void 0}),onFocusCapture:h(f).onFocusCapture,onBlurCapture:h(f).onBlurCapture,onPointerdownCapture:h(d).onPointerDownCapture},{default:C(()=>[N(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Xi=kx,Rx=F({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n,currentElement:o}=Z();return Ee(()=>{rn.branches.add(o.value)}),Dt(()=>{rn.branches.delete(o.value)}),(r,s)=>(k(),D(h(se),X({ref:h(n)},e),{default:C(()=>[N(r.$slots,"default")]),_:3},16))}}),Ox=Rx;const Ix=mw(()=>V([]));function Dx(){const t=Ix();return{add(e){const n=t.value[0];e!==n&&n?.pause(),t.value=Ip(t.value,e),t.value.unshift(e)},remove(e){t.value=Ip(t.value,e),t.value[0]?.resume()}}}function Ip(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function Bx(t){return t.filter(e=>e.tagName!=="A")}const ju="focusScope.autoFocusOnMount",zu="focusScope.autoFocusOnUnmount",Dp={bubbles:!1,cancelable:!0};function Ja(t,{select:e=!1}={}){const n=Je();for(const o of t)if(Ho(o,{select:e}),Je()!==n)return!0}function qx(t){const e=sf(t),n=Bp(e,t),o=Bp(e.reverse(),t);return[n,o]}function sf(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Bp(t,e){for(const n of t)if(!Fx(n,{upTo:e}))return n}function Fx(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lx(t){return t instanceof HTMLInputElement&&"select"in t}function Ho(t,{select:e=!1}={}){if(t&&t.focus){const n=Je();t.focus({preventScroll:!0}),t!==n&&Lx(t)&&e&&t.select()}}var Vx=F({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,o=e,{currentRef:r,currentElement:s}=Z(),i=V(null),a=Dx(),l=gn({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});dt(c=>{if(!jn)return;const d=s.value;if(!n.trapped)return;function f(b){if(l.paused||!d)return;const g=b.target;d.contains(g)?i.value=g:Ho(i.value,{select:!0})}function p(b){if(l.paused||!d)return;const g=b.relatedTarget;g!==null&&(d.contains(g)||Ho(i.value,{select:!0}))}function m(b){d.contains(i.value)||Ho(d)}document.addEventListener("focusin",f),document.addEventListener("focusout",p);const v=new MutationObserver(m);d&&v.observe(d,{childList:!0,subtree:!0}),c(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",p),v.disconnect()})}),dt(async c=>{const d=s.value;if(await We(),!d)return;a.add(l);const f=Je();if(!d.contains(f)){const m=new CustomEvent(ju,Dp);d.addEventListener(ju,v=>o("mountAutoFocus",v)),d.dispatchEvent(m),m.defaultPrevented||(Ja(Bx(sf(d)),{select:!0}),Je()===f&&Ho(d))}c(()=>{d.removeEventListener(ju,b=>o("mountAutoFocus",b));const m=new CustomEvent(zu,Dp),v=b=>{o("unmountAutoFocus",b)};d.addEventListener(zu,v),d.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||Ho(f??document.body,{select:!0}),d.removeEventListener(zu,v),a.remove(l)},0)})});function u(c){if(!n.loop&&!n.trapped||l.paused)return;const d=c.key==="Tab"&&!c.altKey&&!c.ctrlKey&&!c.metaKey,f=Je();if(d&&f){const p=c.currentTarget,[m,v]=qx(p);m&&v?!c.shiftKey&&f===v?(c.preventDefault(),n.loop&&Ho(m,{select:!0})):c.shiftKey&&f===m&&(c.preventDefault(),n.loop&&Ho(v,{select:!0})):f===p&&c.preventDefault()}}return(c,d)=>(k(),D(h(se),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":c.asChild,as:c.as,onKeydown:u},{default:C(()=>[N(c.$slots,"default")]),_:3},8,["as-child","as"]))}}),nu=Vx;const $x="menu.itemSelect",zc=["Enter"," "],Nx=["ArrowDown","PageUp","Home"],ig=["ArrowUp","PageDown","End"],jx=[...Nx,...ig],zx={ltr:[...zc,"ArrowRight"],rtl:[...zc,"ArrowLeft"]},Ux={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function af(t){return t?"open":"closed"}function vl(t){return t==="indeterminate"}function lf(t){return vl(t)?"indeterminate":t?"checked":"unchecked"}function Uc(t){const e=Je();for(const n of t)if(n===e||(n.focus(),Je()!==e))return}function Hx(t,e){const{x:n,y:o}=t;let r=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s].x,l=e[s].y,u=e[i].x,c=e[i].y;l>o!=c>o&&n<(u-a)*(o-l)/(c-l)+a&&(r=!r)}return r}function Gx(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Hx(n,e)}function qi(t){return t.pointerType==="mouse"}var Wx=F({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=po(),{forwardRef:s,currentElement:i}=Z();return r.titleId||=It(void 0,"reka-dialog-title"),r.descriptionId||=It(void 0,"reka-dialog-description"),Ee(()=>{r.contentElement=i,Je()!==document.body&&(r.triggerElement.value=Je())}),(a,l)=>(k(),D(h(nu),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:l[5]||(l[5]=u=>o("openAutoFocus",u)),onUnmountAutoFocus:l[6]||(l[6]=u=>o("closeAutoFocus",u))},{default:C(()=>[A(h(Xi),X({id:h(r).contentId,ref:h(s),as:a.as,"as-child":a.asChild,"disable-outside-pointer-events":a.disableOutsidePointerEvents,role:"dialog","aria-describedby":h(r).descriptionId,"aria-labelledby":h(r).titleId,"data-state":h(af)(h(r).open.value)},a.$attrs,{onDismiss:l[0]||(l[0]=u=>h(r).onOpenChange(!1)),onEscapeKeyDown:l[1]||(l[1]=u=>o("escapeKeyDown",u)),onFocusOutside:l[2]||(l[2]=u=>o("focusOutside",u)),onInteractOutside:l[3]||(l[3]=u=>o("interactOutside",u)),onPointerDownOutside:l[4]||(l[4]=u=>o("pointerDownOutside",u))}),{default:C(()=>[N(a.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),ag=Wx,Kx=F({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=po(),s=Lr(o),{forwardRef:i,currentElement:a}=Z();return Jl(a),(l,u)=>(k(),D(ag,X({...n,...h(s)},{ref:h(i),"trap-focus":h(r).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:u[0]||(u[0]=c=>{c.defaultPrevented||(c.preventDefault(),h(r).triggerElement.value?.focus())}),onPointerDownOutside:u[1]||(u[1]=c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&c.preventDefault()}),onFocusOutside:u[2]||(u[2]=c=>{c.preventDefault()})}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["trap-focus"]))}}),Yx=Kx,Xx=F({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=Lr(e);Z();const s=po(),i=V(!1),a=V(!1);return(l,u)=>(k(),D(ag,X({...n,...h(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=c=>{c.defaultPrevented||(i.value||h(s).triggerElement.value?.focus(),c.preventDefault()),i.value=!1,a.value=!1}),onInteractOutside:u[1]||(u[1]=c=>{c.defaultPrevented||(i.value=!0,c.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const d=c.target;h(s).triggerElement.value?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.value&&c.preventDefault()})}),{default:C(()=>[N(l.$slots,"default")]),_:3},16))}}),Qx=Xx,Zx=F({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=po(),s=Lr(o),{forwardRef:i}=Z();return(a,l)=>(k(),D(h(Xt),{present:a.forceMount||h(r).open.value},{default:C(()=>[h(r).modal.value?(k(),D(Yx,X({key:0,ref:h(i)},{...n,...h(s),...a.$attrs}),{default:C(()=>[N(a.$slots,"default")]),_:3},16)):(k(),D(Qx,X({key:1,ref:h(i)},{...n,...h(s),...a.$attrs}),{default:C(()=>[N(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Jx=Zx,e1=F({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(t){const e=t;Z();const n=po();return(o,r)=>(k(),D(h(se),X(e,{id:h(n).descriptionId}),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["id"]))}}),t1=e1,n1=F({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=po();return Zl(!0),Z(),(n,o)=>(k(),D(h(se),{as:n.as,"as-child":n.asChild,"data-state":h(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:C(()=>[N(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),o1=n1,r1=F({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=po(),{forwardRef:n}=Z();return(o,r)=>h(e)?.modal.value?(k(),D(h(Xt),{key:0,present:o.forceMount||h(e).open.value},{default:C(()=>[A(o1,X(o.$attrs,{ref:h(n),as:o.as,"as-child":o.asChild}),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):ie("v-if",!0)}}),s1=r1,i1=F({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=ef();return(n,o)=>h(e)||n.forceMount?(k(),D($d,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[N(n.$slots,"default")],8,["to","disabled","defer"])):ie("v-if",!0)}}),Qi=i1,a1=F({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(Qi),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),l1=a1,u1=F({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const e=t,n=po();return Z(),(o,r)=>(k(),D(h(se),X(e,{id:h(n).titleId}),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["id"]))}}),c1=u1,d1=F({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=po(),{forwardRef:o,currentElement:r}=Z();return n.contentId||=It(void 0,"reka-dialog-content"),Ee(()=>{n.triggerElement.value=r.value}),(s,i)=>(k(),D(h(se),X(e,{ref:h(o),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":h(n).open.value||!1,"aria-controls":h(n).open.value?h(n).contentId:void 0,"data-state":h(n).open.value?"open":"closed",onClick:h(n).onOpenToggle}),{default:C(()=>[N(s.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),f1=d1;const qp="data-reka-collection-item";function ht(t={}){const{key:e="",isProvider:n=!1}=t,o=`${e}CollectionProvider`;let r;n?(r={collectionRef:V(),itemMap:V(new Map)},Ld(o,r)):r=Or(o);const s=(c=!1)=>{const d=r.collectionRef.value;if(!d)return[];const f=Array.from(d.querySelectorAll(`[${qp}]`)),m=Array.from(r.itemMap.value.values()).sort((v,b)=>f.indexOf(v.ref)-f.indexOf(b.ref));return c?m:m.filter(v=>v.ref.dataset.disabled!=="")},i=F({name:"CollectionSlot",setup(c,{slots:d}){const{primitiveElement:f,currentElement:p}=sr();return pe(p,()=>{r.collectionRef.value=p.value}),()=>xs(Nc,{ref:f},d)}}),a=F({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(c,{slots:d,attrs:f}){const{primitiveElement:p,currentElement:m}=sr();return dt(v=>{if(m.value){const b=Ul(m.value);r.itemMap.value.set(b,{ref:m.value,value:c.value}),v(()=>r.itemMap.value.delete(b))}}),()=>xs(Nc,{...f,[qp]:"",ref:p},d)}}),l=q(()=>Array.from(r.itemMap.value.values())),u=q(()=>r.itemMap.value.size);return{getItems:s,reactiveItems:l,itemMapSize:u,CollectionSlot:i,CollectionItem:a}}const p1="rovingFocusGroup.onEntryFocus",h1={bubbles:!1,cancelable:!0},uf={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m1(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function v1(t,e,n){const o=m1(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return uf[o]}function lg(t,e=!1){const n=Je();for(const o of t)if(o===n||(o.focus({preventScroll:e}),Je()!==n))return}function g1(t,e){return t.map((n,o)=>t[(e+o)%t.length])}const[b1,y1]=Ae("RovingFocusGroup");var _1=F({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:n}){const o=t,r=n,{loop:s,orientation:i,dir:a}=Ie(o),l=zn(a),u=st(o,"currentTabStopId",r,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),c=V(!1),d=V(!1),f=V(0),{getItems:p,CollectionSlot:m}=ht({isProvider:!0});function v(g){const y=!d.value;if(g.currentTarget&&g.target===g.currentTarget&&y&&!c.value){const _=new CustomEvent(p1,h1);if(g.currentTarget.dispatchEvent(_),r("entryFocus",_),!_.defaultPrevented){const w=p().map(E=>E.ref).filter(E=>E.dataset.disabled!==""),x=w.find(E=>E.getAttribute("data-active")===""),P=w.find(E=>E.getAttribute("data-highlighted")===""),T=w.find(E=>E.id===u.value),M=[x,P,T,...w].filter(Boolean);lg(M,o.preventScrollOnEntryFocus)}}d.value=!1}function b(){setTimeout(()=>{d.value=!1},1)}return e({getItems:p}),y1({loop:s,dir:l,orientation:i,currentTabStopId:u,onItemFocus:g=>{u.value=g},onItemShiftTab:()=>{c.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(g,y)=>(k(),D(h(m),null,{default:C(()=>[A(h(se),{tabindex:c.value||f.value===0?-1:0,"data-orientation":h(i),as:g.as,"as-child":g.asChild,dir:h(l),style:{outline:"none"},onMousedown:y[0]||(y[0]=_=>d.value=!0),onMouseup:b,onFocus:v,onBlur:y[1]||(y[1]=_=>c.value=!1)},{default:C(()=>[N(g.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),Is=_1,w1=F({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,n=b1(),o=It(),r=q(()=>e.tabStopId||o),s=q(()=>n.currentTabStopId.value===r.value),{getItems:i,CollectionItem:a}=ht();Ee(()=>{e.focusable&&n.onFocusableItemAdd()}),Dt(()=>{e.focusable&&n.onFocusableItemRemove()});function l(u){if(u.key==="Tab"&&u.shiftKey){n.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const c=v1(u,n.orientation.value,n.dir.value);if(c!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||!e.allowShiftKey&&u.shiftKey)return;u.preventDefault();let d=[...i().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(c==="last")d.reverse();else if(c==="prev"||c==="next"){c==="prev"&&d.reverse();const f=d.indexOf(u.currentTarget);d=n.loop.value?g1(d,f+1):d.slice(f+1)}We(()=>lg(d))}}return(u,c)=>(k(),D(h(a),null,{default:C(()=>[A(h(se),{tabindex:s.value?0:-1,"data-orientation":h(n).orientation.value,"data-active":u.active?"":void 0,"data-disabled":u.focusable?void 0:"",as:u.as,"as-child":u.asChild,onMousedown:c[0]||(c[0]=d=>{u.focusable?h(n).onItemFocus(r.value):d.preventDefault()}),onFocus:c[1]||(c[1]=d=>h(n).onItemFocus(r.value)),onKeydown:l},{default:C(()=>[N(u.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),Zi=w1,x1=F({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(k(),D(h(se),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:C(()=>[N(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Ds=x1,S1=F({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:o}=sr(),r=q(()=>e.checked??e.value);return pe(r,(s,i)=>{if(!o.value)return;const a=o.value,l=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(c&&s!==i){const d=new Event("input",{bubbles:!0}),f=new Event("change",{bubbles:!0});c.call(a,s),a.dispatchEvent(d),a.dispatchEvent(f)}}),(s,i)=>(k(),D(Ds,X({ref_key:"primitiveElement",ref:n},{...e,...s.$attrs},{as:"input"}),null,16))}}),Fp=S1,C1=F({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,n=q(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),o=q(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,s)=>typeof r=="object"?Object.entries(r).map(([i,a])=>({name:`${e.name}[${s}][${i}]`,value:a})):{name:`${e.name}[${s}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,s])=>({name:`${e.name}[${r}]`,value:s})):[]);return(r,s)=>(k(),Q(he,null,[ie(" We render single input if it's required "),n.value?(k(),D(Fp,X({key:r.name},{...e,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(k(!0),Q(he,{key:1},lt(o.value,i=>(k(),D(Fp,X({key:i.name},{ref_for:!0},{...e,...r.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))],2112))}}),Bs=C1;const[T1,E1]=Ae("CheckboxGroupRoot");var A1=F({__name:"CheckboxGroupRoot",props:{defaultValue:{type:Array,required:!1},modelValue:{type:Array,required:!1},rovingFocus:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1},as:{type:null,required:!1},asChild:{type:Boolean,required:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1},loop:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{disabled:r,rovingFocus:s,dir:i}=Ie(n),a=zn(i),{primitiveElement:l,currentElement:u}=sr(),c=Vr(u),d=st(n,"modelValue",o,{defaultValue:n.defaultValue??[],passive:n.modelValue===void 0}),f=q(()=>s.value?{loop:n.loop,dir:a.value,orientation:n.orientation}:{});return E1({modelValue:d,rovingFocus:s,disabled:r}),(p,m)=>(k(),D(fo(h(s)?h(Is):h(se)),X({ref_key:"primitiveElement",ref:l,as:p.as,"as-child":p.asChild},f.value),{default:C(()=>[N(p.$slots,"default"),h(c)&&p.name?(k(),D(h(Bs),{key:0,name:p.name,value:h(d),required:p.required},null,8,["name","value","required"])):ie("v-if",!0)]),_:3},16,["as","as-child"]))}}),ug=A1;function gl(t){return t==="indeterminate"}function cg(t){return gl(t)?"indeterminate":t?"checked":"unchecked"}const[M1,P1]=Ae("CheckboxRoot");var k1=F({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=Z(),i=T1(null),a=st(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),l=q(()=>i?.disabled.value||n.disabled),u=q(()=>Ao(i?.modelValue.value)?a.value==="indeterminate"?"indeterminate":a.value:Lc(i.modelValue.value,n.value));function c(){if(Ao(i?.modelValue.value))a.value=gl(a.value)?!0:!a.value;else{const p=[...i.modelValue.value||[]];if(Lc(p,n.value)){const m=p.findIndex(v=>Io(v,n.value));p.splice(m,1)}else p.push(n.value);i.modelValue.value=p}}const d=Vr(s),f=q(()=>n.id&&s.value?document.querySelector(`[for="${n.id}"]`)?.innerText:void 0);return P1({disabled:l,state:u}),(p,m)=>(k(),D(fo(h(i)?.rovingFocus.value?h(Zi):h(se)),X(p.$attrs,{id:p.id,ref:h(r),role:"checkbox","as-child":p.asChild,as:p.as,type:p.as==="button"?"button":void 0,"aria-checked":h(gl)(u.value)?"mixed":u.value,"aria-required":p.required,"aria-label":p.$attrs["aria-label"]||f.value,"data-state":h(cg)(u.value),"data-disabled":l.value?"":void 0,disabled:l.value,focusable:h(i)?.rovingFocus.value?!l.value:void 0,onKeydown:_t(Ve(()=>{},["prevent"]),["enter"]),onClick:c}),{default:C(()=>[N(p.$slots,"default",{modelValue:h(a),state:u.value}),h(d)&&p.name&&!h(i)?(k(),D(h(Bs),{key:0,type:"checkbox",checked:!!u.value,name:p.name,value:p.value,disabled:l.value,required:p.required},null,8,["checked","name","value","disabled","required"])):ie("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),dg=k1,R1=F({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const{forwardRef:e}=Z(),n=M1();return(o,r)=>(k(),D(h(Xt),{present:o.forceMount||h(gl)(h(n).state.value)||h(n).state.value===!0},{default:C(()=>[A(h(se),X({ref:h(e),"data-state":h(cg)(h(n).state.value),"data-disabled":h(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),O1=R1;const[fg,I1]=Ae("PopperRoot");var D1=F({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=V();return I1({anchor:e,onAnchorChange:n=>e.value=n}),(n,o)=>N(n.$slots,"default")}}),Ji=D1,B1=F({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n,currentElement:o}=Z(),r=fg();return Vd(()=>{r.onAnchorChange(e.reference??o.value)}),(s,i)=>(k(),D(h(se),{ref:h(n),as:s.as,"as-child":s.asChild},{default:C(()=>[N(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),ea=B1;const q1={key:0,d:"M0 0L6 6L12 0"},F1={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var L1=F({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(se),X(e,{width:n.width,height:n.height,viewBox:n.asChild?void 0:"0 0 12 6",preserveAspectRatio:n.asChild?void 0:"none"}),{default:C(()=>[N(n.$slots,"default",{},()=>[n.rounded?(k(),Q("path",F1)):(k(),Q("path",q1))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),V1=L1;function $1(t){return t!==null}function N1(t){return{name:"transformOrigin",options:t,fn(e){const{placement:n,rects:o,middlewareData:r}=e,i=r.arrow?.centerOffset!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[u,c]=Hc(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(r.arrow?.x??0)+a/2,p=(r.arrow?.y??0)+l/2;let m="",v="";return u==="bottom"?(m=i?d:`${f}px`,v=`${-l}px`):u==="top"?(m=i?d:`${f}px`,v=`${o.floating.height+l}px`):u==="right"?(m=`${-l}px`,v=i?d:`${p}px`):u==="left"&&(m=`${o.floating.width+l}px`,v=i?d:`${p}px`),{data:{x:m,y:v}}}}}function Hc(t){const[e,n="center"]=t.split("-");return[e,n]}const j1=["top","right","bottom","left"],ir=Math.min,fn=Math.max,bl=Math.round,ga=Math.floor,oo=t=>({x:t,y:t}),z1={left:"right",right:"left",bottom:"top",top:"bottom"},U1={start:"end",end:"start"};function Gc(t,e,n){return fn(t,ir(e,n))}function Do(t,e){return typeof t=="function"?t(e):t}function Bo(t){return t.split("-")[0]}function qs(t){return t.split("-")[1]}function cf(t){return t==="x"?"y":"x"}function df(t){return t==="y"?"height":"width"}const H1=new Set(["top","bottom"]);function no(t){return H1.has(Bo(t))?"y":"x"}function ff(t){return cf(no(t))}function G1(t,e,n){n===void 0&&(n=!1);const o=qs(t),r=ff(t),s=df(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=yl(i)),[i,yl(i)]}function W1(t){const e=yl(t);return[Wc(t),e,Wc(e)]}function Wc(t){return t.replace(/start|end/g,e=>U1[e])}const Lp=["left","right"],Vp=["right","left"],K1=["top","bottom"],Y1=["bottom","top"];function X1(t,e,n){switch(t){case"top":case"bottom":return n?e?Vp:Lp:e?Lp:Vp;case"left":case"right":return e?K1:Y1;default:return[]}}function Q1(t,e,n,o){const r=qs(t);let s=X1(Bo(t),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),e&&(s=s.concat(s.map(Wc)))),s}function yl(t){return t.replace(/left|right|bottom|top/g,e=>z1[e])}function Z1(t){return{top:0,right:0,bottom:0,left:0,...t}}function pg(t){return typeof t!="number"?Z1(t):{top:t,right:t,bottom:t,left:t}}function _l(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function $p(t,e,n){let{reference:o,floating:r}=t;const s=no(e),i=ff(e),a=df(i),l=Bo(e),u=s==="y",c=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,f=o[a]/2-r[a]/2;let p;switch(l){case"top":p={x:c,y:o.y-r.height};break;case"bottom":p={x:c,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:d};break;case"left":p={x:o.x-r.width,y:d};break;default:p={x:o.x,y:o.y}}switch(qs(e)){case"start":p[i]-=f*(n&&u?-1:1);break;case"end":p[i]+=f*(n&&u?-1:1);break}return p}const J1=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:r}),{x:c,y:d}=$p(u,o,l),f=o,p={},m=0;for(let v=0;v<a.length;v++){const{name:b,fn:g}=a[v],{x:y,y:_,data:w,reset:x}=await g({x:c,y:d,initialPlacement:o,placement:f,strategy:r,middlewareData:p,rects:u,platform:i,elements:{reference:t,floating:e}});c=y??c,d=_??d,p={...p,[b]:{...p[b],...w}},x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(u=x.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:r}):x.rects),{x:c,y:d}=$p(u,f,l)),v=-1)}return{x:c,y:d,placement:f,strategy:r,middlewareData:p}};async function Fi(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:s,rects:i,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Do(e,t),m=pg(p),b=a[f?d==="floating"?"reference":"floating":d],g=_l(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=_l(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(g.top-x.top+m.top)/w.y,bottom:(x.bottom-g.bottom+m.bottom)/w.y,left:(g.left-x.left+m.left)/w.x,right:(x.right-g.right+m.right)/w.x}}const eS=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:s,platform:i,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=Do(t,e)||{};if(u==null)return{};const d=pg(c),f={x:n,y:o},p=ff(r),m=df(p),v=await i.getDimensions(u),b=p==="y",g=b?"top":"left",y=b?"bottom":"right",_=b?"clientHeight":"clientWidth",w=s.reference[m]+s.reference[p]-f[p]-s.floating[m],x=f[p]-s.reference[p],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=P?P[_]:0;(!T||!await(i.isElement==null?void 0:i.isElement(P)))&&(T=a.floating[_]||s.floating[m]);const M=w/2-x/2,E=T/2-v[m]/2-1,S=ir(d[g],E),R=ir(d[y],E),O=S,I=T-v[m]-R,L=T/2-v[m]/2+M,z=Gc(O,L,I),W=!l.arrow&&qs(r)!=null&&L!==z&&s.reference[m]/2-(L<O?S:R)-v[m]/2<0,H=W?L<O?L-O:L-I:0;return{[p]:f[p]+H,data:{[p]:z,centerOffset:L-z-H,...W&&{alignmentOffset:H}},reset:W}}}),tS=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...b}=Do(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Bo(r),y=no(a),_=Bo(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=f||(_||!v?[yl(a)]:W1(a)),P=m!=="none";!f&&P&&x.push(...Q1(a,v,m,w));const T=[a,...x],M=await Fi(e,b),E=[];let S=((o=s.flip)==null?void 0:o.overflows)||[];if(c&&E.push(M[g]),d){const L=G1(r,i,w);E.push(M[L[0]],M[L[1]])}if(S=[...S,{placement:r,overflows:E}],!E.every(L=>L<=0)){var R,O;const L=(((R=s.flip)==null?void 0:R.index)||0)+1,z=T[L];if(z&&(!(d==="alignment"?y!==no(z):!1)||S.every(Y=>no(Y.placement)===y?Y.overflows[0]>0:!0)))return{data:{index:L,overflows:S},reset:{placement:z}};let W=(O=S.filter(H=>H.overflows[0]<=0).sort((H,Y)=>H.overflows[1]-Y.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(p){case"bestFit":{var I;const H=(I=S.filter(Y=>{if(P){const fe=no(Y.placement);return fe===y||fe==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(fe=>fe>0).reduce((fe,le)=>fe+le,0)]).sort((Y,fe)=>Y[1]-fe[1])[0])==null?void 0:I[0];H&&(W=H);break}case"initialPlacement":W=a;break}if(r!==W)return{reset:{placement:W}}}return{}}}};function Np(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jp(t){return j1.some(e=>t[e]>=0)}const nS=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=Do(t,e);switch(o){case"referenceHidden":{const s=await Fi(e,{...r,elementContext:"reference"}),i=Np(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:jp(i)}}}case"escaped":{const s=await Fi(e,{...r,altBoundary:!0}),i=Np(s,n.floating);return{data:{escapedOffsets:i,escaped:jp(i)}}}default:return{}}}}},hg=new Set(["left","top"]);async function oS(t,e){const{placement:n,platform:o,elements:r}=t,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=Bo(n),a=qs(n),l=no(n)==="y",u=hg.has(i)?-1:1,c=s&&l?-1:1,d=Do(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const rS=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:s,placement:i,middlewareData:a}=e,l=await oS(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:i}}}}},sS=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...l}=Do(t,e),u={x:n,y:o},c=await Fi(e,l),d=no(Bo(r)),f=cf(d);let p=u[f],m=u[d];if(s){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=p+c[b],_=p-c[g];p=Gc(y,p,_)}if(i){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=m+c[b],_=m-c[g];m=Gc(y,m,_)}const v=a.fn({...e,[f]:p,[d]:m});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[f]:s,[d]:i}}}}}},iS=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:s,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Do(t,e),c={x:n,y:o},d=no(r),f=cf(d);let p=c[f],m=c[d];const v=Do(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=f==="y"?"height":"width",w=s.reference[f]-s.floating[_]+b.mainAxis,x=s.reference[f]+s.reference[_]-b.mainAxis;p<w?p=w:p>x&&(p=x)}if(u){var g,y;const _=f==="y"?"width":"height",w=hg.has(Bo(r)),x=s.reference[d]-s.floating[_]+(w&&((g=i.offset)==null?void 0:g[d])||0)+(w?0:b.crossAxis),P=s.reference[d]+s.reference[_]+(w?0:((y=i.offset)==null?void 0:y[d])||0)-(w?b.crossAxis:0);m<x?m=x:m>P&&(m=P)}return{[f]:p,[d]:m}}}},aS=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:s,platform:i,elements:a}=e,{apply:l=()=>{},...u}=Do(t,e),c=await Fi(e,u),d=Bo(r),f=qs(r),p=no(r)==="y",{width:m,height:v}=s.floating;let b,g;d==="top"||d==="bottom"?(b=d,g=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,b=f==="end"?"top":"bottom");const y=v-c.top-c.bottom,_=m-c.left-c.right,w=ir(v-c[b],y),x=ir(m-c[g],_),P=!e.middlewareData.shift;let T=w,M=x;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=_),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(T=y),P&&!f){const S=fn(c.left,0),R=fn(c.right,0),O=fn(c.top,0),I=fn(c.bottom,0);p?M=m-2*(S!==0||R!==0?S+R:fn(c.left,c.right)):T=v-2*(O!==0||I!==0?O+I:fn(c.top,c.bottom))}await l({...e,availableWidth:M,availableHeight:T});const E=await i.getDimensions(a.floating);return m!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function ou(){return typeof window<"u"}function $r(t){return pf(t)?(t.nodeName||"").toLowerCase():"#document"}function vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ho(t){var e;return(e=(pf(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pf(t){return ou()?t instanceof Node||t instanceof vn(t).Node:!1}function Vn(t){return ou()?t instanceof Element||t instanceof vn(t).Element:!1}function co(t){return ou()?t instanceof HTMLElement||t instanceof vn(t).HTMLElement:!1}function zp(t){return!ou()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vn(t).ShadowRoot}const lS=new Set(["inline","contents"]);function ta(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!lS.has(r)}const uS=new Set(["table","td","th"]);function cS(t){return uS.has($r(t))}const dS=[":popover-open",":modal"];function ru(t){return dS.some(e=>{try{return t.matches(e)}catch{return!1}})}const fS=["transform","translate","scale","rotate","perspective"],pS=["transform","translate","scale","rotate","perspective","filter"],hS=["paint","layout","strict","content"];function hf(t){const e=mf(),n=Vn(t)?$n(t):t;return fS.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||pS.some(o=>(n.willChange||"").includes(o))||hS.some(o=>(n.contain||"").includes(o))}function mS(t){let e=ar(t);for(;co(e)&&!ks(e);){if(hf(e))return e;if(ru(e))return null;e=ar(e)}return null}function mf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vS=new Set(["html","body","#document"]);function ks(t){return vS.has($r(t))}function $n(t){return vn(t).getComputedStyle(t)}function su(t){return Vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ar(t){if($r(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zp(t)&&t.host||ho(t);return zp(e)?e.host:e}function mg(t){const e=ar(t);return ks(e)?t.ownerDocument?t.ownerDocument.body:t.body:co(e)&&ta(e)?e:mg(e)}function Li(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=mg(t),s=r===((o=t.ownerDocument)==null?void 0:o.body),i=vn(r);if(s){const a=Kc(i);return e.concat(i,i.visualViewport||[],ta(r)?r:[],a&&n?Li(a):[])}return e.concat(r,Li(r,[],n))}function Kc(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vg(t){const e=$n(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=co(t),s=r?t.offsetWidth:n,i=r?t.offsetHeight:o,a=bl(n)!==s||bl(o)!==i;return a&&(n=s,o=i),{width:n,height:o,$:a}}function vf(t){return Vn(t)?t:t.contextElement}function Ss(t){const e=vf(t);if(!co(e))return oo(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:s}=vg(e);let i=(s?bl(n.width):n.width)/o,a=(s?bl(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const gS=oo(0);function gg(t){const e=vn(t);return!mf()||!e.visualViewport?gS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bS(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vn(t)?!1:e}function Br(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=vf(t);let i=oo(1);e&&(o?Vn(o)&&(i=Ss(o)):i=Ss(t));const a=bS(s,n,o)?gg(s):oo(0);let l=(r.left+a.x)/i.x,u=(r.top+a.y)/i.y,c=r.width/i.x,d=r.height/i.y;if(s){const f=vn(s),p=o&&Vn(o)?vn(o):o;let m=f,v=Kc(m);for(;v&&o&&p!==m;){const b=Ss(v),g=v.getBoundingClientRect(),y=$n(v),_=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,w=g.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,d*=b.y,l+=_,u+=w,m=vn(v),v=Kc(m)}}return _l({width:c,height:d,x:l,y:u})}function iu(t,e){const n=su(t).scrollLeft;return e?e.left+n:Br(ho(t)).left+n}function bg(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-iu(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function yS(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const s=r==="fixed",i=ho(o),a=e?ru(e.floating):!1;if(o===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=oo(1);const c=oo(0),d=co(o);if((d||!d&&!s)&&(($r(o)!=="body"||ta(i))&&(l=su(o)),co(o))){const p=Br(o);u=Ss(o),c.x=p.x+o.clientLeft,c.y=p.y+o.clientTop}const f=i&&!d&&!s?bg(i,l):oo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function _S(t){return Array.from(t.getClientRects())}function wS(t){const e=ho(t),n=su(t),o=t.ownerDocument.body,r=fn(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=fn(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+iu(t);const a=-n.scrollTop;return $n(o).direction==="rtl"&&(i+=fn(e.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:a}}const Up=25;function xS(t,e){const n=vn(t),o=ho(t),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,a=0,l=0;if(r){s=r.width,i=r.height;const c=mf();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const u=iu(o);if(u<=0){const c=o.ownerDocument,d=c.body,f=getComputedStyle(d),p=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(o.clientWidth-d.clientWidth-p);m<=Up&&(s-=m)}else u<=Up&&(s+=u);return{width:s,height:i,x:a,y:l}}const SS=new Set(["absolute","fixed"]);function CS(t,e){const n=Br(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,s=co(t)?Ss(t):oo(1),i=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,u=o*s.y;return{width:i,height:a,x:l,y:u}}function Hp(t,e,n){let o;if(e==="viewport")o=xS(t,n);else if(e==="document")o=wS(ho(t));else if(Vn(e))o=CS(e,n);else{const r=gg(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return _l(o)}function yg(t,e){const n=ar(t);return n===e||!Vn(n)||ks(n)?!1:$n(n).position==="fixed"||yg(n,e)}function TS(t,e){const n=e.get(t);if(n)return n;let o=Li(t,[],!1).filter(a=>Vn(a)&&$r(a)!=="body"),r=null;const s=$n(t).position==="fixed";let i=s?ar(t):t;for(;Vn(i)&&!ks(i);){const a=$n(i),l=hf(i);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&SS.has(r.position)||ta(i)&&!l&&yg(t,i))?o=o.filter(c=>c!==i):r=a,i=ar(i)}return e.set(t,o),o}function ES(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const i=[...n==="clippingAncestors"?ru(e)?[]:TS(e,this._c):[].concat(n),o],a=i[0],l=i.reduce((u,c)=>{const d=Hp(e,c,r);return u.top=fn(d.top,u.top),u.right=ir(d.right,u.right),u.bottom=ir(d.bottom,u.bottom),u.left=fn(d.left,u.left),u},Hp(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function AS(t){const{width:e,height:n}=vg(t);return{width:e,height:n}}function MS(t,e,n){const o=co(e),r=ho(e),s=n==="fixed",i=Br(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=oo(0);function u(){l.x=iu(r)}if(o||!o&&!s)if(($r(e)!=="body"||ta(r))&&(a=su(e)),o){const p=Br(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else r&&u();s&&!o&&r&&u();const c=r&&!o&&!s?bg(r,a):oo(0),d=i.left+a.scrollLeft-l.x-c.x,f=i.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:i.width,height:i.height}}function Uu(t){return $n(t).position==="static"}function Gp(t,e){if(!co(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ho(t)===n&&(n=n.ownerDocument.body),n}function _g(t,e){const n=vn(t);if(ru(t))return n;if(!co(t)){let r=ar(t);for(;r&&!ks(r);){if(Vn(r)&&!Uu(r))return r;r=ar(r)}return n}let o=Gp(t,e);for(;o&&cS(o)&&Uu(o);)o=Gp(o,e);return o&&ks(o)&&Uu(o)&&!hf(o)?n:o||mS(t)||n}const PS=async function(t){const e=this.getOffsetParent||_g,n=this.getDimensions,o=await n(t.floating);return{reference:MS(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function kS(t){return $n(t).direction==="rtl"}const RS={convertOffsetParentRelativeRectToViewportRelativeRect:yS,getDocumentElement:ho,getClippingRect:ES,getOffsetParent:_g,getElementRects:PS,getClientRects:_S,getDimensions:AS,getScale:Ss,isElement:Vn,isRTL:kS};function wg(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OS(t,e){let n=null,o;const r=ho(t);function s(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:d,width:f,height:p}=u;if(a||e(),!f||!p)return;const m=ga(d),v=ga(r.clientWidth-(c+f)),b=ga(r.clientHeight-(d+p)),g=ga(c),_={rootMargin:-m+"px "+-v+"px "+-b+"px "+-g+"px",threshold:fn(0,ir(1,l))||1};let w=!0;function x(P){const T=P[0].intersectionRatio;if(T!==l){if(!w)return i();T?i(!1,T):o=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!wg(u,t.getBoundingClientRect())&&i(),w=!1}try{n=new IntersectionObserver(x,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(x,_)}n.observe(t)}return i(!0),s}function IS(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,u=vf(t),c=r||s?[...u?Li(u):[],...Li(e)]:[];c.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=u&&a?OS(u,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let m,v=l?Br(t):null;l&&b();function b(){const g=Br(t);v&&!wg(v,g)&&n(),v=g,m=requestAnimationFrame(b)}return n(),()=>{var g;c.forEach(y=>{r&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d?.(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const DS=rS,BS=sS,Wp=tS,qS=aS,FS=nS,LS=eS,VS=iS,$S=(t,e,n)=>{const o=new Map,r={platform:RS,...n},s={...r.platform,_c:o};return J1(t,e,{...r,platform:s})};function NS(t){return t!=null&&typeof t=="object"&&"$el"in t}function Yc(t){if(NS(t)){const e=t.$el;return pf(e)&&$r(e)==="#comment"?null:e}return t}function cs(t){return typeof t=="function"?t():h(t)}function jS(t){return{name:"arrow",options:t,fn(e){const n=Yc(cs(t.element));return n==null?{}:LS({element:n,padding:t.padding}).fn(e)}}}function xg(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kp(t,e){const n=xg(t);return Math.round(e*n)/n}function zS(t,e,n){n===void 0&&(n={});const o=n.whileElementsMounted,r=q(()=>{var T;return(T=cs(n.open))!=null?T:!0}),s=q(()=>cs(n.middleware)),i=q(()=>{var T;return(T=cs(n.placement))!=null?T:"bottom"}),a=q(()=>{var T;return(T=cs(n.strategy))!=null?T:"absolute"}),l=q(()=>{var T;return(T=cs(n.transform))!=null?T:!0}),u=q(()=>Yc(t.value)),c=q(()=>Yc(e.value)),d=V(0),f=V(0),p=V(a.value),m=V(i.value),v=je({}),b=V(!1),g=q(()=>{const T={position:p.value,left:"0",top:"0"};if(!c.value)return T;const M=Kp(c.value,d.value),E=Kp(c.value,f.value);return l.value?{...T,transform:"translate("+M+"px, "+E+"px)",...xg(c.value)>=1.5&&{willChange:"transform"}}:{position:p.value,left:M+"px",top:E+"px"}});let y;function _(){if(u.value==null||c.value==null)return;const T=r.value;$S(u.value,c.value,{middleware:s.value,placement:i.value,strategy:a.value}).then(M=>{d.value=M.x,f.value=M.y,p.value=M.strategy,m.value=M.placement,v.value=M.middlewareData,b.value=T!==!1})}function w(){typeof y=="function"&&(y(),y=void 0)}function x(){if(w(),o===void 0){_();return}if(u.value!=null&&c.value!=null){y=o(u.value,c.value,_);return}}function P(){r.value||(b.value=!1)}return pe([s,i,a,r],_,{flush:"sync"}),pe([u,c],x,{flush:"sync"}),pe(r,P,{flush:"sync"}),ji()&&zi(w),{x:Tr(d),y:Tr(f),strategy:Tr(p),placement:Tr(m),middlewareData:Tr(v),isPositioned:Tr(b),floatingStyles:g,update:_}}const Sg={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[US,HS]=Ae("PopperContent");var GS=F({inheritAttrs:!1,__name:"PopperContent",props:wv({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Sg}),emits:["placed"],setup(t,{emit:e}){const n=t,o=e,r=fg(),{forwardRef:s,currentElement:i}=Z(),a=V(),l=V(),{width:u,height:c}=tg(l),d=q(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),f=q(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),p=q(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=q(()=>({padding:f.value,boundary:p.value.filter($1),altBoundary:p.value.length>0})),v=q(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),b=pw(()=>[DS({mainAxis:n.sideOffset+c.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Wp({...m.value,...v.value}),n.avoidCollisions&&BS({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?VS():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&Wp({...m.value,...v.value}),qS({...m.value,apply:({elements:O,rects:I,availableWidth:L,availableHeight:z})=>{const{width:W,height:H}=I.reference,Y=O.floating.style;Y.setProperty("--reka-popper-available-width",`${L}px`),Y.setProperty("--reka-popper-available-height",`${z}px`),Y.setProperty("--reka-popper-anchor-width",`${W}px`),Y.setProperty("--reka-popper-anchor-height",`${H}px`)}}),l.value&&jS({element:l.value,padding:n.arrowPadding}),N1({arrowWidth:u.value,arrowHeight:c.value}),n.hideWhenDetached&&FS({strategy:"referenceHidden",...m.value})]),g=q(()=>n.reference??r.anchor.value),{floatingStyles:y,placement:_,isPositioned:w,middlewareData:x}=zS(g,a,{strategy:n.positionStrategy,placement:d,whileElementsMounted:(...O)=>IS(...O,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:b}),P=q(()=>Hc(_.value)[0]),T=q(()=>Hc(_.value)[1]);Vd(()=>{w.value&&o("placed")});const M=q(()=>x.value.arrow?.centerOffset!==0),E=V("");dt(()=>{i.value&&(E.value=window.getComputedStyle(i.value).zIndex)});const S=q(()=>x.value.arrow?.x??0),R=q(()=>x.value.arrow?.y??0);return HS({placedSide:P,onArrowChange:O=>l.value=O,arrowX:S,arrowY:R,shouldHideArrow:M}),(O,I)=>(k(),Q("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:pt({...h(y),transform:h(w)?h(y).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E.value,"--reka-popper-transform-origin":[h(x).transformOrigin?.x,h(x).transformOrigin?.y].join(" "),...h(x).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[A(h(se),X({ref:h(s)},O.$attrs,{"as-child":n.asChild,as:O.as,"data-side":P.value,"data-align":T.value,style:{animation:h(w)?void 0:"none"}}),{default:C(()=>[N(O.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),au=GS;const WS={top:"bottom",right:"left",bottom:"top",left:"right"};var KS=F({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const{forwardRef:e}=Z(),n=US(),o=q(()=>WS[n.placedSide.value]);return(r,s)=>(k(),Q("span",{ref:i=>{h(n).onArrowChange(i)},style:pt({position:"absolute",left:h(n).arrowX?.value?`${h(n).arrowX?.value}px`:void 0,top:h(n).arrowY?.value?`${h(n).arrowY?.value}px`:void 0,[o.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h(n).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h(n).placedSide.value],visibility:h(n).shouldHideArrow.value?"hidden":void 0})},[A(V1,X(r.$attrs,{ref:h(e),style:{display:"block"},as:r.as,"as-child":r.asChild,rounded:r.rounded,width:r.width,height:r.height}),{default:C(()=>[N(r.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),gf=KS;function Wr(t,e,n){let o=n.initialDeps??[],r;function s(){var i,a,l,u;let c;n.key&&((i=n.debug)!=null&&i.call(n))&&(c=Date.now());const d=t();if(!(d.length!==o.length||d.some((m,v)=>o[v]!==m)))return r;o=d;let p;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(p=Date.now()),r=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const m=Math.round((Date.now()-c)*100)/100,v=Math.round((Date.now()-p)*100)/100,b=v/16,g=(y,_)=>{for(y=String(y);y.length<_;)y=" "+y;return y};console.info(`%c ${g(v,5)} /${g(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n?.key)}return(u=n?.onChange)==null||u.call(n,r),r}return s.updateDeps=i=>{o=i},s}function Yp(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const YS=(t,e)=>Math.abs(t-e)<1.01,XS=(t,e,n)=>{let o;return function(...r){t.clearTimeout(o),o=t.setTimeout(()=>e.apply(this,r),n)}},Xp=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},QS=t=>t,ZS=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),o=[];for(let r=e;r<=n;r++)o.push(r);return o},JS=(t,e)=>{const n=t.scrollElement;if(!n)return;const o=t.targetWindow;if(!o)return;const r=i=>{const{width:a,height:l}=i;e({width:Math.round(a),height:Math.round(l)})};if(r(Xp(n)),!o.ResizeObserver)return()=>{};const s=new o.ResizeObserver(i=>{const a=()=>{const l=i[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){r({width:u.inlineSize,height:u.blockSize});return}}r(Xp(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},Qp={passive:!0},Zp=typeof window>"u"?!0:"onscrollend"in window,eC=(t,e)=>{const n=t.scrollElement;if(!n)return;const o=t.targetWindow;if(!o)return;let r=0;const s=t.options.useScrollendEvent&&Zp?()=>{}:XS(o,()=>{e(r,!1)},t.options.isScrollingResetDelay),i=c=>()=>{const{horizontal:d,isRtl:f}=t.options;r=d?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),e(r,c)},a=i(!0),l=i(!1);l(),n.addEventListener("scroll",a,Qp);const u=t.options.useScrollendEvent&&Zp;return u&&n.addEventListener("scrollend",l,Qp),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}},tC=(t,e,n)=>{if(e?.borderBoxSize){const o=e.borderBoxSize[0];if(o)return Math.round(o[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},nC=(t,{adjustments:e=0,behavior:n},o)=>{var r,s;const i=t+e;(s=(r=o.scrollElement)==null?void 0:r.scrollTo)==null||s.call(r,{[o.options.horizontal?"left":"top"]:i,behavior:n})};class oC{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const o=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(r=>{r.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var r;(r=o())==null||r.disconnect(),n=null},observe:r=>{var s;return(s=o())==null?void 0:s.observe(r,{box:"border-box"})},unobserve:r=>{var s;return(s=o())==null?void 0:s.unobserve(r)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([o,r])=>{typeof r>"u"&&delete n[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:QS,rangeExtractor:ZS,onChange:()=>{},measureElement:tC,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var o,r;(r=(o=this.options).onChange)==null||r.call(o,this,n)},this.maybeNotify=Wr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,o)=>{const r=new Map,s=new Map;for(let i=o-1;i>=0;i--){const a=n[i];if(r.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&r.set(a.lane,!0),r.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=Wr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,o,r,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:o,scrollMargin:r,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=Wr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:o,scrollMargin:r,getItemKey:s,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=s(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),p=f?f.end+this.options.gap:o+r,m=a.get(d),v=typeof m=="number"?m:this.options.estimateSize(c),b=p+v,g=f?f.lane:c%this.options.lanes;u[c]={index:c,start:p,size:v,end:b,key:d,lane:g}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Wr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,o,r,s)=>this.range=n.length>0&&o>0?rC({measurements:n,outerSize:o,scrollOffset:r,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Wr(()=>{let n=null,o=null;const r=this.calculateRange();return r&&(n=r.startIndex,o=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,o]},(n,o,r,s,i)=>s===null||i===null?[]:n({startIndex:s,endIndex:i,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const o=this.options.indexAttribute,r=n.getAttribute(o);return r?parseInt(r,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(n,o)=>{const r=this.indexFromElement(n),s=this.measurementsCache[r];if(!s)return;const i=s.key,a=this.elementsCache.get(i);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(r,this.options.measureElement(n,o,this))},this.resizeItem=(n,o)=>{const r=this.measurementsCache[n];if(!r)return;const s=this.itemSizeCache.get(r.key)??r.size,i=o-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,i,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,o)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((o,r)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(r))});return}this._measureElement(n,void 0)},this.getVirtualItems=Wr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,o)=>{const r=[];for(let s=0,i=n.length;s<i;s++){const a=n[s],l=o[a];r.push(l)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const o=this.getMeasurements();if(o.length!==0)return Yp(o[Cg(0,o.length-1,r=>Yp(o[r]).start,n)])},this.getOffsetForAlignment=(n,o,r=0)=>{const s=this.getSize(),i=this.getScrollOffset();o==="auto"&&(o=n>=i+s?"end":"start"),o==="center"?n+=(r-s)/2:o==="end"&&(n-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,o="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const r=this.measurementsCache[n];if(!r)return;const s=this.getSize(),i=this.getScrollOffset();if(o==="auto")if(r.end>=i+s-this.options.scrollPaddingEnd)o="end";else if(r.start<=i+this.options.scrollPaddingStart)o="start";else return[i,o];const a=o==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,o,r.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:o="start",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,o),{adjustments:void 0,behavior:r})},this.scrollToIndex=(n,{align:o="auto",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const i=10,a=u=>{if(!this.targetWindow)return;const c=this.getOffsetForIndex(n,u);if(!c){console.warn("Failed to get offset for index:",n);return}const[d,f]=c;this._scrollToOffset(d,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}YS(m[0],p)||l(f)})},l=u=>{this.targetWindow&&(s++,s<i?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${n} after ${i} attempts.`))};a(o)},this.scrollBy=(n,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var n;const o=this.getMeasurements();let r;if(o.length===0)r=this.options.paddingStart;else if(this.options.lanes===1)r=((n=o[o.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=o.length-1;for(;i>=0&&s.some(a=>a===null);){const a=o[i];s[a.lane]===null&&(s[a.lane]=a.end),i--}r=Math.max(...s.filter(a=>a!==null))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:o,behavior:r})=>{this.options.scrollToFn(n,{behavior:r,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Cg=(t,e,n,o)=>{for(;t<=e;){const r=(t+e)/2|0,s=n(r);if(s<o)t=r+1;else if(s>o)e=r-1;else return r}return t>0?t-1:0};function rC({measurements:t,outerSize:e,scrollOffset:n,lanes:o}){const r=t.length-1,s=l=>t[l].start;if(t.length<=o)return{startIndex:0,endIndex:r};let i=Cg(0,r,s,n),a=i;if(o===1)for(;a<r&&t[a].end<n+e;)a++;else if(o>1){const l=Array(o).fill(0);for(;a<r&&l.some(c=>c<n+e);){const c=t[a];l[c.lane]=c.end,a++}const u=Array(o).fill(n+e);for(;i>=0&&u.some(c=>c>=n);){const c=t[i];u[c.lane]=c.start,i--}i=Math.max(0,i-i%o),a=Math.min(r,a+(o-1-a%o))}return{startIndex:i,endIndex:a}}function sC(t){const e=new oC(h(t)),n=je(e),o=e._didMount();return pe(()=>h(t).getScrollElement(),r=>{r&&e._willUpdate()},{immediate:!0}),pe(()=>h(t),r=>{e.setOptions({...r,onChange:(s,i)=>{var a;Qo(n),(a=r.onChange)==null||a.call(r,s,i)}}),e._willUpdate(),Qo(n)},{immediate:!0}),zi(o),n}function iC(t){return sC(q(()=>({observeElementRect:JS,observeElementOffset:eC,scrollToFn:nC,...h(t)})))}function Tg(t){const e=Xl({nonce:V()});return q(()=>t?.value||e.nonce?.value)}var aC=F({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(ea),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),Eg=aC,lC=F({__name:"MenuArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(gf),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),uC=lC;function cC(){const t=V(!1);return Ee(()=>{Tn("keydown",()=>{t.value=!0},{capture:!0,passive:!0}),Tn(["pointerdown","pointermove"],()=>{t.value=!1},{capture:!0,passive:!0})}),t}const dC=Yv(cC),[Nr,Ag]=Ae(["MenuRoot","MenuSub"],"MenuContext"),[na,fC]=Ae("MenuRoot");var pC=F({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e,{modal:r,dir:s}=Ie(n),i=zn(s),a=st(n,"open",o),l=V(),u=dC();return Ag({open:a,onOpenChange:c=>{a.value=c},content:l,onContentChange:c=>{l.value=c}}),fC({onClose:()=>{a.value=!1},isUsingKeyboardRef:u,dir:i,modal:r}),(c,d)=>(k(),D(h(Ji),null,{default:C(()=>[N(c.$slots,"default")]),_:3}))}}),hC=pC;const[bf,mC]=Ae("MenuContent");var vC=F({__name:"MenuContentImpl",props:wv({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Sg}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(t,{emit:e}){const n=t,o=e,r=Nr(),s=na(),{trapFocus:i,disableOutsidePointerEvents:a,loop:l}=Ie(n);nf(),Zl(a.value);const u=V(""),c=V(0),d=V(0),f=V(null),p=V("right"),m=V(0),v=V(null),b=V(),{forwardRef:g,currentElement:y}=Z(),{handleTypeaheadSearch:_}=eu();pe(y,E=>{r.onContentChange(E)}),Dt(()=>{window.clearTimeout(c.value)});function w(E){return p.value===f.value?.side&&Gx(E,f.value?.area)}async function x(E){o("openAutoFocus",E),!E.defaultPrevented&&(E.preventDefault(),y.value?.focus({preventScroll:!0}))}function P(E){if(E.defaultPrevented)return;const R=E.target.closest("[data-reka-menu-content]")===E.currentTarget,O=E.ctrlKey||E.altKey||E.metaKey,I=E.key.length===1,L=Wv(E,Je(),y.value,{loop:l.value,arrowKeyOptions:"vertical",dir:s?.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(L)return L?.focus();if(E.code==="Space")return;const z=b.value?.getItems()??[];if(R&&(E.key==="Tab"&&E.preventDefault(),!O&&I&&_(E.key,z)),E.target!==y.value||!jx.includes(E.key))return;E.preventDefault();const W=[...z.map(H=>H.ref)];ig.includes(E.key)&&W.reverse(),Uc(W)}function T(E){E?.currentTarget?.contains?.(E.target)||(window.clearTimeout(c.value),u.value="")}function M(E){if(!qi(E))return;const S=E.target,R=m.value!==E.clientX;if(E?.currentTarget?.contains(S)&&R){const O=E.clientX>m.value?"right":"left";p.value=O,m.value=E.clientX}}return mC({onItemEnter:E=>!!w(E),onItemLeave:E=>{w(E)||(y.value?.focus(),v.value=null)},onTriggerLeave:E=>!!w(E),searchRef:u,pointerGraceTimerRef:d,onPointerGraceIntentChange:E=>{f.value=E}}),(E,S)=>(k(),D(h(nu),{"as-child":"",trapped:h(i),onMountAutoFocus:x,onUnmountAutoFocus:S[7]||(S[7]=R=>o("closeAutoFocus",R))},{default:C(()=>[A(h(Xi),{"as-child":"","disable-outside-pointer-events":h(a),onEscapeKeyDown:S[2]||(S[2]=R=>o("escapeKeyDown",R)),onPointerDownOutside:S[3]||(S[3]=R=>o("pointerDownOutside",R)),onFocusOutside:S[4]||(S[4]=R=>o("focusOutside",R)),onInteractOutside:S[5]||(S[5]=R=>o("interactOutside",R)),onDismiss:S[6]||(S[6]=R=>o("dismiss"))},{default:C(()=>[A(h(Is),{ref_key:"rovingFocusGroupRef",ref:b,"current-tab-stop-id":v.value,"onUpdate:currentTabStopId":S[0]||(S[0]=R=>v.value=R),"as-child":"",orientation:"vertical",dir:h(s).dir.value,loop:h(l),onEntryFocus:S[1]||(S[1]=R=>{o("entryFocus",R),h(s).isUsingKeyboardRef.value||R.preventDefault()})},{default:C(()=>[A(h(au),{ref:h(g),role:"menu",as:E.as,"as-child":E.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":h(af)(h(r).open.value),dir:h(s).dir.value,side:E.side,"side-offset":E.sideOffset,align:E.align,"align-offset":E.alignOffset,"avoid-collisions":E.avoidCollisions,"collision-boundary":E.collisionBoundary,"collision-padding":E.collisionPadding,"arrow-padding":E.arrowPadding,"prioritize-position":E.prioritizePosition,"position-strategy":E.positionStrategy,"update-position-strategy":E.updatePositionStrategy,sticky:E.sticky,"hide-when-detached":E.hideWhenDetached,reference:E.reference,onKeydown:P,onBlur:T,onPointermove:M},{default:C(()=>[N(E.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),yf=vC,gC=F({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=bf(),{forwardRef:o}=Z(),{CollectionItem:r}=ht(),s=V(!1);async function i(l){l.defaultPrevented||qi(l)&&(e.disabled?n.onItemLeave(l):n.onItemEnter(l)||l.currentTarget?.focus({preventScroll:!0}))}async function a(l){await We(),!l.defaultPrevented&&qi(l)&&n.onItemLeave(l)}return(l,u)=>(k(),D(h(r),{value:{textValue:l.textValue}},{default:C(()=>[A(h(se),X({ref:h(o),role:"menuitem",tabindex:"-1"},l.$attrs,{as:l.as,"as-child":l.asChild,"aria-disabled":l.disabled||void 0,"data-disabled":l.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:i,onPointerleave:a,onFocus:u[0]||(u[0]=async c=>{await We(),!(c.defaultPrevented||l.disabled)&&(s.value=!0)}),onBlur:u[1]||(u[1]=async c=>{await We(),!c.defaultPrevented&&(s.value=!1)})}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),Mg=gC,bC=F({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=Z(),i=na(),a=bf(),l=V(!1);async function u(){const c=s.value;if(!n.disabled&&c){const d=new CustomEvent($x,{bubbles:!0,cancelable:!0});o("select",d),await We(),d.defaultPrevented?l.value=!1:i.onClose()}}return(c,d)=>(k(),D(Mg,X(n,{ref:h(r),onClick:u,onPointerdown:d[0]||(d[0]=()=>{l.value=!0}),onPointerup:d[1]||(d[1]=async f=>{await We(),!f.defaultPrevented&&(l.value||f.currentTarget?.click())}),onKeydown:d[2]||(d[2]=async f=>{const p=h(a).searchRef.value!=="";c.disabled||p&&f.key===" "||h(zc).includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}),{default:C(()=>[N(c.$slots,"default")]),_:3},16))}}),_f=bC;const[yC,Pg]=Ae(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext");var _C=F({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=yC({modelValue:V(!1)});return(n,o)=>(k(),D(h(Xt),{present:n.forceMount||h(vl)(h(e).modelValue.value)||h(e).modelValue.value===!0},{default:C(()=>[A(h(se),{as:n.as,"as-child":n.asChild,"data-state":h(lf)(h(e).modelValue.value)},{default:C(()=>[N(n.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),wC=_C,xC=F({__name:"MenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1,default:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=Ql(n,["modelValue"]),s=cr(r),i=st(n,"modelValue",o);return Pg({modelValue:i}),(a,l)=>(k(),D(_f,X({role:"menuitemcheckbox"},h(s),{"aria-checked":h(vl)(h(i))?"mixed":h(i),"data-state":h(lf)(h(i)),onSelect:l[0]||(l[0]=async u=>{o("select",u),h(vl)(h(i))?i.value=!0:i.value=!h(i)})}),{default:C(()=>[N(a.$slots,"default",{modelValue:h(i)})]),_:3},16,["aria-checked","data-state"]))}}),SC=xC,CC=F({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=yn(n,o),s=Nr(),{forwardRef:i,currentElement:a}=Z();return Jl(a),(l,u)=>(k(),D(yf,X(h(r),{ref:h(i),"trap-focus":h(s).open.value,"disable-outside-pointer-events":h(s).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=c=>h(s).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=Ve(c=>o("focusOutside",c),["prevent"]))}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),TC=CC,EC=F({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=yn(t,e),s=Nr();return(i,a)=>(k(),D(yf,X(h(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:a[0]||(a[0]=l=>h(s).onOpenChange(!1))}),{default:C(()=>[N(i.$slots,"default")]),_:3},16))}}),AC=EC,MC=F({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=yn(t,e),s=Nr(),i=na();return(a,l)=>(k(),D(h(Xt),{present:a.forceMount||h(s).open.value},{default:C(()=>[h(i).modal.value?(k(),D(TC,qe(X({key:0},{...a.$attrs,...h(r)})),{default:C(()=>[N(a.$slots,"default")]),_:3},16)):(k(),D(AC,qe(X({key:1},{...a.$attrs,...h(r)})),{default:C(()=>[N(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),PC=MC,kC=F({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(se),X({role:"group"},e),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),kg=kC,RC=F({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t;return(n,o)=>(k(),D(h(se),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),OC=RC,IC=F({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(Qi),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),DC=IC;const[BC,qC]=Ae("MenuRadioGroup");var FC=F({__name:"MenuRadioGroup",props:{modelValue:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,r=Ql(n,["modelValue"]),s=cr(r),i=st(n,"modelValue",o);return qC({modelValue:i,onValueChange:a=>{i.value=a}}),(a,l)=>(k(),D(kg,qe(ze(h(s))),{default:C(()=>[N(a.$slots,"default",{modelValue:h(i)})]),_:3},16))}}),LC=FC,VC=F({__name:"MenuRadioItem",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,r=Ql(n,["value"]),s=cr(r),{value:i}=Ie(n),a=BC(),l=q(()=>a.modelValue.value===i?.value);return Pg({modelValue:l}),(u,c)=>(k(),D(_f,X({role:"menuitemradio"},h(s),{"aria-checked":l.value,"data-state":h(lf)(l.value),onSelect:c[0]||(c[0]=async d=>{o("select",d),h(a).onValueChange(h(i))})}),{default:C(()=>[N(u.$slots,"default")]),_:3},16,["aria-checked","data-state"]))}}),$C=VC,NC=F({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(se),X(e,{role:"separator","aria-orientation":"horizontal"}),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),jC=NC;const[Rg,zC]=Ae("MenuSub");var UC=F({__name:"MenuSub",props:{open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=st(n,"open",e,{defaultValue:!1,passive:n.open===void 0}),s=Nr(),i=V(),a=V();return dt(l=>{s?.open.value===!1&&(r.value=!1),l(()=>r.value=!1)}),Ag({open:r,onOpenChange:l=>{r.value=l},content:a,onContentChange:l=>{a.value=l}}),zC({triggerId:"",contentId:"",trigger:i,onTriggerChange:l=>{i.value=l}}),(l,u)=>(k(),D(h(Ji),null,{default:C(()=>[N(l.$slots,"default")]),_:3}))}}),HC=UC,GC=F({__name:"MenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1,default:!0},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=yn(t,e),s=Nr(),i=na(),a=Rg(),{forwardRef:l,currentElement:u}=Z();return a.contentId||=It(void 0,"reka-menu-sub-content"),(c,d)=>(k(),D(h(Xt),{present:c.forceMount||h(s).open.value},{default:C(()=>[A(yf,X(h(r),{id:h(a).contentId,ref:h(l),"aria-labelledby":h(a).triggerId,align:"start",side:h(i).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:d[0]||(d[0]=Ve(f=>{h(i).isUsingKeyboardRef.value&&h(u)?.focus()},["prevent"])),onCloseAutoFocus:d[1]||(d[1]=Ve(()=>{},["prevent"])),onFocusOutside:d[2]||(d[2]=f=>{f.defaultPrevented||f.target!==h(a).trigger.value&&h(s).onOpenChange(!1)}),onEscapeKeyDown:d[3]||(d[3]=f=>{h(i).onClose(),f.preventDefault()}),onKeydown:d[4]||(d[4]=f=>{const p=f.currentTarget?.contains(f.target),m=h(Ux)[h(i).dir.value].includes(f.key);p&&m&&(h(s).onOpenChange(!1),h(a).trigger.value?.focus(),f.preventDefault())})}),{default:C(()=>[N(c.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),WC=GC,KC=F({__name:"MenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Nr(),o=na(),r=Rg(),s=bf(),i=V(null);r.triggerId||=It(void 0,"reka-menu-sub-trigger");function a(){i.value&&window.clearTimeout(i.value),i.value=null}Dt(()=>{a()});function l(d){!qi(d)||s.onItemEnter(d)||!e.disabled&&!n.open.value&&!i.value&&(s.onPointerGraceIntentChange(null),i.value=window.setTimeout(()=>{n.onOpenChange(!0),a()},100))}async function u(d){if(!qi(d))return;a();const f=n.content.value?.getBoundingClientRect();if(f?.width){const p=n.content.value?.dataset.side,m=p==="right",v=m?-5:5,b=f[m?"left":"right"],g=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:b,y:f.top},{x:g,y:f.top},{x:g,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(s.pointerGraceTimerRef.value),s.pointerGraceTimerRef.value=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d))return;s.onPointerGraceIntentChange(null)}}async function c(d){const f=s.searchRef.value!=="";e.disabled||f&&d.key===" "||zx[o.dir.value].includes(d.key)&&(n.onOpenChange(!0),await We(),n.content.value?.focus(),d.preventDefault())}return(d,f)=>(k(),D(Eg,{"as-child":""},{default:C(()=>[A(Mg,X(e,{id:h(r).triggerId,ref:p=>{h(r)?.onTriggerChange(p?.$el)},"aria-haspopup":"menu","aria-expanded":h(n).open.value,"aria-controls":h(r).contentId,"data-state":h(af)(h(n).open.value),onClick:f[0]||(f[0]=async p=>{e.disabled||p.defaultPrevented||(p.currentTarget.focus(),h(n).open.value||h(n).onOpenChange(!0))}),onPointermove:l,onPointerleave:u,onKeydown:c}),{default:C(()=>[N(d.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),YC=KC;const[jr,XC]=Ae("PopoverRoot");var QC=F({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e,{modal:r}=Ie(n),s=st(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});return XC({contentId:"",triggerId:"",modal:r,open:s,onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},triggerElement:V(),hasCustomAnchor:V(!1)}),(l,u)=>(k(),D(h(Ji),null,{default:C(()=>[N(l.$slots,"default",{open:h(s),close:()=>s.value=!1})]),_:3}))}}),ZC=QC,JC=F({__name:"PopoverAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;Z();const n=jr();return vv(()=>{n.hasCustomAnchor.value=!0}),Dt(()=>{n.hasCustomAnchor.value=!1}),(o,r)=>(k(),D(h(ea),qe(ze(e)),{default:C(()=>[N(o.$slots,"default")]),_:3},16))}}),eT=JC,tT=F({__name:"PopoverArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(gf),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),nT=tT,oT=F({__name:"PopoverClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;Z();const n=jr();return(o,r)=>(k(),D(h(se),{type:o.as==="button"?"button":void 0,as:o.as,"as-child":e.asChild,onClick:r[0]||(r[0]=s=>h(n).onOpenChange(!1))},{default:C(()=>[N(o.$slots,"default")]),_:3},8,["type","as","as-child"]))}}),rT=oT,sT=F({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=cr(Ql(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=Z(),i=jr();return nf(),(a,l)=>(k(),D(h(nu),{"as-child":"",loop:"",trapped:a.trapFocus,onMountAutoFocus:l[5]||(l[5]=u=>o("openAutoFocus",u)),onUnmountAutoFocus:l[6]||(l[6]=u=>o("closeAutoFocus",u))},{default:C(()=>[A(h(Xi),{"as-child":"","disable-outside-pointer-events":a.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=u=>o("pointerDownOutside",u)),onInteractOutside:l[1]||(l[1]=u=>o("interactOutside",u)),onEscapeKeyDown:l[2]||(l[2]=u=>o("escapeKeyDown",u)),onFocusOutside:l[3]||(l[3]=u=>o("focusOutside",u)),onDismiss:l[4]||(l[4]=u=>h(i).onOpenChange(!1))},{default:C(()=>[A(h(au),X(h(r),{id:h(i).contentId,ref:h(s),"data-state":h(i).open.value?"open":"closed","aria-labelledby":h(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:C(()=>[N(a.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Og=sT,iT=F({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=jr(),s=V(!1);Zl(!0);const i=yn(n,o),{forwardRef:a,currentElement:l}=Z();return Jl(l),(u,c)=>(k(),D(Og,X(h(i),{ref:h(a),"trap-focus":h(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:c[0]||(c[0]=Ve(d=>{o("closeAutoFocus",d),s.value||h(r).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:c[1]||(c[1]=d=>{o("pointerDownOutside",d);const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;s.value=m}),onFocusOutside:c[2]||(c[2]=Ve(()=>{},["prevent"]))}),{default:C(()=>[N(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),aT=iT,lT=F({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=jr(),s=V(!1),i=V(!1),a=yn(n,o);return(l,u)=>(k(),D(Og,X(h(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=c=>{o("closeAutoFocus",c),c.defaultPrevented||(s.value||h(r).triggerElement.value?.focus(),c.preventDefault()),s.value=!1,i.value=!1}),onInteractOutside:u[1]||(u[1]=async c=>{o("interactOutside",c),c.defaultPrevented||(s.value=!0,c.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const d=c.target;h(r).triggerElement.value?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.value&&c.preventDefault()})}),{default:C(()=>[N(l.$slots,"default")]),_:3},16))}}),uT=lT,cT=F({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,o=e,r=jr(),s=yn(n,o),{forwardRef:i}=Z();return r.contentId||=It(void 0,"reka-popover-content"),(a,l)=>(k(),D(h(Xt),{present:a.forceMount||h(r).open.value},{default:C(()=>[h(r).modal.value?(k(),D(aT,X({key:0},h(s),{ref:h(i)}),{default:C(()=>[N(a.$slots,"default")]),_:3},16)):(k(),D(uT,X({key:1},h(s),{ref:h(i)}),{default:C(()=>[N(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),dT=cT,fT=F({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(Qi),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),pT=fT,hT=F({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=jr(),{forwardRef:o,currentElement:r}=Z();return n.triggerId||=It(void 0,"reka-popover-trigger"),Ee(()=>{n.triggerElement.value=r.value}),(s,i)=>(k(),D(fo(h(n).hasCustomAnchor.value?h(se):h(ea)),{"as-child":""},{default:C(()=>[A(h(se),{id:h(n).triggerId,ref:h(o),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":h(n).open.value,"aria-controls":h(n).contentId,"data-state":h(n).open.value?"open":"closed",as:s.as,"as-child":e.asChild,onClick:h(n).onOpenToggle},{default:C(()=>[N(s.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),mT=hT,vT=F({__name:"MenubarArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(uC),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),gT=vT,bT=F({__name:"MenubarCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(t,{emit:e}){const n=t,r=Lr(e);return Z(),(s,i)=>(k(),D(h(SC),qe(ze({...n,...h(r)})),{default:C(()=>[N(s.$slots,"default")]),_:3},16))}}),yT=bT;const[lu,_T]=Ae("MenubarRoot");var wT=F({__name:"MenubarRoot",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r}=Z(),{CollectionSlot:s}=ht({key:"Menubar",isProvider:!0}),i=st(n,"modelValue",o,{defaultValue:n.defaultValue??"",passive:n.modelValue===void 0}),a=V(null),{dir:l,loop:u}=Ie(n),c=zn(l);return _T({modelValue:i,dir:c,loop:u,onMenuOpen:d=>{i.value=d,a.value=d},onMenuClose:()=>{i.value=""},onMenuToggle:d=>{i.value=i.value?"":d,a.value=d}}),(d,f)=>(k(),D(h(s),null,{default:C(()=>[A(h(Is),{"current-tab-stop-id":a.value,"onUpdate:currentTabStopId":f[0]||(f[0]=p=>a.value=p),orientation:"horizontal",loop:h(u),dir:h(c),"as-child":""},{default:C(()=>[A(h(se),{ref:h(r),role:"menubar"},{default:C(()=>[N(d.$slots,"default",{modelValue:h(i)})]),_:3},512)]),_:3},8,["current-tab-stop-id","loop","dir"])]),_:3}))}}),xT=wT;const[wf,ST]=Ae("MenubarMenu");var CT=F({__name:"MenubarMenu",props:{value:{type:String,required:!1}},setup(t){const n=It(t.value),o=lu();Z();const r=V(),s=V(!1),i=q(()=>o.modelValue.value===n);return pe(i,()=>{i.value||(s.value=!1)}),ST({value:n,triggerElement:r,triggerId:n,contentId:"",wasKeyboardTriggerOpenRef:s}),(a,l)=>(k(),D(h(hC),{open:i.value,modal:!1,dir:h(o).dir.value,"onUpdate:open":l[0]||(l[0]=u=>{u||h(o).onMenuClose()})},{default:C(()=>[N(a.$slots,"default")]),_:3},8,["open","dir"]))}}),TT=CT,ET=F({__name:"MenubarContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const r=yn(t,e);Z();const s=lu(),i=wf();i.contentId||=It(void 0,"reka-menubar-content");const{getItems:a}=ht({key:"Menubar"}),l=V(!1);function u(c){const f=c.target.hasAttribute("data-reka-menubar-subtrigger"),m=(s.dir.value==="rtl"?"ArrowRight":"ArrowLeft")===c.key;if(!m&&f)return;let b=a().filter(_=>_.ref.dataset.disabled!=="").map(_=>_.ref.dataset.value);m&&b.reverse();const g=b.indexOf(i.value);b=s.loop.value?of(b,g+1):b.slice(g+1);const[y]=b;y&&s.onMenuOpen(y)}return(c,d)=>(k(),D(h(PC),X(h(r),{id:h(i).contentId,"data-reka-menubar-content":"","aria-labelledby":h(i).triggerId,style:{"--reka-menubar-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-menubar-content-available-width":"var(--reka-popper-available-width)","--reka-menubar-content-available-height":"var(--reka-popper-available-height)","--reka-menubar-trigger-width":"var(--reka-popper-anchor-width)","--reka-menubar-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:d[0]||(d[0]=f=>{!h(s).modelValue.value&&!l.value&&h(i).triggerElement.value?.focus(),l.value=!1,f.preventDefault()}),onFocusOutside:d[1]||(d[1]=f=>{const p=f.target;h(a)().filter(v=>v.ref.dataset.disabled!=="").some(v=>v.ref.contains(p))&&f.preventDefault()}),onInteractOutside:d[2]||(d[2]=f=>{l.value=!0}),onEntryFocus:d[3]||(d[3]=f=>{h(i).wasKeyboardTriggerOpenRef.value||f.preventDefault()}),onKeydown:_t(u,["arrow-right","arrow-left"])}),{default:C(()=>[N(c.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),AT=ET,MT=F({__name:"MenubarGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(kg),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),PT=MT,kT=F({__name:"MenubarItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,r=Lr(e);return Z(),(s,i)=>(k(),D(h(_f),qe(ze({...n,...h(r)})),{default:C(()=>[N(s.$slots,"default")]),_:3},16))}}),RT=kT,OT=F({__name:"MenubarItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(wC),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),IT=OT,DT=F({__name:"MenubarLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(OC),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),BT=DT,qT=F({__name:"MenubarPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(DC),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),FT=qT,LT=F({__name:"MenubarRadioGroup",props:{modelValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=Lr(e);return Z(),(s,i)=>(k(),D(h(LC),qe(ze({...n,...h(r)})),{default:C(()=>[N(s.$slots,"default")]),_:3},16))}}),VT=LT,$T=F({__name:"MenubarRadioItem",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const r=yn(t,e);return Z(),(s,i)=>(k(),D(h($C),qe(ze(h(r))),{default:C(()=>[N(s.$slots,"default")]),_:3},16))}}),NT=$T,jT=F({__name:"MenubarSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(jC),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),zT=jT,UT=F({__name:"MenubarSub",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e;Z();const r=st(n,"open",o,{defaultValue:n.defaultOpen??!1,passive:n.open===void 0});return(s,i)=>(k(),D(h(HC),{open:h(r),"onUpdate:open":i[0]||(i[0]=a=>Re(r)?r.value=a:null)},{default:C(()=>[N(s.$slots,"default",{open:h(r)})]),_:3},8,["open"]))}}),HT=UT,GT=F({__name:"MenubarSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=yn(t,e);Z();const{getItems:s}=ht({key:"Menubar"}),i=lu(),a=wf();function l(u){if(u.target.hasAttribute("data-reka-menubar-subtrigger"))return;let f=s().filter(v=>v.ref.dataset.disabled!=="").map(v=>v.ref.dataset.value);const p=f.indexOf(a.value);f=i.loop.value?of(f,p+1):f.slice(p+1);const[m]=f;m&&i.onMenuOpen(m)}return(u,c)=>(k(),D(h(WC),X(h(r),{"data-reka-menubar-content":"",style:{"--reka-menubar-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-menubar-content-available-width":"var(--reka-popper-available-width)","--reka-menubar-content-available-height":"var(--reka-popper-available-height)","--reka-menubar-trigger-width":"var(--reka-popper-anchor-width)","--reka-menubar-trigger-height":"var(--reka-popper-anchor-height)"},onKeydown:_t(l,["arrow-right"])}),{default:C(()=>[N(u.$slots,"default")]),_:3},16))}}),WT=GT,KT=F({__name:"MenubarSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(YC),X(e,{"data-reka-menubar-subtrigger":""}),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),YT=KT,XT=F({__name:"MenubarTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=lu(),n=wf(),{forwardRef:o,currentElement:r}=Z(),{CollectionItem:s}=ht({key:"Menubar"}),i=V(!1),a=q(()=>e.modelValue.value===n.value);return Ee(()=>{n.triggerElement=r}),(l,u)=>(k(),D(h(Zi),{"as-child":"",focusable:!l.disabled,"tab-stop-id":h(n).value},{default:C(()=>[A(h(s),null,{default:C(()=>[A(h(Eg),{"as-child":""},{default:C(()=>[A(h(se),{id:h(n).triggerId,ref:h(o),as:l.as,"as-child":l.asChild,type:l.as==="button"?"button":void 0,role:"menuitem","aria-haspopup":"menu","aria-expanded":a.value,"aria-controls":a.value?h(n).contentId:void 0,"data-highlighted":i.value?"":void 0,"data-state":a.value?"open":"closed","data-disabled":l.disabled?"":void 0,disabled:l.disabled,"data-value":h(n).value,onPointerdown:u[0]||(u[0]=c=>{!l.disabled&&c.button===0&&c.ctrlKey===!1&&(h(e).onMenuOpen(h(n).value),a.value||c.preventDefault())}),onPointerenter:u[1]||(u[1]=()=>{h(e).modelValue.value&&!a.value&&(h(e).onMenuOpen(h(n).value),h(r)?.focus())}),onKeydown:u[2]||(u[2]=_t(c=>{l.disabled||(["Enter"," "].includes(c.key)&&h(e).onMenuToggle(h(n).value),c.key==="ArrowDown"&&h(e).onMenuOpen(h(n).value),["Enter"," ","ArrowDown"].includes(c.key)&&(h(n).wasKeyboardTriggerOpenRef.value=!0,c.preventDefault()))},["enter","space","arrow-down"])),onFocus:u[3]||(u[3]=c=>i.value=!0),onBlur:u[4]||(u[4]=c=>i.value=!1)},{default:C(()=>[N(l.$slots,"default")]),_:3},8,["id","as","as-child","type","aria-expanded","aria-controls","data-highlighted","data-state","data-disabled","disabled","data-value"])]),_:3})]),_:3})]),_:3},8,["focusable","tab-stop-id"]))}}),QT=XT;let Hu=new Map,Xc=!1;try{Xc=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let wl=!1;try{wl=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const Ig={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class Dg{format(e){let n="";if(!Xc&&this.options.signDisplay!=null?n=JT(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!wl){var o;let{unit:r,unitDisplay:s="short",locale:i}=this.resolvedOptions();if(!r)return n;let a=(o=Ig[r])===null||o===void 0?void 0:o[s];n+=a[i]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)}  ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let o=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(n);return[...o.map(s=>({...s,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...r.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!Xc&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!wl&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=ZT(e,n),this.options=n}}function ZT(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!wl){var o;let{unit:i,unitDisplay:a="short"}=e;if(!i)throw new Error('unit option must be provided with style: "unit"');if(!(!((o=Ig[i])===null||o===void 0)&&o[a]))throw new Error(`Unsupported unit ${i} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let r=t+(e?Object.entries(e).sort((i,a)=>i[0]<a[0]?-1:1).join():"");if(Hu.has(r))return Hu.get(r);let s=new Intl.NumberFormat(t,e);return Hu.set(r,s),s}function JT(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let o=!1;if(e==="always"?o=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):o=n>0),o){let r=t.format(-n),s=t.format(n),i=r.replace(s,"").replace(/\u200e|\u061C/,"");return[...i].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(s,"!!!").replace(i,"+").replace("!!!",s)}else return t.format(n)}}const eE=new RegExp("^.*\\(.*\\).*$"),tE=["latn","arab","hanidec","deva","beng","fullwide"];class Bg{parse(e){return Gu(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,o){return Gu(this.locale,this.options,e).isValidPartialNumber(e,n,o)}getNumberingSystem(e){return Gu(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const Jp=new Map;function Gu(t,e,n){let o=eh(t,e);if(!t.includes("-nu-")&&!o.isValidPartialNumber(n)){for(let r of tE)if(r!==o.options.numberingSystem){let s=eh(t+(t.includes("-u-")?"-nu-":"-u-nu-")+r,e);if(s.isValidPartialNumber(n))return s}}return o}function eh(t,e){let n=t+(e?Object.entries(e).sort((r,s)=>r[0]<s[0]?-1:1).join():""),o=Jp.get(n);return o||(o=new nE(t,e),Jp.set(n,o)),o}class nE{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=Kr(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let i=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,i>-1&&(n=`-${n}`)}let o=n?+n:NaN;if(isNaN(o))return NaN;if(this.options.style==="percent"){var r,s;let i={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new Bg(this.locale,i).parse(new Dg(this.locale,i).format(o))}return this.options.currencySign==="accounting"&&eE.test(e)&&(o=-1*o),o}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("",this.symbols.decimal)),this.symbols.group&&(e=Kr(e,".",this.symbols.group))),this.symbols.group===""&&e.includes("'")&&(e=Kr(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=Kr(e," ",this.symbols.group),e=Kr(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,o=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&o>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=Kr(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=rE(e,this.formatter,this.options,n);var o,r;this.options.style==="percent"&&(((o=this.options.minimumFractionDigits)!==null&&o!==void 0?o:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const th=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),oE=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function rE(t,e,n,o){var r,s,i,a;let l=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),u=l.formatToParts(-10000.111),c=l.formatToParts(10000.111),d=oE.map(S=>l.formatToParts(S));var f;let p=(f=(r=u.find(S=>S.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&f!==void 0?f:"-",m=(s=c.find(S=>S.type==="plusSign"))===null||s===void 0?void 0:s.value;!m&&(o?.signDisplay==="exceptZero"||o?.signDisplay==="always")&&(m="+");let b=(i=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(S=>S.type==="decimal"))===null||i===void 0?void 0:i.value,g=(a=u.find(S=>S.type==="group"))===null||a===void 0?void 0:a.value,y=u.filter(S=>!th.has(S.type)).map(S=>nh(S.value)),_=d.flatMap(S=>S.filter(R=>!th.has(R.type)).map(R=>nh(R.value))),w=[...new Set([...y,..._])].sort((S,R)=>R.length-S.length),x=w.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${w.join("|")}|[\\p{White_Space}]`,"gu"),P=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),T=new Map(P.map((S,R)=>[S,R])),M=new RegExp(`[${P.join("")}]`,"g");return{minusSign:p,plusSign:m,decimal:b,group:g,literals:x,numeral:M,index:S=>String(T.get(S))}}function Kr(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function nh(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qg(t){const{disabled:e}=t,n=V(),o=Xd(),r=()=>window.clearTimeout(n.value),s=f=>{r(),!e.value&&(o.trigger(),n.value=window.setTimeout(()=>{s(60)},f))},i=()=>{s(400)},a=()=>{r()},l=V(!1),u=q(()=>un(t.target)),c=f=>{f.button!==0||l.value||(f.preventDefault(),l.value=!0,i())},d=()=>{l.value=!1,a()};return jn&&(Tn(u||window,"pointerdown",c),Tn(window,"pointerup",d),Tn(window,"pointercancel",d)),{isPressed:l,onTrigger:o.on}}function oh(t,e=V({})){return Qd(()=>new Dg(t.value,e.value))}function sE(t,e=V({})){return Qd(()=>new Bg(t.value,e.value))}function rh(t,e,n){let o=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){const r=e.toString().split("."),s=n.toString().split("."),i=r[1]&&r[1].length||0,a=s[1]&&s[1].length||0,l=10**Math.max(i,a);e=Math.round(e*l),n=Math.round(n*l),o=t==="+"?e+n:e-n,o/=l}return o}const[xf,iE]=Ae("NumberFieldRoot");var aE=F({inheritAttrs:!1,__name:"NumberFieldRoot",props:{defaultValue:{type:Number,required:!1,default:void 0},modelValue:{type:[Number,null],required:!1},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1,default:1},stepSnapping:{type:Boolean,required:!1,default:!0},formatOptions:{type:null,required:!1},locale:{type:String,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},disableWheelChange:{type:Boolean,required:!1},invertWheelChange:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{disabled:r,readonly:s,disableWheelChange:i,invertWheelChange:a,min:l,max:u,step:c,stepSnapping:d,formatOptions:f,id:p,locale:m}=Ie(n),v=st(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),{primitiveElement:b,currentElement:g}=sr(),y=Kw(m),_=Vr(g),w=V(),x=q(()=>!Ao(v.value)&&(Y(v.value)===l.value||l.value&&!isNaN(v.value)?rh("-",v.value,c.value)<l.value:!1)),P=q(()=>!Ao(v.value)&&(Y(v.value)===u.value||u.value&&!isNaN(v.value)?rh("+",v.value,c.value)>u.value:!1));function T(le,we=1){if(w.value?.focus(),n.disabled||n.readonly)return;const Se=O.parse(w.value?.value??"");isNaN(Se)?v.value=l.value??0:le==="increase"?v.value=Y(Se+(c.value??1)*we):v.value=Y(Se-(c.value??1)*we)}function M(le=1){T("increase",le)}function E(le=1){T("decrease",le)}function S(le){le==="min"&&l.value!==void 0?v.value=Y(l.value):le==="max"&&u.value!==void 0&&(v.value=Y(u.value))}const R=oh(y,f),O=sE(y,f),I=q(()=>R.resolvedOptions().maximumFractionDigits>0?"decimal":"numeric"),L=oh(y,f),z=q(()=>Ao(v.value)||isNaN(v.value)?"":L.format(v.value));function W(le){return O.isValidPartialNumber(le,l.value,u.value)}function H(le){w.value&&(w.value.value=le)}function Y(le){let we;return c.value===void 0||isNaN(c.value)||!d.value?we=Ms(le,l.value,u.value):we=dw(le,l.value,u.value,c.value),we=O.parse(R.format(we)),we}function fe(le){const we=O.parse(le);return v.value=isNaN(we)?void 0:Y(we),le.length?(isNaN(we),H(z.value)):H(le)}return iE({modelValue:v,handleDecrease:E,handleIncrease:M,handleMinMaxValue:S,inputMode:I,inputEl:w,onInputElement:le=>w.value=le,textValue:z,validate:W,applyInputValue:fe,disabled:r,readonly:s,disableWheelChange:i,invertWheelChange:a,max:u,min:l,isDecreaseDisabled:x,isIncreaseDisabled:P,id:p}),(le,we)=>(k(),D(h(se),X(le.$attrs,{ref_key:"primitiveElement",ref:b,role:"group",as:le.as,"as-child":le.asChild,"data-disabled":h(r)?"":void 0,"data-readonly":h(s)?"":void 0}),{default:C(()=>[N(le.$slots,"default",{modelValue:h(v),textValue:z.value}),h(_)&&le.name?(k(),D(h(Bs),{key:0,type:"text",value:h(v),name:le.name,disabled:h(r),readonly:h(s),required:le.required},null,8,["value","name","disabled","readonly","required"])):ie("v-if",!0)]),_:3},16,["as","as-child","data-disabled","data-readonly"]))}}),lE=aE,uE=F({__name:"NumberFieldDecrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=xf(),o=q(()=>n.disabled?.value||n.readonly.value||e.disabled||n.isDecreaseDisabled.value),{primitiveElement:r,currentElement:s}=sr(),{isPressed:i,onTrigger:a}=qg({target:s,disabled:o});return a(()=>{n.handleDecrease()}),(l,u)=>(k(),D(h(se),X(e,{ref_key:"primitiveElement",ref:r,tabindex:"-1","aria-label":"Decrease",type:l.as==="button"?"button":void 0,style:{userSelect:h(i)?"none":void 0},disabled:o.value?"":void 0,"data-disabled":o.value?"":void 0,"data-pressed":h(i)?"true":void 0,onContextmenu:u[0]||(u[0]=Ve(()=>{},["prevent"]))}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["type","style","disabled","data-disabled","data-pressed"]))}}),cE=uE,dE=F({__name:"NumberFieldIncrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=xf(),o=q(()=>n.disabled?.value||n.readonly.value||e.disabled||n.isIncreaseDisabled.value),{primitiveElement:r,currentElement:s}=sr(),{isPressed:i,onTrigger:a}=qg({target:s,disabled:o});return a(()=>{n.handleIncrease()}),(l,u)=>(k(),D(h(se),X(e,{ref_key:"primitiveElement",ref:r,tabindex:"-1","aria-label":"Increase",type:l.as==="button"?"button":void 0,style:{userSelect:h(i)?"none":void 0},disabled:o.value?"":void 0,"data-disabled":o.value?"":void 0,"data-pressed":h(i)?"true":void 0,onContextmenu:u[0]||(u[0]=Ve(()=>{},["prevent"]))}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["type","style","disabled","data-disabled","data-pressed"]))}}),fE=dE,pE=F({__name:"NumberFieldInput",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(t){const e=t,{primitiveElement:n,currentElement:o}=sr(),r=xf();function s(l){r.disableWheelChange.value||l.target===Je()&&(Math.abs(l.deltaY)<=Math.abs(l.deltaX)||(l.preventDefault(),l.deltaY>0?r.invertWheelChange.value?r.handleDecrease():r.handleIncrease():l.deltaY<0&&(r.invertWheelChange.value?r.handleIncrease():r.handleDecrease())))}Ee(()=>{r.onInputElement(o.value)});const i=V(r.textValue.value);pe(()=>r.textValue.value,()=>{i.value=r.textValue.value},{immediate:!0,deep:!0});function a(){requestAnimationFrame(()=>{i.value=r.textValue.value})}return(l,u)=>(k(),D(h(se),X(e,{id:h(r).id.value,ref_key:"primitiveElement",ref:n,value:i.value,role:"spinbutton",type:"text",tabindex:"0",inputmode:h(r).inputMode.value,disabled:h(r).disabled.value?"":void 0,"data-disabled":h(r).disabled.value?"":void 0,readonly:h(r).readonly.value?"":void 0,"data-readonly":h(r).readonly.value?"":void 0,autocomplete:"off",autocorrect:"off",spellcheck:"false","aria-roledescription":"Number field","aria-valuenow":h(r).modelValue.value,"aria-valuemin":h(r).min.value,"aria-valuemax":h(r).max.value,onKeydown:[u[0]||(u[0]=_t(Ve(c=>h(r).handleIncrease(),["prevent"]),["up"])),u[1]||(u[1]=_t(Ve(c=>h(r).handleDecrease(),["prevent"]),["down"])),u[2]||(u[2]=_t(Ve(c=>h(r).handleIncrease(10),["prevent"]),["page-up"])),u[3]||(u[3]=_t(Ve(c=>h(r).handleDecrease(10),["prevent"]),["page-down"])),u[4]||(u[4]=_t(Ve(c=>h(r).handleMinMaxValue("min"),["prevent"]),["home"])),u[5]||(u[5]=_t(Ve(c=>h(r).handleMinMaxValue("max"),["prevent"]),["end"])),u[8]||(u[8]=_t(c=>h(r).applyInputValue(c.target?.value),["enter"]))],onWheel:s,onBeforeinput:u[6]||(u[6]=c=>{const d=c.target;let f=d.value.slice(0,d.selectionStart??void 0)+(c.data??"")+d.value.slice(d.selectionEnd??void 0);h(r).validate(f)||c.preventDefault()}),onInput:u[7]||(u[7]=c=>{const d=c.target;i.value=d.value}),onChange:a,onBlur:u[9]||(u[9]=c=>h(r).applyInputValue(c.target?.value))}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["id","value","inputmode","disabled","data-disabled","readonly","data-readonly","aria-valuenow","aria-valuemin","aria-valuemax"]))}}),hE=pE;const mE="radio.select";function vE(t,e,n){Ps(mE,n,{originalEvent:t,value:e})}var gE=F({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(t,{emit:e}){const n=t,o=e,r=st(n,"checked",o,{passive:n.checked===void 0}),{value:s}=Ie(n),{forwardRef:i,currentElement:a}=Z(),l=Vr(a),u=q(()=>n.id&&a.value?document.querySelector(`[for="${n.id}"]`)?.innerText??n.value:void 0);function c(d){n.disabled||vE(d,n.value,f=>{o("select",f),!f?.defaultPrevented&&(r.value=!0,l.value&&f.stopPropagation())})}return(d,f)=>(k(),D(h(se),X(d.$attrs,{id:d.id,ref:h(i),role:"radio",type:d.as==="button"?"button":void 0,as:d.as,"aria-checked":h(r),"aria-label":u.value,"as-child":d.asChild,disabled:d.disabled?"":void 0,"data-state":h(r)?"checked":"unchecked","data-disabled":d.disabled?"":void 0,value:h(s),required:d.required,name:d.name,onClick:Ve(c,["stop"])}),{default:C(()=>[N(d.$slots,"default",{checked:h(r)}),h(l)&&d.name?(k(),D(h(Bs),{key:0,type:"radio",tabindex:"-1",value:h(s),checked:!!h(r),name:d.name,disabled:d.disabled,required:d.required},null,8,["value","checked","name","disabled","required"])):ie("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),bE=gE;const[yE,_E]=Ae("RadioGroupRoot");var wE=F({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=Z(),i=st(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),{disabled:a,loop:l,orientation:u,name:c,required:d,dir:f}=Ie(n),p=zn(f),m=Vr(s);return _E({modelValue:i,changeModelValue:v=>{i.value=v},disabled:a,loop:l,orientation:u,name:c?.value,required:d}),(v,b)=>(k(),D(h(Is),{"as-child":"",orientation:h(u),dir:h(p),loop:h(l)},{default:C(()=>[A(h(se),{ref:h(r),role:"radiogroup","data-disabled":h(a)?"":void 0,"as-child":v.asChild,as:v.as,"aria-orientation":h(u),"aria-required":h(d),dir:h(p)},{default:C(()=>[N(v.$slots,"default",{modelValue:h(i)}),h(m)&&h(c)?(k(),D(h(Bs),{key:0,required:h(d),disabled:h(a),value:h(i),name:h(c)},null,8,["required","disabled","value","name"])):ie("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),xE=wE;const[G2,SE]=Ae("RadioGroupItem");var CE=F({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=Z(),i=yE(),a=q(()=>i.disabled.value||n.disabled),l=q(()=>i.required.value||n.required),u=q(()=>Io(i.modelValue?.value,n.value));SE({disabled:a,checked:u});const c=V(!1),d=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];Tn("keydown",p=>{d.includes(p.key)&&(c.value=!0)}),Tn("keyup",()=>{c.value=!1});function f(){setTimeout(()=>{c.value&&s.value?.click()},0)}return(p,m)=>(k(),D(h(Zi),{checked:u.value,disabled:a.value,"as-child":"",focusable:!a.value,active:u.value},{default:C(()=>[A(bE,X({...p.$attrs,...n},{ref:h(r),checked:u.value,required:l.value,disabled:a.value,"onUpdate:checked":m[0]||(m[0]=v=>h(i).changeModelValue(p.value)),onSelect:m[1]||(m[1]=v=>o("select",v)),onKeydown:m[2]||(m[2]=_t(Ve(()=>{},["prevent"]),["enter"])),onFocus:f}),{default:C(()=>[N(p.$slots,"default",{checked:u.value,required:l.value,disabled:a.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),TE=CE;const[An,EE]=Ae("ScrollAreaRoot");var AE=F({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,o=V(0),r=V(0),s=V(),i=V(),a=V(),l=V(),u=V(!1),c=V(!1),{type:d,dir:f,scrollHideDelay:p}=Ie(n),m=zn(f);function v(){s.value?.scrollTo({top:0})}function b(){s.value?.scrollTo({top:0,left:0})}e({viewport:s,scrollTop:v,scrollTopLeft:b});const{forwardRef:g,currentElement:y}=Z();return EE({type:d,dir:m,scrollHideDelay:p,scrollArea:y,viewport:s,onViewportChange:_=>{s.value=_||void 0},content:i,onContentChange:_=>{i.value=_},scrollbarX:a,scrollbarXEnabled:u,scrollbarY:l,scrollbarYEnabled:c,onScrollbarXChange:_=>{a.value=_||void 0},onScrollbarYChange:_=>{l.value=_||void 0},onScrollbarXEnabledChange:_=>{u.value=_},onScrollbarYEnabledChange:_=>{c.value=_},onCornerWidthChange:_=>{o.value=_},onCornerHeightChange:_=>{r.value=_}}),(_,w)=>(k(),D(h(se),{ref:h(g),"as-child":n.asChild,as:_.as,dir:h(m),style:pt({position:"relative","--reka-scroll-area-corner-width":`${o.value}px`,"--reka-scroll-area-corner-height":`${r.value}px`})},{default:C(()=>[N(_.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),ME=AE,PE=F({__name:"ScrollAreaCornerImpl",setup(t){const e=An(),n=V(0),o=V(0),r=q(()=>!!n.value&&!!o.value);function s(){const a=e.scrollbarX.value?.offsetHeight||0;e.onCornerHeightChange(a),o.value=a}function i(){const a=e.scrollbarY.value?.offsetWidth||0;e.onCornerWidthChange(a),n.value=a}return rr(e.scrollbarX.value,s),rr(e.scrollbarY.value,i),pe(()=>e.scrollbarX.value,s),pe(()=>e.scrollbarY.value,i),(a,l)=>r.value?(k(),D(h(se),X({key:0,style:{width:`${n.value}px`,height:`${o.value}px`,position:"absolute",right:h(e).dir.value==="ltr"?0:void 0,left:h(e).dir.value==="rtl"?0:void 0,bottom:0}},a.$parent?.$props),{default:C(()=>[N(a.$slots,"default")]),_:3},16,["style"])):ie("v-if",!0)}}),kE=PE,RE=F({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n}=Z(),o=An(),r=q(()=>!!o.scrollbarX.value&&!!o.scrollbarY.value),s=q(()=>o.type.value!=="scroll"&&r.value);return(i,a)=>s.value?(k(),D(kE,X({key:0},e,{ref:h(n)}),{default:C(()=>[N(i.$slots,"default")]),_:3},16)):ie("v-if",!0)}}),OE=RE;function Fg(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function uu(t){const e=Lg(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function Lg(t,e){const n=t/e;return Number.isNaN(n)?0:n}function IE(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},o=0;return(function r(){const s={left:t.scrollLeft,top:t.scrollTop},i=n.left!==s.left,a=n.top!==s.top;(i||a)&&e(),n=s,o=window.requestAnimationFrame(r)})(),()=>window.cancelAnimationFrame(o)}function sh(t,e,n="ltr"){const o=uu(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,i=e.content-e.viewport,a=s-o,l=n==="ltr"?[0,i]:[i*-1,0],u=Ms(t,l[0],l[1]);return Fg([0,i],[0,a])(u)}function ba(t){return t?Number.parseInt(t,10):0}function DE(t,e,n,o="ltr"){const r=uu(n),s=r/2,i=e||s,a=r-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=o==="ltr"?[0,c]:[c*-1,0];return Fg([l,u],d)(t)}function ih(t,e){return t>0&&t<e}var BE=F({__name:"ScrollAreaScrollbarX",setup(t){const e=An(),n=du(),{forwardRef:o,currentElement:r}=Z();Ee(()=>{r.value&&e.onScrollbarXChange(r.value)});const s=q(()=>n.sizes.value);return(i,a)=>(k(),D($g,{ref:h(o),"is-horizontal":!0,"data-orientation":"horizontal",style:pt({bottom:0,left:h(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:h(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":s.value?`${h(uu)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>h(n).onDragScroll(l.x))},{default:C(()=>[N(i.$slots,"default")]),_:3},8,["style"]))}}),qE=BE,FE=F({__name:"ScrollAreaScrollbarY",setup(t){const e=An(),n=du(),{forwardRef:o,currentElement:r}=Z();Ee(()=>{r.value&&e.onScrollbarYChange(r.value)});const s=q(()=>n.sizes.value);return(i,a)=>(k(),D($g,{ref:h(o),"is-horizontal":!1,"data-orientation":"vertical",style:pt({top:0,right:h(e).dir.value==="ltr"?0:void 0,left:h(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":s.value?`${h(uu)(s.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=l=>h(n).onDragScroll(l.y))},{default:C(()=>[N(i.$slots,"default")]),_:3},8,["style"]))}}),LE=FE,VE=F({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=An(),n=cu(),{forwardRef:o}=Z(),r=V(!1),s=Qv(()=>{if(e.viewport.value){const i=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;r.value=n.isHorizontal.value?i:a}},10);return Ee(()=>s()),rr(e.viewport,s),rr(e.content,s),(i,a)=>(k(),D(h(Xt),{present:i.forceMount||r.value},{default:C(()=>[A(Sf,X(i.$attrs,{ref:h(o),"data-state":r.value?"visible":"hidden"}),{default:C(()=>[N(i.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Vg=VE,$E=F({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=An(),{forwardRef:n}=Z();let o;const r=V(!1);function s(){window.clearTimeout(o),r.value=!0}function i(){o=window.setTimeout(()=>{r.value=!1},e.scrollHideDelay.value)}return Ee(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",s),a.addEventListener("pointerleave",i))}),Dt(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(o),a.removeEventListener("pointerenter",s),a.removeEventListener("pointerleave",i))}),(a,l)=>(k(),D(h(Xt),{present:a.forceMount||r.value},{default:C(()=>[A(Vg,X(a.$attrs,{ref:h(n),"data-state":r.value?"visible":"hidden"}),{default:C(()=>[N(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),NE=$E,jE=F({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(t){const e=An(),n=cu(),{forwardRef:o}=Z(),{state:r,dispatch:s}=ng("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),i=q(()=>r.value!=="hidden");dt(l=>{if(r.value==="idle"){const u=window.setTimeout(()=>s("HIDE"),e.scrollHideDelay.value);l(()=>{window.clearTimeout(u)})}});const a=Qv(()=>s("SCROLL_END"),100);return dt(l=>{const u=e.viewport.value,c=n.isHorizontal.value?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const p=u[c];d!==p&&(s("SCROLL"),a()),d=p};u.addEventListener("scroll",f),l(()=>{u.removeEventListener("scroll",f)})}}),(l,u)=>(k(),D(h(Xt),{present:l.forceMount||i.value},{default:C(()=>[A(Sf,X(l.$attrs,{ref:h(o),"data-state":i.value?"visible":"hidden"}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),zE=jE;const[cu,UE]=Ae("ScrollAreaScrollbar");var HE=F({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,{forwardRef:n}=Z(),o=An(),r=q(()=>e.orientation==="horizontal");pe(r,()=>{r.value?o.onScrollbarXEnabledChange(!0):o.onScrollbarYEnabledChange(!0)},{immediate:!0}),Dt(()=>{o.onScrollbarXEnabledChange(!1),o.onScrollbarYEnabledChange(!1)});const{orientation:s,forceMount:i,asChild:a,as:l}=Ie(e);return UE({orientation:s,forceMount:i,isHorizontal:r,as:l,asChild:a}),(u,c)=>h(o).type.value==="hover"?(k(),D(NE,X({key:0},u.$attrs,{ref:h(n),"force-mount":h(i)}),{default:C(()=>[N(u.$slots,"default")]),_:3},16,["force-mount"])):h(o).type.value==="scroll"?(k(),D(zE,X({key:1},u.$attrs,{ref:h(n),"force-mount":h(i)}),{default:C(()=>[N(u.$slots,"default")]),_:3},16,["force-mount"])):h(o).type.value==="auto"?(k(),D(Vg,X({key:2},u.$attrs,{ref:h(n),"force-mount":h(i)}),{default:C(()=>[N(u.$slots,"default")]),_:3},16,["force-mount"])):h(o).type.value==="always"?(k(),D(Sf,X({key:3},u.$attrs,{ref:h(n),"data-state":"visible"}),{default:C(()=>[N(u.$slots,"default")]),_:3},16)):ie("v-if",!0)}}),GE=HE;const[du,WE]=Ae("ScrollAreaScrollbarVisible");var KE=F({__name:"ScrollAreaScrollbarVisible",setup(t){const e=An(),n=cu(),{forwardRef:o}=Z(),r=V({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),s=q(()=>{const g=Lg(r.value.viewport,r.value.content);return g>0&&g<1}),i=V(),a=V(0);function l(g,y){if(p.value){const _=e.viewport.value.scrollLeft+g.deltaY;e.viewport.value.scrollLeft=_,ih(_,y)&&g.preventDefault()}else{const _=e.viewport.value.scrollTop+g.deltaY;e.viewport.value.scrollTop=_,ih(_,y)&&g.preventDefault()}}function u(g,y){p.value?a.value=y.x:a.value=y.y}function c(g){a.value=0}function d(g){r.value=g}function f(g,y){return DE(g,a.value,r.value,y)}const p=q(()=>n.isHorizontal.value);function m(g){p.value?e.viewport.value.scrollLeft=f(g,e.dir.value):e.viewport.value.scrollTop=f(g)}function v(){if(p.value){if(e.viewport.value&&i.value){const g=e.viewport.value.scrollLeft,y=sh(g,r.value,e.dir.value);i.value.style.transform=`translate3d(${y}px, 0, 0)`}}else if(e.viewport.value&&i.value){const g=e.viewport.value.scrollTop,y=sh(g,r.value);i.value.style.transform=`translate3d(0, ${y}px, 0)`}}function b(g){i.value=g}return WE({sizes:r,hasThumb:s,handleWheelScroll:l,handleThumbDown:u,handleThumbUp:c,handleSizeChange:d,onThumbPositionChange:v,onThumbChange:b,onDragScroll:m}),(g,y)=>p.value?(k(),D(qE,X({key:0},g.$attrs,{ref:h(o)}),{default:C(()=>[N(g.$slots,"default")]),_:3},16)):(k(),D(LE,X({key:1},g.$attrs,{ref:h(o)}),{default:C(()=>[N(g.$slots,"default")]),_:3},16))}}),Sf=KE,YE=F({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,o=e,r=An(),s=du(),i=cu(),{forwardRef:a,currentElement:l}=Z(),u=V(""),c=V();function d(g){if(c.value){const y=g.clientX-c.value?.left,_=g.clientY-c.value?.top;o("onDragScroll",{x:y,y:_})}}function f(g){g.button===0&&(g.target.setPointerCapture(g.pointerId),c.value=l.value.getBoundingClientRect(),u.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",r.viewport&&(r.viewport.value.style.scrollBehavior="auto"),d(g))}function p(g){d(g)}function m(g){const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=u.value,r.viewport&&(r.viewport.value.style.scrollBehavior=""),c.value=void 0}function v(g){const y=g.target,_=l.value?.contains(y),w=s.sizes.value.content-s.sizes.value.viewport;_&&s.handleWheelScroll(g,w)}Ee(()=>{document.addEventListener("wheel",v,{passive:!1})}),Dt(()=>{document.removeEventListener("wheel",v)});function b(){l.value&&(n.isHorizontal?s.handleSizeChange({content:r.viewport.value?.scrollWidth??0,viewport:r.viewport.value?.offsetWidth??0,scrollbar:{size:l.value.clientWidth??0,paddingStart:ba(getComputedStyle(l.value).paddingLeft),paddingEnd:ba(getComputedStyle(l.value).paddingRight)}}):s.handleSizeChange({content:r.viewport.value?.scrollHeight??0,viewport:r.viewport.value?.offsetHeight??0,scrollbar:{size:l.value?.clientHeight??0,paddingStart:ba(getComputedStyle(l.value).paddingTop),paddingEnd:ba(getComputedStyle(l.value).paddingBottom)}}),s.onThumbPositionChange())}return rr(l,b),rr(r.content,b),(g,y)=>(k(),D(h(se),{ref:h(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:h(i).as.value,"as-child":h(i).asChild.value,onPointerdown:f,onPointermove:p,onPointerup:m},{default:C(()=>[N(g.$slots,"default")]),_:3},8,["as","as-child"]))}}),$g=YE,XE=F({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=An(),o=du();function r(f){const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,b=f.clientY-m.top;o.handleThumbDown(f,{x:v,y:b})}function s(f){o.handleThumbUp(f)}const{forwardRef:i,currentElement:a}=Z(),l=V(),u=q(()=>n.viewport.value);function c(){if(!l.value){const f=IE(u.value,o.onThumbPositionChange);l.value=f,o.onThumbPositionChange()}}const d=q(()=>o.sizes.value);return Aw(d,()=>{o.onThumbChange(a.value),u.value&&(o.onThumbPositionChange(),u.value.addEventListener("scroll",c))}),Dt(()=>{u.value.removeEventListener("scroll",c),n.viewport.value?.removeEventListener("scroll",c)}),(f,p)=>(k(),D(h(se),{ref:h(i),"data-state":h(o).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:f.as,onPointerdown:r,onPointerup:s},{default:C(()=>[N(f.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),QE=XE,ZE=F({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,{nonce:o}=Ie(n),r=Tg(o),s=An(),i=V();Ee(()=>{s.onViewportChange(i.value),s.onContentChange(l.value)}),e({viewportElement:i});const{forwardRef:a,currentElement:l}=Z();return(u,c)=>(k(),Q(he,null,[j("div",X({ref_key:"viewportElement",ref:i,"data-reka-scroll-area-viewport":"",style:{overflowX:h(s).scrollbarXEnabled.value?"scroll":"hidden",overflowY:h(s).scrollbarYEnabled.value?"scroll":"hidden"}},u.$attrs,{tabindex:0}),[A(h(se),{ref:h(a),style:pt({minWidth:h(s).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:u.as},{default:C(()=>[N(u.$slots,"default")]),_:3},8,["style","as-child","as"])],16),A(h(se),{as:"style",nonce:h(r)},{default:C(()=>c[0]||(c[0]=[Te(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),JE=ZE;const eA=[" ","Enter","ArrowUp","ArrowDown"],tA=[" ","Enter"],Rn=10;function Vi(t,e,n){return t===void 0?!1:Array.isArray(t)?t.some(o=>Qc(o,e,n)):Qc(t,e,n)}function Qc(t,e,n){return t===void 0||e===void 0?!1:typeof t=="string"?t===e:typeof n=="function"?n(t,e):typeof n=="string"?t?.[n]===e?.[n]:Io(t,e)}function nA(t){return t==null||t===""||Array.isArray(t)&&t.length===0}const oA={key:0,value:""},[dr,Ng]=Ae("SelectRoot");var rA=F({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const n=t,o=e,{required:r,disabled:s,multiple:i,dir:a}=Ie(n),l=st(n,"modelValue",o,{defaultValue:n.defaultValue??(i.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),u=st(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0}),c=V(),d=V(),f=V({x:0,y:0}),p=q(()=>i.value&&Array.isArray(l.value)?l.value?.length===0:Ao(l.value));ht({isProvider:!0});const m=zn(a),v=Vr(c),b=V(new Set),g=q(()=>Array.from(b.value).map(w=>w.value).join(";"));function y(w){if(i.value){const x=Array.isArray(l.value)?[...l.value]:[],P=x.findIndex(T=>Qc(T,w,n.by));P===-1?x.push(w):x.splice(P,1),l.value=[...x]}else l.value=w}function _(w){return Array.from(b.value).find(x=>Vi(w,x.value,n.by))}return Ng({triggerElement:c,onTriggerChange:w=>{c.value=w},valueElement:d,onValueElementChange:w=>{d.value=w},contentId:"",modelValue:l,onValueChange:y,by:n.by,open:u,multiple:i,required:r,onOpenChange:w=>{u.value=w},dir:m,triggerPointerDownPosRef:f,disabled:s,isEmptyModelValue:p,optionsSet:b,onOptionAdd:w=>{const x=_(w.value);x&&b.value.delete(x),b.value.add(w)},onOptionRemove:w=>{const x=_(w.value);x&&b.value.delete(x)}}),(w,x)=>(k(),D(h(Ji),null,{default:C(()=>[N(w.$slots,"default",{modelValue:h(l),open:h(u)}),h(v)?(k(),D(aA,{key:g.value,"aria-hidden":"true",tabindex:"-1",multiple:h(i),required:h(r),name:w.name,autocomplete:w.autocomplete,disabled:h(s),value:h(l)},{default:C(()=>[h(Ao)(h(l))?(k(),Q("option",oA)):ie("v-if",!0),(k(!0),Q(he,null,lt(Array.from(b.value),P=>(k(),Q("option",X({key:P.value??""},{ref_for:!0},P),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):ie("v-if",!0)]),_:3}))}}),sA=rA,iA=F({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(t){const e=t,n=V(),o=dr();pe(()=>e.value,(s,i)=>{const a=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==i&&u&&n.value){const c=new Event("change",{bubbles:!0});u.call(n.value,s),n.value.dispatchEvent(c)}});function r(s){o.onValueChange(s.target.value)}return(s,i)=>(k(),D(h(Ds),{"as-child":""},{default:C(()=>[j("select",X({ref_key:"selectElement",ref:n},e,{onInput:r}),[N(s.$slots,"default")],16)]),_:3}))}}),aA=iA,lA=F({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:Rn},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const n=cr(t);return(o,r)=>(k(),D(h(au),X(h(n),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:C(()=>[N(o.$slots,"default")]),_:3},16))}}),uA=lA;const jg={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[fr,zg]=Ae("SelectContent");var cA=F({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1,default:!0}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=dr();nf(),Zl(n.bodyLock);const{CollectionSlot:s,getItems:i}=ht(),a=V();Jl(a);const{search:l,handleTypeaheadSearch:u}=eu(),c=V(),d=V(),f=V(),p=V(!1),m=V(!1),v=V(!1);function b(){d.value&&a.value&&Uc([d.value,a.value])}pe(p,()=>{b()});const{onOpenChange:g,triggerPointerDownPosRef:y}=r;dt(P=>{if(!a.value)return;let T={x:0,y:0};const M=S=>{T={x:Math.abs(Math.round(S.pageX)-(y.value?.x??0)),y:Math.abs(Math.round(S.pageY)-(y.value?.y??0))}},E=S=>{S.pointerType!=="touch"&&(T.x<=10&&T.y<=10?S.preventDefault():a.value?.contains(S.target)||g(!1),document.removeEventListener("pointermove",M),y.value=null)};y.value!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",E,{capture:!0,once:!0})),P(()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",E,{capture:!0})})});function _(P){const T=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!T&&P.key.length===1&&u(P.key,i()),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let E=[...i().map(S=>S.ref)];if(["ArrowUp","End"].includes(P.key)&&(E=E.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const S=P.target,R=E.indexOf(S);E=E.slice(R+1)}setTimeout(()=>Uc(E)),P.preventDefault()}}const w=q(()=>n.position==="popper"?n:{}),x=cr(w.value);return zg({content:a,viewport:c,onViewportChange:P=>{c.value=P},itemRefCallback:(P,T,M)=>{const E=!m.value&&!M,S=Vi(r.modelValue.value,T,r.by);if(r.multiple.value){if(v.value)return;(S||E)&&(d.value=P,S&&(v.value=!0))}else(S||E)&&(d.value=P);E&&(m.value=!0)},selectedItem:d,selectedItemText:f,onItemLeave:()=>{a.value?.focus()},itemTextRefCallback:(P,T,M)=>{const E=!m.value&&!M;(Vi(r.modelValue.value,T,r.by)||E)&&(f.value=P)},focusSelectedItem:b,position:n.position,isPositioned:p,searchRef:l}),(P,T)=>(k(),D(h(s),null,{default:C(()=>[A(h(nu),{"as-child":"",onMountAutoFocus:T[6]||(T[6]=Ve(()=>{},["prevent"])),onUnmountAutoFocus:T[7]||(T[7]=M=>{o("closeAutoFocus",M),!M.defaultPrevented&&(h(r).triggerElement.value?.focus({preventScroll:!0}),M.preventDefault())})},{default:C(()=>[A(h(Xi),{"as-child":"","disable-outside-pointer-events":P.disableOutsidePointerEvents,onFocusOutside:T[2]||(T[2]=Ve(()=>{},["prevent"])),onDismiss:T[3]||(T[3]=M=>h(r).onOpenChange(!1)),onEscapeKeyDown:T[4]||(T[4]=M=>o("escapeKeyDown",M)),onPointerDownOutside:T[5]||(T[5]=M=>o("pointerDownOutside",M))},{default:C(()=>[(k(),D(fo(P.position==="popper"?uA:hA),X({...P.$attrs,...h(x)},{id:h(r).contentId,ref:M=>{const E=h(un)(M);E?.hasAttribute("data-reka-popper-content-wrapper")?a.value=E.firstElementChild:a.value=E},role:"listbox","data-state":h(r).open.value?"open":"closed",dir:h(r).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:T[0]||(T[0]=Ve(()=>{},["prevent"])),onPlaced:T[1]||(T[1]=M=>p.value=!0),onKeydown:_}),{default:C(()=>[N(P.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3})]),_:3}))}}),dA=cA;const[Cf,fA]=Ae("SelectItemAlignedPosition");var pA=F({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(t,{emit:e}){const n=t,o=e,{getItems:r}=ht(),s=dr(),i=fr(),a=V(!1),l=V(!0),u=V(),{forwardRef:c,currentElement:d}=Z(),{viewport:f,selectedItem:p,selectedItemText:m,focusSelectedItem:v}=i;function b(){if(s.triggerElement.value&&s.valueElement.value&&u.value&&d.value&&f?.value&&p?.value&&m?.value){const _=s.triggerElement.value.getBoundingClientRect(),w=d.value.getBoundingClientRect(),x=s.valueElement.value.getBoundingClientRect(),P=m.value.getBoundingClientRect();if(s.dir.value!=="rtl"){const Ce=P.left-w.left,Le=x.left-Ce,De=_.left-Le,Xe=_.width+De,go=Math.max(Xe,w.width),B=window.innerWidth-Rn,$=Ms(Le,Rn,Math.max(Rn,B-go));u.value.style.minWidth=`${Xe}px`,u.value.style.left=`${$}px`}else{const Ce=w.right-P.right,Le=window.innerWidth-x.right-Ce,De=window.innerWidth-_.right-Le,Xe=_.width+De,go=Math.max(Xe,w.width),B=window.innerWidth-Rn,$=Ms(Le,Rn,Math.max(Rn,B-go));u.value.style.minWidth=`${Xe}px`,u.value.style.right=`${$}px`}const T=r().map(Ce=>Ce.ref),M=window.innerHeight-Rn*2,E=f.value.scrollHeight,S=window.getComputedStyle(d.value),R=Number.parseInt(S.borderTopWidth,10),O=Number.parseInt(S.paddingTop,10),I=Number.parseInt(S.borderBottomWidth,10),L=Number.parseInt(S.paddingBottom,10),z=R+O+E+L+I,W=Math.min(p.value.offsetHeight*5,z),H=window.getComputedStyle(f.value),Y=Number.parseInt(H.paddingTop,10),fe=Number.parseInt(H.paddingBottom,10),le=_.top+_.height/2-Rn,we=M-le,Se=p.value.offsetHeight/2,tt=p.value.offsetTop+Se,it=R+O+tt,He=z-it;if(it<=le){const Ce=p.value===T[T.length-1];u.value.style.bottom="0px";const Le=d.value.clientHeight-f.value.offsetTop-f.value.offsetHeight,De=Math.max(we,Se+(Ce?fe:0)+Le+I),Xe=it+De;u.value.style.height=`${Xe}px`}else{const Ce=p.value===T[0];u.value.style.top="0px";const De=Math.max(le,R+f.value.offsetTop+(Ce?Y:0)+Se)+He;u.value.style.height=`${De}px`,f.value.scrollTop=it-le+f.value.offsetTop}u.value.style.margin=`${Rn}px 0`,u.value.style.minHeight=`${W}px`,u.value.style.maxHeight=`${M}px`,o("placed"),requestAnimationFrame(()=>a.value=!0)}}const g=V("");Ee(async()=>{await We(),b(),d.value&&(g.value=window.getComputedStyle(d.value).zIndex)});function y(_){_&&l.value===!0&&(b(),v?.(),l.value=!1)}return rr(s.triggerElement,()=>{b()}),fA({contentWrapper:u,shouldExpandOnScrollRef:a,onScrollButtonChange:y}),(_,w)=>(k(),Q("div",{ref_key:"contentWrapperElement",ref:u,style:pt({display:"flex",flexDirection:"column",position:"fixed",zIndex:g.value})},[A(h(se),X({ref:h(c),style:{boxSizing:"border-box",maxHeight:"100%"}},{..._.$attrs,...n}),{default:C(()=>[N(_.$slots,"default")]),_:3},16)],4))}}),hA=pA,mA=F({__name:"SelectArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const e=t,n=fr(jg);return(o,r)=>h(n).position==="popper"?(k(),D(h(gf),qe(X({key:0},e)),{default:C(()=>[N(o.$slots,"default")]),_:3},16)):ie("v-if",!0)}}),vA=mA,gA=F({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(t){return Ng(t.context),zg(jg),(n,o)=>N(n.$slots,"default")}}),bA=gA;const yA={key:1};var _A=F({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=yn(n,e),s=dr(),i=V();Ee(()=>{i.value=new DocumentFragment});const a=V(),l=q(()=>n.forceMount||s.open.value),u=V(l.value);return pe(l,()=>{setTimeout(()=>u.value=l.value)}),(c,d)=>l.value||u.value||a.value?.present?(k(),D(h(Xt),{key:0,ref_key:"presenceRef",ref:a,present:l.value},{default:C(()=>[A(dA,qe(ze({...h(r),...c.$attrs})),{default:C(()=>[N(c.$slots,"default")]),_:3},16)]),_:3},8,["present"])):i.value?(k(),Q("div",yA,[(k(),D($d,{to:i.value},[A(bA,{context:h(s)},{default:C(()=>[N(c.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):ie("v-if",!0)}}),wA=_A;const[xA,SA]=Ae("SelectGroup");var CA=F({__name:"SelectGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=It(void 0,"reka-select-group");return SA({id:n}),(o,r)=>(k(),D(h(se),X({role:"group"},e,{"aria-labelledby":h(n)}),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),TA=CA,EA=F({__name:"SelectIcon",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(k(),D(h(se),{"aria-hidden":"true",as:e.as,"as-child":e.asChild},{default:C(()=>[N(e.$slots,"default",{},()=>[n[0]||(n[0]=Te(""))])]),_:3},8,["as","as-child"]))}}),AA=EA;const[Ug,MA]=Ae("SelectItem");var PA=F({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,o=e,{disabled:r}=Ie(n),s=dr(),i=fr(),{forwardRef:a,currentElement:l}=Z(),{CollectionItem:u}=ht(),c=q(()=>Vi(s.modelValue?.value,n.value,s.by)),d=V(!1),f=V(n.textValue??""),p=It(void 0,"reka-select-item-text"),m="select.select";async function v(w){if(w.defaultPrevented)return;const x={originalEvent:w,value:n.value};Ps(m,b,x)}async function b(w){await We(),o("select",w),!w.defaultPrevented&&(r.value||(s.onValueChange(n.value),s.multiple.value||s.onOpenChange(!1)))}async function g(w){await We(),!w.defaultPrevented&&(r.value?i.onItemLeave?.():w.currentTarget?.focus({preventScroll:!0}))}async function y(w){await We(),!w.defaultPrevented&&w.currentTarget===Je()&&i.onItemLeave?.()}async function _(w){await We(),!(w.defaultPrevented||i.searchRef?.value!==""&&w.key===" ")&&(tA.includes(w.key)&&v(w),w.key===" "&&w.preventDefault())}if(n.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Ee(()=>{l.value&&i.itemRefCallback(l.value,n.value,n.disabled)}),MA({value:n.value,disabled:r,textId:p,isSelected:c,onItemTextChange:w=>{f.value=((f.value||w?.textContent)??"").trim()}}),(w,x)=>(k(),D(h(u),{value:{textValue:f.value}},{default:C(()=>[A(h(se),{ref:h(a),role:"option","aria-labelledby":h(p),"data-highlighted":d.value?"":void 0,"aria-selected":c.value,"data-state":c.value?"checked":"unchecked","aria-disabled":h(r)||void 0,"data-disabled":h(r)?"":void 0,tabindex:h(r)?void 0:-1,as:w.as,"as-child":w.asChild,onFocus:x[0]||(x[0]=P=>d.value=!0),onBlur:x[1]||(x[1]=P=>d.value=!1),onPointerup:v,onPointerdown:x[2]||(x[2]=P=>{P.currentTarget.focus({preventScroll:!0})}),onTouchend:x[3]||(x[3]=Ve(()=>{},["prevent","stop"])),onPointermove:g,onPointerleave:y,onKeydown:_},{default:C(()=>[N(w.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),kA=PA,RA=F({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,n=Ug();return(o,r)=>h(n).isSelected.value?(k(),D(h(se),X({key:0,"aria-hidden":"true"},e),{default:C(()=>[N(o.$slots,"default")]),_:3},16)):ie("v-if",!0)}}),OA=RA,IA=F({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,n=dr(),o=fr(),r=Ug(),{forwardRef:s,currentElement:i}=Z(),a=q(()=>({value:r.value,disabled:r.disabled.value,textContent:i.value?.textContent??r.value?.toString()??""}));return Ee(()=>{i.value&&(r.onItemTextChange(i.value),o.itemTextRefCallback(i.value,r.value,r.disabled.value),n.onOptionAdd(a.value))}),Dt(()=>{n.onOptionRemove(a.value)}),(l,u)=>(k(),D(h(se),X({id:h(r).textId,ref:h(s)},{...e,...l.$attrs}),{default:C(()=>[N(l.$slots,"default")]),_:3},16,["id"]))}}),DA=IA,BA=F({__name:"SelectLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const e=t,n=xA({id:""});return(o,r)=>(k(),D(h(se),X(e,{id:h(n).id}),{default:C(()=>[N(o.$slots,"default")]),_:3},16,["id"]))}}),qA=BA,FA=F({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(Qi),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),LA=FA,VA=F({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(t,{emit:e}){const n=e,{getItems:o}=ht(),r=fr(),s=V(null);function i(){s.value!==null&&(window.clearInterval(s.value),s.value=null)}dt(()=>{o().map(c=>c.ref).find(c=>c===Je())?.scrollIntoView({block:"nearest"})});function a(){s.value===null&&(s.value=window.setInterval(()=>{n("autoScroll")},50))}function l(){r.onItemLeave?.(),s.value===null&&(s.value=window.setInterval(()=>{n("autoScroll")},50))}return Ud(()=>i()),(u,c)=>(k(),D(h(se),X({"aria-hidden":"true",style:{flexShrink:0}},u.$parent?.$props,{onPointerdown:a,onPointermove:l,onPointerleave:c[0]||(c[0]=()=>{i()})}),{default:C(()=>[N(u.$slots,"default")]),_:3},16))}}),Hg=VA,$A=F({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=fr(),n=e.position==="item-aligned"?Cf():void 0,{forwardRef:o,currentElement:r}=Z(),s=V(!1);return dt(i=>{if(e.viewport?.value&&e.isPositioned?.value){let l=function(){const u=a.scrollHeight-a.clientHeight;s.value=Math.ceil(a.scrollTop)<u};const a=e.viewport.value;l(),a.addEventListener("scroll",l),i(()=>a.removeEventListener("scroll",l))}}),pe(r,()=>{r.value&&n?.onScrollButtonChange(r.value)}),(i,a)=>s.value?(k(),D(Hg,{key:0,ref:h(o),onAutoScroll:a[0]||(a[0]=()=>{const{viewport:l,selectedItem:u}=h(e);l?.value&&u?.value&&(l.value.scrollTop=l.value.scrollTop+u.value.offsetHeight)})},{default:C(()=>[N(i.$slots,"default")]),_:3},512)):ie("v-if",!0)}}),NA=$A,jA=F({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=fr(),n=e.position==="item-aligned"?Cf():void 0,{forwardRef:o,currentElement:r}=Z(),s=V(!1);return dt(i=>{if(e.viewport?.value&&e.isPositioned?.value){let l=function(){s.value=a.scrollTop>0};const a=e.viewport.value;l(),a.addEventListener("scroll",l),i(()=>a.removeEventListener("scroll",l))}}),pe(r,()=>{r.value&&n?.onScrollButtonChange(r.value)}),(i,a)=>s.value?(k(),D(Hg,{key:0,ref:h(o),onAutoScroll:a[0]||(a[0]=()=>{const{viewport:l,selectedItem:u}=h(e);l?.value&&u?.value&&(l.value.scrollTop=l.value.scrollTop-u.value.offsetHeight)})},{default:C(()=>[N(i.$slots,"default")]),_:3},512)):ie("v-if",!0)}}),zA=jA,UA=F({__name:"SelectSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(se),X({"aria-hidden":"true"},e),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),HA=UA,GA=F({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=dr(),{forwardRef:o,currentElement:r}=Z(),s=q(()=>n.disabled?.value||e.disabled);n.contentId||=It(void 0,"reka-select-content"),Ee(()=>{n.onTriggerChange(r.value)});const{getItems:i}=ht(),{search:a,handleTypeaheadSearch:l,resetTypeahead:u}=eu();function c(){s.value||(n.onOpenChange(!0),u())}function d(f){c(),n.triggerPointerDownPosRef.value={x:Math.round(f.pageX),y:Math.round(f.pageY)}}return(f,p)=>(k(),D(h(ea),{"as-child":"",reference:f.reference},{default:C(()=>[A(h(se),{ref:h(o),role:"combobox",type:f.as==="button"?"button":void 0,"aria-controls":h(n).contentId,"aria-expanded":h(n).open.value||!1,"aria-required":h(n).required?.value,"aria-autocomplete":"none",disabled:s.value,dir:h(n)?.dir.value,"data-state":h(n)?.open.value?"open":"closed","data-disabled":s.value?"":void 0,"data-placeholder":h(nA)(h(n).modelValue?.value)?"":void 0,"as-child":f.asChild,as:f.as,onClick:p[0]||(p[0]=m=>{m?.currentTarget?.focus()}),onPointerdown:p[1]||(p[1]=m=>{if(m.pointerType==="touch")return m.preventDefault();const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(d(m),m.preventDefault())}),onPointerup:p[2]||(p[2]=Ve(m=>{m.pointerType==="touch"&&d(m)},["prevent"])),onKeydown:p[3]||(p[3]=m=>{const v=h(a)!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&v&&m.key===" "||(h(l)(m.key,h(i)()),h(eA).includes(m.key)&&(c(),m.preventDefault()))})},{default:C(()=>[N(f.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),WA=GA,KA=F({__name:"SelectValue",props:{placeholder:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{forwardRef:n,currentElement:o}=Z(),r=dr();Ee(()=>{r.valueElement=o});const s=q(()=>{let a=[];const l=Array.from(r.optionsSet.value),u=c=>l.find(d=>Vi(c,d.value,r.by));return Array.isArray(r.modelValue.value)?a=r.modelValue.value.map(c=>u(c)?.textContent??""):a=[u(r.modelValue.value)?.textContent??""],a.filter(Boolean)}),i=q(()=>s.value.length?s.value.join(", "):e.placeholder);return(a,l)=>(k(),D(h(se),{ref:h(n),as:a.as,"as-child":a.asChild,style:{pointerEvents:"none"},"data-placeholder":s.value.length?void 0:e.placeholder},{default:C(()=>[N(a.$slots,"default",{selectedLabel:s.value,modelValue:h(r).modelValue.value},()=>[Te(ge(i.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),YA=KA,XA=F({__name:"SelectViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{nonce:n}=Ie(e),o=Tg(n),r=fr(),s=r.position==="item-aligned"?Cf():void 0,{forwardRef:i,currentElement:a}=Z();Ee(()=>{r?.onViewportChange(a.value)});const l=V(0);function u(c){const d=c.currentTarget,{shouldExpandOnScrollRef:f,contentWrapper:p}=s??{};if(f?.value&&p?.value){const m=Math.abs(l.value-d.scrollTop);if(m>0){const v=window.innerHeight-Rn*2,b=Number.parseFloat(p.value.style.minHeight),g=Number.parseFloat(p.value.style.height),y=Math.max(b,g);if(y<v){const _=y+m,w=Math.min(v,_),x=_-w;p.value.style.height=`${w}px`,p.value.style.bottom==="0px"&&(d.scrollTop=x>0?x:0,p.value.style.justifyContent="flex-end")}}}l.value=d.scrollTop}return(c,d)=>(k(),Q(he,null,[A(h(se),X({ref:h(i),"data-reka-select-viewport":"",role:"presentation"},{...c.$attrs,...e},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:u}),{default:C(()=>[N(c.$slots,"default")]),_:3},16),A(h(se),{as:"style",nonce:h(o)},{default:C(()=>d[0]||(d[0]=[Te(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),QA=XA;function ZA(t=[],e,n){const o=[...t];return o[n]=e,o.sort((r,s)=>r-s)}function Gg(t,e,n){const s=100/(n-e)*(t-e);return Ms(s,0,100)}function JA(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function eM(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),o=Math.min(...n);return n.indexOf(o)}function tM(t,e,n){const o=t/2,s=Tf([0,50],[0,o]);return(o-s(e)*n)*n}function nM(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function oM(t,e){if(e>0){const n=nM(t);return Math.min(...n)>=e}return!0}function Tf(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function rM(t){return(String(t).split(".")[1]||"").length}function sM(t,e){const n=10**e;return Math.round(t*n)/n}const Wg=["PageUp","PageDown"],Kg=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yg={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[Xg,Qg]=Ae(["SliderVertical","SliderHorizontal"]);var iM=F({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,o=e,{max:r,min:s,dir:i,inverted:a}=Ie(n),{forwardRef:l,currentElement:u}=Z(),c=Fs(),d=V(),f=V(),p=q(()=>i?.value!=="rtl"&&!a.value||i?.value!=="ltr"&&a.value);function m(y,_){const w=f.value||u.value.getBoundingClientRect(),x=[...c.thumbElements.value][c.valueIndexToChangeRef.value],P=c.thumbAlignment.value==="contain"?x.clientWidth:0;!d.value&&!_&&c.thumbAlignment.value==="contain"&&(d.value=y.clientX-x.getBoundingClientRect().left);const T=[0,w.width-P],M=p.value?[s.value,r.value]:[r.value,s.value],E=Tf(T,M);f.value=w;const S=_?y.clientX-w.left-P/2:y.clientX-w.left-(d.value??0);return E(S)}const v=q(()=>p.value?"left":"right"),b=q(()=>p.value?"right":"left"),g=q(()=>p.value?1:-1);return Qg({startEdge:v,endEdge:b,direction:g,size:"width"}),(y,_)=>(k(),D(Zg,{ref:h(l),dir:h(i),"data-orientation":"horizontal",style:pt({"--reka-slider-thumb-transform":!p.value&&h(c).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:_[0]||(_[0]=w=>{const x=m(w,!0);o("slideStart",x)}),onSlideMove:_[1]||(_[1]=w=>{const x=m(w);o("slideMove",x)}),onSlideEnd:_[2]||(_[2]=()=>{f.value=void 0,d.value=void 0,o("slideEnd")}),onStepKeyDown:_[3]||(_[3]=w=>{const x=p.value?"from-left":"from-right",P=h(Yg)[x].includes(w.key);o("stepKeyDown",w,P?-1:1)}),onEndKeyDown:_[4]||(_[4]=w=>o("endKeyDown",w)),onHomeKeyDown:_[5]||(_[5]=w=>o("homeKeyDown",w))},{default:C(()=>[N(y.$slots,"default")]),_:3},8,["dir","style"]))}}),aM=iM,lM=F({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,o=e,{max:r,min:s,inverted:i}=Ie(n),a=Fs(),{forwardRef:l,currentElement:u}=Z(),c=V(),d=V(),f=q(()=>!i.value);function p(g,y){const _=d.value||u.value.getBoundingClientRect(),w=[...a.thumbElements.value][a.valueIndexToChangeRef.value],x=a.thumbAlignment.value==="contain"?w.clientHeight:0;!c.value&&!y&&a.thumbAlignment.value==="contain"&&(c.value=g.clientY-w.getBoundingClientRect().top);const P=[0,_.height-x],T=f.value?[r.value,s.value]:[s.value,r.value],M=Tf(P,T),E=y?g.clientY-_.top-x/2:g.clientY-_.top-(c.value??0);return d.value=_,M(E)}const m=q(()=>f.value?"bottom":"top"),v=q(()=>f.value?"top":"bottom"),b=q(()=>f.value?1:-1);return Qg({startEdge:m,endEdge:v,direction:b,size:"height"}),(g,y)=>(k(),D(Zg,{ref:h(l),"data-orientation":"vertical",style:pt({"--reka-slider-thumb-transform":!f.value&&h(a).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:y[0]||(y[0]=_=>{const w=p(_,!0);o("slideStart",w)}),onSlideMove:y[1]||(y[1]=_=>{const w=p(_);o("slideMove",w)}),onSlideEnd:y[2]||(y[2]=()=>{d.value=void 0,c.value=void 0,o("slideEnd")}),onStepKeyDown:y[3]||(y[3]=_=>{const w=f.value?"from-bottom":"from-top",x=h(Yg)[w].includes(_.key);o("stepKeyDown",_,x?-1:1)}),onEndKeyDown:y[4]||(y[4]=_=>o("endKeyDown",_)),onHomeKeyDown:y[5]||(y[5]=_=>o("homeKeyDown",_))},{default:C(()=>[N(g.$slots,"default")]),_:3},8,["style"]))}}),uM=lM;const[Fs,cM]=Ae("SliderRoot");var dM=F({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,o=e,{min:r,max:s,step:i,minStepsBetweenThumbs:a,orientation:l,disabled:u,thumbAlignment:c,dir:d}=Ie(n),f=zn(d),{forwardRef:p,currentElement:m}=Z(),v=Vr(m),{CollectionSlot:b}=ht({isProvider:!0}),g=st(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),y=q(()=>Array.isArray(g.value)?[...g.value]:[]),_=V(0),w=V(y.value);function x(S){const R=eM(y.value,S);M(S,R)}function P(S){M(S,_.value)}function T(){const S=w.value[_.value];y.value[_.value]!==S&&o("valueCommit",Oe(y.value))}function M(S,R,{commit:O}={commit:!1}){const I=rM(i.value),L=sM(Math.round((S-r.value)/i.value)*i.value+r.value,I),z=Ms(L,r.value,s.value),W=ZA(y.value,z,R);if(oM(W,a.value*i.value)){_.value=W.indexOf(z);const H=String(W)!==String(g.value);H&&O&&o("valueCommit",W),H&&(E.value[_.value]?.focus(),g.value=W)}}const E=V([]);return cM({modelValue:g,currentModelValue:y,valueIndexToChangeRef:_,thumbElements:E,orientation:l,min:r,max:s,disabled:u,thumbAlignment:c}),(S,R)=>(k(),D(h(b),null,{default:C(()=>[(k(),D(fo(h(l)==="horizontal"?aM:uM),X(S.$attrs,{ref:h(p),"as-child":S.asChild,as:S.as,min:h(r),max:h(s),dir:h(f),inverted:S.inverted,"aria-disabled":h(u),"data-disabled":h(u)?"":void 0,onPointerdown:R[0]||(R[0]=()=>{h(u)||(w.value=y.value)}),onSlideStart:R[1]||(R[1]=O=>!h(u)&&x(O)),onSlideMove:R[2]||(R[2]=O=>!h(u)&&P(O)),onSlideEnd:R[3]||(R[3]=O=>!h(u)&&T()),onHomeKeyDown:R[4]||(R[4]=O=>!h(u)&&M(h(r),0,{commit:!0})),onEndKeyDown:R[5]||(R[5]=O=>!h(u)&&M(h(s),y.value.length-1,{commit:!0})),onStepKeyDown:R[6]||(R[6]=(O,I)=>{if(!h(u)){const W=h(Wg).includes(O.key)||O.shiftKey&&h(Kg).includes(O.key)?10:1,H=_.value,Y=y.value[H],fe=h(i)*W*I;M(Y+fe,H,{commit:!0})}})}),{default:C(()=>[N(S.$slots,"default",{modelValue:h(g)}),h(v)&&S.name?(k(),D(h(Bs),{key:0,type:"number",value:h(g),name:S.name,required:S.required,disabled:h(u),step:h(i)},null,8,["value","name","required","disabled","step"])):ie("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),fM=dM,pM=F({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,o=e,r=Fs();return(s,i)=>(k(),D(h(se),X({"data-slider-impl":""},n,{onKeydown:i[0]||(i[0]=a=>{a.key==="Home"?(o("homeKeyDown",a),a.preventDefault()):a.key==="End"?(o("endKeyDown",a),a.preventDefault()):h(Wg).concat(h(Kg)).includes(a.key)&&(o("stepKeyDown",a),a.preventDefault())}),onPointerdown:i[1]||(i[1]=a=>{const l=a.target;l.setPointerCapture(a.pointerId),a.preventDefault(),h(r).thumbElements.value.includes(l)?l.focus():o("slideStart",a)}),onPointermove:i[2]||(i[2]=a=>{a.target.hasPointerCapture(a.pointerId)&&o("slideMove",a)}),onPointerup:i[3]||(i[3]=a=>{const l=a.target;l.hasPointerCapture(a.pointerId)&&(l.releasePointerCapture(a.pointerId),o("slideEnd",a))})}),{default:C(()=>[N(s.$slots,"default")]),_:3},16))}}),Zg=pM,hM=F({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Fs(),n=Xg();Z();const o=q(()=>e.currentModelValue.value.map(i=>Gg(i,e.min.value,e.max.value))),r=q(()=>e.currentModelValue.value.length>1?Math.min(...o.value):0),s=q(()=>100-Math.max(...o.value,0));return(i,a)=>(k(),D(h(se),{"data-disabled":h(e).disabled.value?"":void 0,"data-orientation":h(e).orientation.value,"as-child":i.asChild,as:i.as,style:pt({[h(n).startEdge.value]:`${r.value}%`,[h(n).endEdge.value]:`${s.value}%`})},{default:C(()=>[N(i.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),mM=hM,vM=F({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Fs(),o=Xg(),{forwardRef:r,currentElement:s}=Z(),{CollectionItem:i}=ht(),a=q(()=>n.modelValue?.value?.[e.index]),l=q(()=>a.value===void 0?0:Gg(a.value,n.min.value??0,n.max.value??100)),u=q(()=>JA(e.index,n.modelValue?.value?.length??0)),c=tg(s),d=q(()=>c[o.size].value),f=q(()=>n.thumbAlignment.value==="overflow"||!d.value?0:tM(d.value,l.value,o.direction.value)),p=ef();return Ee(()=>{n.thumbElements.value.push(s.value)}),Dt(()=>{const m=n.thumbElements.value.findIndex(v=>v===s.value)??-1;n.thumbElements.value.splice(m,1)}),(m,v)=>(k(),D(h(i),null,{default:C(()=>[A(h(se),X(m.$attrs,{ref:h(r),role:"slider",tabindex:h(n).disabled.value?void 0:0,"aria-label":m.$attrs["aria-label"]||u.value,"data-disabled":h(n).disabled.value?"":void 0,"data-orientation":h(n).orientation.value,"aria-valuenow":a.value,"aria-valuemin":h(n).min.value,"aria-valuemax":h(n).max.value,"aria-orientation":h(n).orientation.value,"as-child":m.asChild,as:m.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[h(o).startEdge.value]:`calc(${l.value}% + ${f.value}px)`,display:!h(p)&&a.value===void 0?"none":void 0},onFocus:v[0]||(v[0]=()=>{h(n).valueIndexToChangeRef.value=m.index})}),{default:C(()=>[N(m.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),gM=vM,bM=F({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{getItems:n}=ht(),{forwardRef:o,currentElement:r}=Z(),s=q(()=>r.value?n(!0).findIndex(i=>i.ref===r.value):-1);return(i,a)=>(k(),D(gM,X({ref:h(o)},e,{index:s.value}),{default:C(()=>[N(i.$slots,"default")]),_:3},16,["index"]))}}),yM=bM,_M=F({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Fs();return Z(),(n,o)=>(k(),D(h(se),{"as-child":n.asChild,as:n.as,"data-disabled":h(e).disabled.value?"":void 0,"data-orientation":h(e).orientation.value},{default:C(()=>[N(n.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),wM=_M;const[fu,xM]=Ae("TabsRoot");var SM=F({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,o=e,{orientation:r,unmountOnHide:s,dir:i}=Ie(n),a=zn(i);Z();const l=st(n,"modelValue",o,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),u=V();return xM({modelValue:l,changeModelValue:c=>{l.value=c},orientation:r,dir:a,unmountOnHide:s,activationMode:n.activationMode,baseId:It(void 0,"reka-tabs"),tabsList:u}),(c,d)=>(k(),D(h(se),{dir:h(a),"data-orientation":h(r),"as-child":c.asChild,as:c.as},{default:C(()=>[N(c.$slots,"default",{modelValue:h(l)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),CM=SM;function Jg(t,e){return`${t}-trigger-${e}`}function eb(t,e){return`${t}-content-${e}`}var TM=F({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n}=Z(),o=fu(),r=q(()=>Jg(o.baseId,e.value)),s=q(()=>eb(o.baseId,e.value)),i=q(()=>e.value===o.modelValue.value),a=V(i.value);return Ee(()=>{requestAnimationFrame(()=>{a.value=!1})}),(l,u)=>(k(),D(h(Xt),{present:l.forceMount||i.value,"force-mount":""},{default:C(({present:c})=>[A(h(se),{id:s.value,ref:h(n),"as-child":l.asChild,as:l.as,role:"tabpanel","data-state":i.value?"active":"inactive","data-orientation":h(o).orientation.value,"aria-labelledby":r.value,hidden:!c,tabindex:"0",style:pt({animationDuration:a.value?"0s":void 0})},{default:C(()=>[!h(o).unmountOnHide.value||c?N(l.$slots,"default",{key:0}):ie("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),EM=TM,AM=F({__name:"TabsIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t,{expose:e}){const n=t,o=fu();e({updateIndicatorStyle:i}),Z();const r=V({size:null,position:null}),s=V([]);pe(()=>[o.modelValue.value,o?.dir.value],()=>{i()},{immediate:!0,flush:"post"}),Vd(()=>{s.value=Array.from(o.tabsList.value?.querySelectorAll('[role="tab"]')||[])}),rr(q(()=>[o.tabsList.value,...s.value]),i);function i(){const a=o.tabsList.value?.querySelector('[role="tab"][data-state="active"]');a&&(o.orientation.value==="horizontal"?r.value={size:a.offsetWidth,position:a.offsetLeft}:r.value={size:a.offsetHeight,position:a.offsetTop})}return(a,l)=>typeof r.value.size=="number"?(k(),D(h(se),X({key:0},n,{style:{"--reka-tabs-indicator-size":`${r.value.size}px`,"--reka-tabs-indicator-position":`${r.value.position}px`}}),{default:C(()=>[N(a.$slots,"default")]),_:3},16,["style"])):ie("v-if",!0)}}),MM=AM,PM=F({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{loop:n}=Ie(e),{forwardRef:o,currentElement:r}=Z(),s=fu();return s.tabsList=r,(i,a)=>(k(),D(h(Is),{"as-child":"",orientation:h(s).orientation.value,dir:h(s).dir.value,loop:h(n)},{default:C(()=>[A(h(se),{ref:h(o),role:"tablist","as-child":i.asChild,as:i.as,"aria-orientation":h(s).orientation.value},{default:C(()=>[N(i.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),kM=PM,RM=F({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,{forwardRef:n}=Z(),o=fu(),r=q(()=>Jg(o.baseId,e.value)),s=q(()=>eb(o.baseId,e.value)),i=q(()=>e.value===o.modelValue.value);return(a,l)=>(k(),D(h(Zi),{"as-child":"",focusable:!a.disabled,active:i.value},{default:C(()=>[A(h(se),{id:r.value,ref:h(n),role:"tab",type:a.as==="button"?"button":void 0,as:a.as,"as-child":a.asChild,"aria-selected":i.value?"true":"false","aria-controls":s.value,"data-state":i.value?"active":"inactive",disabled:a.disabled,"data-disabled":a.disabled?"":void 0,"data-orientation":h(o).orientation.value,onMousedown:l[0]||(l[0]=Ve(u=>{!a.disabled&&u.ctrlKey===!1?h(o).changeModelValue(a.value):u.preventDefault()},["left"])),onKeydown:l[1]||(l[1]=_t(u=>h(o).changeModelValue(a.value),["enter","space"])),onFocus:l[2]||(l[2]=()=>{const u=h(o).activationMode!=="manual";!i.value&&!a.disabled&&u&&h(o).changeModelValue(a.value)})},{default:C(()=>[N(a.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),OM=RM,IM=F({__name:"ToastAnnounceExclude",props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){return(e,n)=>(k(),D(h(se),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":e.altText||void 0},{default:C(()=>[N(e.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),DM=IM;const[pu,BM]=Ae("ToastProvider");var qM=F({inheritAttrs:!1,__name:"ToastProvider",props:{label:{type:String,required:!1,default:"Notification"},duration:{type:Number,required:!1,default:5e3},disableSwipe:{type:Boolean,required:!1},swipeDirection:{type:String,required:!1,default:"right"},swipeThreshold:{type:Number,required:!1,default:50}},setup(t){const e=t,{label:n,duration:o,disableSwipe:r,swipeDirection:s,swipeThreshold:i}=Ie(e);ht({isProvider:!0});const a=V(),l=V(0),u=V(!1),c=V(!1);if(e.label&&typeof e.label=="string"&&!e.label.trim()){const d="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(d)}return BM({label:n,duration:o,disableSwipe:r,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:a,onViewportChange(d){a.value=d},onToastAdd(){l.value++},onToastRemove(){l.value--},isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:c}),(d,f)=>N(d.$slots,"default")}}),FM=qM,LM=F({__name:"ToastAnnounce",setup(t){const e=pu(),n=Tw(1e3),o=V(!1);return Zv(()=>{o.value=!0}),(r,s)=>h(n)||o.value?(k(),D(h(Ds),{key:0},{default:C(()=>[Te(ge(h(e).label.value)+" ",1),N(r.$slots,"default")]),_:3})):ie("v-if",!0)}}),VM=LM;const $M="toast.swipeStart",NM="toast.swipeMove",jM="toast.swipeCancel",zM="toast.swipeEnd",Zc="toast.viewportPause",Jc="toast.viewportResume";function ya(t,e,n){const o=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),o.dispatchEvent(r)}function ah(t,e,n=0){const o=Math.abs(t.x),r=Math.abs(t.y),s=o>r;return e==="left"||e==="right"?s&&o>n:!s&&r>n}function UM(t){return t.nodeType===t.ELEMENT_NODE}function tb(t){const e=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&e.push(o.textContent),UM(o)){const r=o.ariaHidden||o.hidden||o.style.display==="none",s=o.dataset.rekaToastAnnounceExclude==="";if(!r)if(s){const i=o.dataset.rekaToastAnnounceAlt;i&&e.push(i)}else e.push(...tb(o))}}),e}const[HM,GM]=Ae("ToastRoot");var WM=F({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r,currentElement:s}=Z(),{CollectionItem:i}=ht(),a=pu(),l=V(null),u=V(null),c=q(()=>typeof n.duration=="number"?n.duration:a.duration.value),d=V(0),f=V(c.value),p=V(0),m=V(c.value),v=Zv(()=>{const _=new Date().getTime()-d.value;m.value=Math.max(f.value-_,0)},{fpsLimit:60});function b(_){_<=0||_===Number.POSITIVE_INFINITY||jn&&(window.clearTimeout(p.value),d.value=new Date().getTime(),p.value=window.setTimeout(g,_))}function g(_){const w=_?.pointerType==="";s.value?.contains(Je())&&w&&a.viewport.value?.focus(),w&&(a.isClosePausedRef.value=!1),o("close")}const y=q(()=>s.value?tb(s.value):null);if(n.type&&!["foreground","background"].includes(n.type)){const _="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(_)}return dt(_=>{const w=a.viewport.value;if(w){const x=()=>{b(f.value),v.resume(),o("resume")},P=()=>{const T=new Date().getTime()-d.value;f.value=f.value-T,window.clearTimeout(p.value),v.pause(),o("pause")};return w.addEventListener(Zc,P),w.addEventListener(Jc,x),()=>{w.removeEventListener(Zc,P),w.removeEventListener(Jc,x)}}}),pe(()=>[n.open,c.value],()=>{f.value=c.value,n.open&&!a.isClosePausedRef.value&&b(c.value)},{immediate:!0}),tf("Escape",_=>{o("escapeKeyDown",_),_.defaultPrevented||(a.isFocusedToastEscapeKeyDownRef.value=!0,g())}),Ee(()=>{a.onToastAdd()}),Dt(()=>{a.onToastRemove()}),GM({onClose:g}),(_,w)=>(k(),Q(he,null,[y.value?(k(),D(VM,{key:0,role:"alert","aria-live":_.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:C(()=>[Te(ge(y.value),1)]),_:1},8,["aria-live"])):ie("v-if",!0),h(a).viewport.value?(k(),D($d,{key:1,to:h(a).viewport.value},[A(h(i),null,{default:C(()=>[A(h(se),X({ref:h(r),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},_.$attrs,{as:_.as,"as-child":_.asChild,"data-state":_.open?"open":"closed","data-swipe-direction":h(a).swipeDirection.value,style:h(a).disableSwipe.value?void 0:{userSelect:"none",touchAction:"none"},onPointerdown:w[0]||(w[0]=Ve(x=>{h(a).disableSwipe.value||(l.value={x:x.clientX,y:x.clientY})},["left"])),onPointermove:w[1]||(w[1]=x=>{if(h(a).disableSwipe.value||!l.value)return;const P=x.clientX-l.value.x,T=x.clientY-l.value.y,M=!!u.value,E=["left","right"].includes(h(a).swipeDirection.value),S=["left","up"].includes(h(a).swipeDirection.value)?Math.min:Math.max,R=E?S(0,P):0,O=E?0:S(0,T),I=x.pointerType==="touch"?10:2,L={x:R,y:O},z={originalEvent:x,delta:L};M?(u.value=L,h(ya)(h(NM),W=>o("swipeMove",W),z)):h(ah)(L,h(a).swipeDirection.value,I)?(u.value=L,h(ya)(h($M),W=>o("swipeStart",W),z),x.target.setPointerCapture(x.pointerId)):(Math.abs(P)>I||Math.abs(T)>I)&&(l.value=null)}),onPointerup:w[2]||(w[2]=x=>{if(h(a).disableSwipe.value)return;const P=u.value,T=x.target;if(T.hasPointerCapture(x.pointerId)&&T.releasePointerCapture(x.pointerId),u.value=null,l.value=null,P){const M=x.currentTarget,E={originalEvent:x,delta:P};h(ah)(P,h(a).swipeDirection.value,h(a).swipeThreshold.value)?h(ya)(h(zM),S=>o("swipeEnd",S),E):h(ya)(h(jM),S=>o("swipeCancel",S),E),M?.addEventListener("click",S=>S.preventDefault(),{once:!0})}})}),{default:C(()=>[N(_.$slots,"default",{remaining:m.value,duration:c.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction","style"])]),_:3})],8,["to"])):ie("v-if",!0)],64))}}),KM=WM,YM=F({__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=HM(),{forwardRef:o}=Z();return(r,s)=>(k(),D(DM,{"as-child":""},{default:C(()=>[A(h(se),X(e,{ref:h(o),type:r.as==="button"?"button":void 0,onClick:h(n).onClose}),{default:C(()=>[N(r.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),XM=YM,QM=F({__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(se),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),ZM=QM,JM=F({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:"foreground"},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,o=e,{forwardRef:r}=Z(),s=st(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});return(i,a)=>(k(),D(h(Xt),{present:i.forceMount||h(s)},{default:C(()=>[A(KM,X({ref:h(r),open:h(s),type:i.type,as:i.as,"as-child":i.asChild,duration:i.duration},i.$attrs,{onClose:a[0]||(a[0]=l=>s.value=!1),onPause:a[1]||(a[1]=l=>o("pause")),onResume:a[2]||(a[2]=l=>o("resume")),onEscapeKeyDown:a[3]||(a[3]=l=>o("escapeKeyDown",l)),onSwipeStart:a[4]||(a[4]=l=>{o("swipeStart",l),l.defaultPrevented||l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:a[5]||(a[5]=l=>{if(o("swipeMove",l),!l.defaultPrevented){const{x:u,y:c}=l.detail.delta,d=l.currentTarget;d.setAttribute("data-swipe","move"),d.style.setProperty("--reka-toast-swipe-move-x",`${u}px`),d.style.setProperty("--reka-toast-swipe-move-y",`${c}px`)}}),onSwipeCancel:a[6]||(a[6]=l=>{if(o("swipeCancel",l),!l.defaultPrevented){const u=l.currentTarget;u.setAttribute("data-swipe","cancel"),u.style.removeProperty("--reka-toast-swipe-move-x"),u.style.removeProperty("--reka-toast-swipe-move-y"),u.style.removeProperty("--reka-toast-swipe-end-x"),u.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:a[7]||(a[7]=l=>{if(o("swipeEnd",l),!l.defaultPrevented){const{x:u,y:c}=l.detail.delta,d=l.currentTarget;d.setAttribute("data-swipe","end"),d.style.removeProperty("--reka-toast-swipe-move-x"),d.style.removeProperty("--reka-toast-swipe-move-y"),d.style.setProperty("--reka-toast-swipe-end-x",`${u}px`),d.style.setProperty("--reka-toast-swipe-end-y",`${c}px`),s.value=!1}})}),{default:C(({remaining:l,duration:u})=>[N(i.$slots,"default",{remaining:l,duration:u,open:h(s)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),eP=JM,tP=F({__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return Z(),(n,o)=>(k(),D(h(se),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),nP=tP,oP=F({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(t,{emit:e}){const n=e,o=pu();return(r,s)=>(k(),D(h(Ds),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:s[0]||(s[0]=i=>{const a=i.relatedTarget;!h(o).viewport.value?.contains(a)&&n("focusFromOutsideViewport")})},{default:C(()=>[N(r.$slots,"default")]),_:3}))}}),lh=oP,rP=F({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{type:Array,required:!1,default:()=>["F8"]},label:{type:[String,Function],required:!1,default:"Notifications ({hotkey})"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ol"}},setup(t){const e=t,{hotkey:n,label:o}=Ie(e),{forwardRef:r,currentElement:s}=Z(),{CollectionSlot:i,getItems:a}=ht(),l=pu(),u=q(()=>l.toastCount.value>0),c=V(),d=V(),f=q(()=>n.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));tf(n.value,()=>{s.value.focus()}),Ee(()=>{l.onViewportChange(s.value)}),dt(m=>{const v=s.value;if(u.value&&v){const b=()=>{if(!l.isClosePausedRef.value){const x=new CustomEvent(Zc);v.dispatchEvent(x),l.isClosePausedRef.value=!0}},g=()=>{if(l.isClosePausedRef.value){const x=new CustomEvent(Jc);v.dispatchEvent(x),l.isClosePausedRef.value=!1}},y=x=>{!v.contains(x.relatedTarget)&&g()},_=()=>{v.contains(Je())||g()},w=x=>{const P=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!P){const M=Je(),E=x.shiftKey;if(x.target===v&&E){c.value?.focus();return}const O=p({tabbingDirection:E?"backwards":"forwards"}),I=O.findIndex(L=>L===M);Ja(O.slice(I+1))?x.preventDefault():E?c.value?.focus():d.value?.focus()}};v.addEventListener("focusin",b),v.addEventListener("focusout",y),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",_),v.addEventListener("keydown",w),window.addEventListener("blur",b),window.addEventListener("focus",g),m(()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",y),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",_),v.removeEventListener("keydown",w),window.removeEventListener("blur",b),window.removeEventListener("focus",g)})}});function p({tabbingDirection:m}){const b=a().map(g=>g.ref).map(g=>{const y=[g,...sf(g)];return m==="forwards"?y:y.reverse()});return(m==="forwards"?b.reverse():b).flat()}return(m,v)=>(k(),D(h(Ox),{role:"region","aria-label":typeof h(o)=="string"?h(o).replace("{hotkey}",f.value):h(o)(f.value),tabindex:"-1",style:pt({pointerEvents:u.value?void 0:"none"})},{default:C(()=>[u.value?(k(),D(lh,{key:0,ref:b=>{c.value=h(un)(b)},onFocusFromOutsideViewport:v[0]||(v[0]=()=>{const b=p({tabbingDirection:"forwards"});h(Ja)(b)})},null,512)):ie("v-if",!0),A(h(i),null,{default:C(()=>[A(h(se),X({ref:h(r),tabindex:"-1",as:m.as,"as-child":m.asChild},m.$attrs),{default:C(()=>[N(m.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),u.value?(k(),D(lh,{key:1,ref:b=>{d.value=h(un)(b)},onFocusFromOutsideViewport:v[1]||(v[1]=()=>{const b=p({tabbingDirection:"backwards"});h(Ja)(b)})},null,512)):ie("v-if",!0)]),_:3},8,["aria-label","style"]))}}),sP=rP;const[Ef,iP]=Ae("TooltipProvider");var aP=F({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(t){const e=t,{delayDuration:n,skipDelayDuration:o,disableHoverableContent:r,disableClosingTrigger:s,ignoreNonKeyboardFocus:i,disabled:a}=Ie(e);Z();const l=V(!0),u=V(!1),{start:c,stop:d}=Jd(()=>{l.value=!0},o,{immediate:!1});return iP({isOpenDelayed:l,delayDuration:n,onOpen(){d(),l.value=!1},onClose(){c()},isPointerInTransitRef:u,disableHoverableContent:r,disableClosingTrigger:s,disabled:a,ignoreNonKeyboardFocus:i}),(f,p)=>N(f.$slots,"default")}}),lP=aP;const nb="tooltip.open",[hu,uP]=Ae("TooltipRoot");var cP=F({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,o=e;Z();const r=Ef(),s=q(()=>n.disableHoverableContent??r.disableHoverableContent.value),i=q(()=>n.disableClosingTrigger??r.disableClosingTrigger.value),a=q(()=>n.disabled??r.disabled.value),l=q(()=>n.delayDuration??r.delayDuration.value),u=q(()=>n.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),c=st(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});pe(c,_=>{r.onClose&&(_?(r.onOpen(),document.dispatchEvent(new CustomEvent(nb))):r.onClose())});const d=V(!1),f=V(),p=q(()=>c.value?d.value?"delayed-open":"instant-open":"closed"),{start:m,stop:v}=Jd(()=>{d.value=!0,c.value=!0},l,{immediate:!1});function b(){v(),d.value=!1,c.value=!0}function g(){v(),c.value=!1}function y(){m()}return uP({contentId:"",open:c,stateAttribute:p,trigger:f,onTriggerChange(_){f.value=_},onTriggerEnter(){r.isOpenDelayed.value?y():b()},onTriggerLeave(){s.value?g():v()},onOpen:b,onClose:g,disableHoverableContent:s,disableClosingTrigger:i,disabled:a,ignoreNonKeyboardFocus:u}),(_,w)=>(k(),D(h(Ji),null,{default:C(()=>[N(_.$slots,"default",{open:h(c)})]),_:3}))}}),dP=cP,fP=F({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=hu(),{forwardRef:s,currentElement:i}=Z(),a=q(()=>n.ariaLabel||i.value?.textContent),l=q(()=>{const{ariaLabel:u,...c}=n;return c});return Ee(()=>{Tn(window,"scroll",u=>{u.target?.contains(r.trigger.value)&&r.onClose()}),Tn(window,nb,r.onClose)}),(u,c)=>(k(),D(h(Xi),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:c[0]||(c[0]=d=>o("escapeKeyDown",d)),onPointerDownOutside:c[1]||(c[1]=d=>{h(r).disableClosingTrigger.value&&h(r).trigger.value?.contains(d.target)&&d.preventDefault(),o("pointerDownOutside",d)}),onFocusOutside:c[2]||(c[2]=Ve(()=>{},["prevent"])),onDismiss:c[3]||(c[3]=d=>h(r).onClose())},{default:C(()=>[A(h(au),X({ref:h(s),"data-state":h(r).stateAttribute.value},{...u.$attrs,...l.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:C(()=>[N(u.$slots,"default"),A(h(Ds),{id:h(r).contentId,role:"tooltip"},{default:C(()=>[Te(ge(a.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),ob=fP,pP=F({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(t){const n=cr(t),{forwardRef:o,currentElement:r}=Z(),{trigger:s,onClose:i}=hu(),a=Ef(),{isPointerInTransit:l,onPointerExit:u}=Fw(s,r);return a.isPointerInTransitRef=l,u(()=>{i()}),(c,d)=>(k(),D(ob,X({ref:h(o)},h(n)),{default:C(()=>[N(c.$slots,"default")]),_:3},16))}}),hP=pP,mP=F({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,o=e,r=hu(),s=yn(n,o),{forwardRef:i}=Z();return(a,l)=>(k(),D(h(Xt),{present:a.forceMount||h(r).open.value},{default:C(()=>[(k(),D(fo(h(r).disableHoverableContent.value?ob:hP),X({ref:h(i)},h(s)),{default:C(()=>[N(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),vP=mP,gP=F({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,o)=>(k(),D(h(Qi),qe(ze(e)),{default:C(()=>[N(n.$slots,"default")]),_:3},16))}}),bP=gP,yP=F({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=hu(),o=Ef();n.contentId||=It(void 0,"reka-tooltip-content");const{forwardRef:r,currentElement:s}=Z(),i=V(!1),a=V(!1),l=q(()=>n.disabled.value?{}:{click:v,focus:p,pointermove:d,pointerleave:f,pointerdown:c,blur:m});Ee(()=>{n.onTriggerChange(s.value)});function u(){setTimeout(()=>{i.value=!1},1)}function c(){n.open&&!n.disableClosingTrigger.value&&n.onClose(),i.value=!0,document.addEventListener("pointerup",u,{once:!0})}function d(b){b.pointerType!=="touch"&&!a.value&&!o.isPointerInTransitRef.value&&(n.onTriggerEnter(),a.value=!0)}function f(){n.onTriggerLeave(),a.value=!1}function p(b){i.value||n.ignoreNonKeyboardFocus.value&&!b.target.matches?.(":focus-visible")||n.onOpen()}function m(){n.onClose()}function v(){n.disableClosingTrigger.value||n.onClose()}return(b,g)=>(k(),D(h(ea),{"as-child":"",reference:b.reference},{default:C(()=>[A(h(se),X({ref:h(r),"aria-describedby":h(n).open.value?h(n).contentId:void 0,"data-state":h(n).stateAttribute.value,as:b.as,"as-child":e.asChild,"data-grace-area-trigger":""},Z_(l.value)),{default:C(()=>[N(b.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),_P=yP;function xl(t){return t.reduce((e,n)=>(e.push(n),n.children&&e.push(...xl(n.children)),e),[])}const[rb,wP]=Ae("TreeRoot");var xP=F({__name:"TreeRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},items:{type:Array,required:!1},expanded:{type:Array,required:!1},defaultExpanded:{type:Array,required:!1},getKey:{type:Function,required:!0},getChildren:{type:Function,required:!1,default:t=>t.children},selectionBehavior:{type:String,required:!1,default:"toggle"},multiple:{type:Boolean,required:!1,skipCheck:!0},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},propagateSelect:{type:Boolean,required:!1},bubbleSelect:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ul"}},emits:["update:modelValue","update:expanded"],setup(t,{emit:e}){const n=t,o=e,{items:r,multiple:s,disabled:i,propagateSelect:a,dir:l,bubbleSelect:u}=Ie(n),{handleTypeaheadSearch:c}=eu(),d=zn(l),f=V(),p=V(!1),m=Xd(),v=st(n,"modelValue",o,{defaultValue:n.defaultValue??(s.value?[]:void 0),passive:!0,deep:!0}),b=st(n,"expanded",o,{defaultValue:n.defaultExpanded??[],passive:n.expanded===void 0,deep:!0}),{onSelectItem:g,handleMultipleReplace:y}=Yw(v,n),_=q(()=>s.value&&Array.isArray(v.value)?v.value.map(E=>n.getKey(E)):[n.getKey(v.value??{})]);function w(E,S=1,R){return E.reduce((O,I,L)=>{const z=n.getKey(I),W=n.getChildren(I),H=b.value.includes(z),Y={_id:z,value:I,index:L,level:S,parentItem:R,hasChildren:!!W,bind:{value:I,level:S,"aria-setsize":E.length,"aria-posinset":L+1}};return O.push(Y),W&&H&&O.push(...w(W,S+1,I)),O},[])}const x=q(()=>{const E=n.items;return b.value.map(S=>S),w(E??[])});function P(E){if(p.value)m.trigger(E);else{const S=f.value?.getItems()??[];c(E.key,S)}}function T(E){if(p.value)return;const S=uf[E.key];We(()=>{y(S,Je(),f.value?.getItems,x.value.map(R=>R.value))})}function M(E){if(E.parentItem!=null&&Array.isArray(v.value)&&n.multiple){const S=x.value.find(R=>E.parentItem!=null&&n.getKey(R.value)===n.getKey(E.parentItem));S!=null&&(n.getChildren(S.value)?.every(O=>v.value.find(I=>n.getKey(I)===n.getKey(O)))?v.value=[...v.value,S.value]:v.value=v.value.filter(O=>n.getKey(O)!==n.getKey(S.value)),M(S))}}return wP({modelValue:v,selectedKeys:_,onSelect:E=>{const S=O=>n.getKey(O??{})===n.getKey(E),R=n.multiple&&Array.isArray(v.value)?v.value?.findIndex(S)!==-1:void 0;if(g(E,S),n.bubbleSelect&&n.multiple&&Array.isArray(v.value)){const O=x.value.find(I=>n.getKey(I.value)===n.getKey(E));O!=null&&M(O)}if(n.propagateSelect&&n.multiple&&Array.isArray(v.value)){const O=xl(n.getChildren(E)??[]);R?v.value=[...v.value].filter(I=>!O.some(L=>n.getKey(I??{})===n.getKey(L))):v.value=[...v.value,...O]}},expanded:b,onToggle(E){if(!(E?n.getChildren(E):void 0))return;const R=n.getKey(E)??E;b.value.includes(R)?b.value=b.value.filter(O=>O!==R):b.value=[...b.value,R]},getKey:n.getKey,getChildren:n.getChildren,items:r,expandedItems:x,disabled:i,multiple:s,dir:d,propagateSelect:a,bubbleSelect:u,isVirtual:p,virtualKeydownHook:m,handleMultipleReplace:y}),(E,S)=>(k(),D(h(Is),{ref_key:"rovingFocusGroupRef",ref:f,"as-child":"",orientation:"vertical",dir:h(d)},{default:C(()=>[A(h(se),{role:"tree",as:E.as,"as-child":E.asChild,"aria-multiselectable":h(s)?!0:void 0,onKeydown:[P,_t(Ve(T,["shift"]),["up","down"])]},{default:C(()=>[N(E.$slots,"default",{flattenItems:x.value,modelValue:h(v),expanded:h(b)})]),_:3},8,["as","as-child","aria-multiselectable","onKeydown"])]),_:3},8,["dir"]))}}),SP=xP;const CP="tree.select",TP="tree.toggle";var EP=F({inheritAttrs:!1,__name:"TreeItem",props:{value:{type:null,required:!0},level:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["select","toggle"],setup(t,{expose:e,emit:n}){const o=t,r=n,s=rb(),{getItems:i}=ht(),a=q(()=>!!s.getChildren(o.value)),l=q(()=>{const g=s.getKey(o.value);return s.expanded.value.includes(g)}),u=q(()=>{const g=s.getKey(o.value);return s.selectedKeys.value.includes(g)}),c=q(()=>{if(s.bubbleSelect.value&&a.value&&Array.isArray(s.modelValue.value)){const g=xl(s.getChildren(o.value)||[]);return g.some(y=>s.modelValue.value.find(_=>s.getKey(_)===s.getKey(y)))&&!g.every(y=>s.modelValue.value.find(_=>s.getKey(_)===s.getKey(y)))}else return s.propagateSelect.value&&u.value&&a.value&&Array.isArray(s.modelValue.value)?!xl(s.getChildren(o.value)||[]).every(y=>s.modelValue.value.find(_=>s.getKey(_)===s.getKey(y))):void 0});function d(g){if(a.value)if(l.value){const y=i().map(T=>T.ref),_=Je(),w=y.indexOf(_),P=[...y].slice(w).find(T=>Number(T.getAttribute("data-indent"))===o.level+1);P&&P.focus()}else b(g)}function f(g){if(l.value)b(g);else{const y=i().map(T=>T.ref),_=Je(),w=y.indexOf(_),P=[...y].slice(0,w).reverse().find(T=>Number(T.getAttribute("data-indent"))===o.level-1);P&&P.focus()}}async function p(g){r("select",g),!g?.defaultPrevented&&s.onSelect(o.value)}async function m(g){r("toggle",g),!g?.defaultPrevented&&s.onToggle(o.value)}async function v(g){if(!g)return;const y={originalEvent:g,value:o.value,isExpanded:l.value,isSelected:u.value};Ps(CP,p,y)}async function b(g){if(!g)return;const y={originalEvent:g,value:o.value,isExpanded:l.value,isSelected:u.value};Ps(TP,m,y)}return e({isExpanded:l,isSelected:u,isIndeterminate:c,handleToggle:()=>s.onToggle(o.value),handleSelect:()=>s.onSelect(o.value)}),(g,y)=>(k(),D(h(Zi),{"as-child":"",value:g.value,"allow-shift-key":""},{default:C(()=>[A(h(se),X(g.$attrs,{role:"treeitem",as:g.as,"as-child":g.asChild,"aria-selected":u.value,"aria-expanded":a.value?l.value:void 0,"aria-level":g.level,"data-indent":g.level,"data-selected":u.value?"":void 0,"data-expanded":l.value?"":void 0,onKeydown:[_t(Ve(v,["self","prevent"]),["enter","space"]),y[0]||(y[0]=_t(Ve(_=>h(s).dir.value==="ltr"?d(_):f(_),["prevent"]),["right"])),y[1]||(y[1]=_t(Ve(_=>h(s).dir.value==="ltr"?f(_):d(_),["prevent"]),["left"]))],onClick:y[2]||(y[2]=Ve(_=>{v(_),b(_)},["stop"]))}),{default:C(()=>[N(g.$slots,"default",{isExpanded:l.value,isSelected:u.value,isIndeterminate:c.value,handleSelect:()=>h(s).onSelect(g.value),handleToggle:()=>h(s).onToggle(g.value)})]),_:3},16,["as","as-child","aria-selected","aria-expanded","aria-level","data-indent","data-selected","data-expanded","onKeydown"])]),_:3},8,["value"]))}}),AP=EP,MP=F({__name:"TreeVirtualizer",props:{overscan:{type:Number,required:!1},estimateSize:{type:[Number,Function],required:!1},textContent:{type:Function,required:!1}},setup(t){const e=t,n=e0(),o=rb(),r=Ow(),{getItems:s}=ht(),i=Zd("",1e3),a=q(()=>{const f=p=>e.textContent?e.textContent(p):p.toString().toLowerCase();return o.expandedItems.value.map((p,m)=>({index:m,textContent:f(p.value)}))});o.isVirtual.value=!0;const l=q(()=>{const f=r.value;if(f){const p=window.getComputedStyle(f);return{start:Number.parseFloat(p.paddingBlockStart||p.paddingTop),end:Number.parseFloat(p.paddingBlockEnd||p.paddingBottom)}}else return{start:0,end:0}}),u=iC({get scrollPaddingStart(){return l.value.start},get scrollPaddingEnd(){return l.value.end},get count(){return o.expandedItems.value.length??0},get horizontal(){return!1},getItemKey(f){return f+o.getKey(o.expandedItems.value[f].value)},estimateSize(f){return typeof e.estimateSize=="function"?e.estimateSize(f):e.estimateSize??28},getScrollElement(){return r.value},overscan:e.overscan??12}),c=q(()=>u.value.getVirtualItems().map(f=>({item:f,is:or(n.default({item:o.expandedItems.value[f.index],virtualizer:u.value,virtualItem:f})[0],{"data-index":f.index,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}})})));function d(f){u.value.scrollToIndex(f,{align:"start"}),requestAnimationFrame(()=>{const p=r.value.querySelector(`[data-index="${f}"]`);p instanceof HTMLElement&&p.focus()})}return o.virtualKeydownHook.on(f=>{const p=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!p)return;const v=uf[f.key];if(["first","last"].includes(v)){f.preventDefault();const b=v==="first"?0:o.expandedItems.value.length-1;u.value.scrollToIndex(b),requestAnimationFrame(()=>{const g=s();(v==="first"?g[0]:g[g.length-1]).ref.focus()})}else if(v==="prev"&&f.key!=="ArrowUp"){const b=Je(),g=Number(b.getAttribute("data-index")),y=Number(b.getAttribute("data-indent")),w=o.expandedItems.value.slice(0,g).map((x,P)=>({...x,index:P})).reverse().find(x=>x.level===y-1);w&&d(w.index)}else if(!v&&!p){i.value+=f.key;const b=Number(Je()?.getAttribute("data-index")),g=a.value[b].textContent,y=a.value.map(x=>x.textContent),_=og(y,i.value,g),w=a.value.find(x=>x.textContent===_);w&&d(w.index)}We(()=>{f.shiftKey&&v&&o.handleMultipleReplace(v,Je(),s,o.expandedItems.value.map(b=>b.value))})}),(f,p)=>(k(),Q("div",{"data-reka-virtualizer":"",style:pt({position:"relative",width:"100%",height:`${h(u).getTotalSize()}px`})},[(k(!0),Q(he,null,lt(c.value,({is:m,item:v})=>(k(),D(fo(m),{key:v.key}))),128))],4))}}),PP=MP;function sb(t,e){return ji()?(zi(t,e),!0):!1}function _i(){const t=new Set,e=s=>{t.delete(s)};return{on:s=>{t.add(s);const i=()=>e(s);return sb(i),{off:i}},off:e,trigger:(...s)=>Promise.all(Array.from(t).map(i=>i(...s))),clear:()=>{t.clear()}}}const mu=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const kP=Object.prototype.toString,RP=t=>kP.call(t)==="[object Object]",OP=()=>{},IP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function Wu(...t){if(t.length!==1)return ov(...t);const e=t[0];return typeof e=="function"?io(Ui(()=>({get:e,set:OP}))):V(e)}function uh(t,e=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(e?()=>r(n):o,t)})}function DP(t,...e){return e.some(n=>n in t)}function Ku(t){return Array.isArray(t)?t:[t]}function BP(t,e={}){if(!Re(t))return Ie(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const o in t.value)n[o]=Ui(()=>({get(){return t.value[o]},set(r){var s;if(!((s=me(e.replaceRef))!==null&&s!==void 0)||s)if(Array.isArray(t.value)){const i=[...t.value];i[o]=r,t.value=i}else{const i={...t.value,[o]:r};Object.setPrototypeOf(i,Object.getPrototypeOf(t.value)),t.value=i}else t.value[o]=r}}));return n}function ed(t,e=!1){function n(d,{flush:f="sync",deep:p=!1,timeout:m,throwOnTimeout:v}={}){let b=null;const g=[new Promise(y=>{b=pe(t,_=>{d(_)!==e&&(b?b():We(()=>b?.()),y(_))},{flush:f,deep:p,immediate:!0})})];return m!=null&&g.push(uh(m,v).then(()=>me(t)).finally(()=>b?.())),Promise.race(g)}function o(d,f){if(!Re(d))return n(_=>_===d,f);const{flush:p="sync",deep:m=!1,timeout:v,throwOnTimeout:b}=f??{};let g=null;const y=[new Promise(_=>{g=pe([t,d],([w,x])=>{e!==(w===x)&&(g?g():We(()=>g?.()),_(w))},{flush:p,deep:m,immediate:!0})})];return v!=null&&y.push(uh(v,b).then(()=>me(t)).finally(()=>(g?.(),me(t)))),Promise.race(y)}function r(d){return n(f=>!!f,d)}function s(d){return o(null,d)}function i(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(p=>{const m=Array.from(p);return m.includes(d)||m.includes(me(d))},f)}function u(d){return c(1,d)}function c(d=1,f){let p=-1;return n(()=>(p+=1,p>=d),f)}return Array.isArray(me(t))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return ed(t,!e)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:i,changed:u,changedTimes:c,get not(){return ed(t,!e)}}}function qP(t){return ed(t)}function FP(t,e,n={}){const{immediate:o=!0,immediateCallback:r=!1}=n,s=je(!1);let i;function a(){i&&(clearTimeout(i),i=void 0)}function l(){s.value=!1,a()}function u(...c){r&&t(),a(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=void 0,t(...c)},me(e))}return o&&(s.value=!0,mu&&u()),sb(l),{isPending:Tr(s),start:u,stop:l}}function LP(t,e,n){return pe(t,e,{...n,immediate:!0})}const wi=mu?window:void 0,VP=mu?window.document:void 0;function ib(t){var e;const n=me(t);return(e=n?.$el)!==null&&e!==void 0?e:n}function Pt(...t){const e=(o,r,s,i)=>(o.addEventListener(r,s,i),()=>o.removeEventListener(r,s,i)),n=q(()=>{const o=Ku(me(t[0])).filter(r=>r!=null);return o.every(r=>typeof r!="string")?o:void 0});return LP(()=>{var o,r;return[(o=(r=n.value)===null||r===void 0?void 0:r.map(s=>ib(s)))!==null&&o!==void 0?o:[wi].filter(s=>s!=null),Ku(me(n.value?t[1]:t[0])),Ku(h(n.value?t[2]:t[1])),me(n.value?t[3]:t[2])]},([o,r,s,i],a,l)=>{if(!o?.length||!r?.length||!s?.length)return;const u=RP(i)?{...i}:i,c=o.flatMap(d=>r.flatMap(f=>s.map(p=>e(d,f,p,u))));l(()=>{c.forEach(d=>d())})},{flush:"post"})}function $P(){const t=je(!1),e=Nt();return e&&Ee(()=>{t.value=!0},e),t}function NP(t){const e=$P();return q(()=>(e.value,!!t()))}function jP(t,e={}){var n;const{pointerTypes:o,preventDefault:r,stopPropagation:s,exact:i,onMove:a,onEnd:l,onStart:u,initialValue:c,axis:d="both",draggingElement:f=wi,containerElement:p,handle:m=t,buttons:v=[0]}=e,b=V((n=me(c))!==null&&n!==void 0?n:{x:0,y:0}),g=V(),y=T=>o?o.includes(T.pointerType):!0,_=T=>{me(r)&&T.preventDefault(),me(s)&&T.stopPropagation()},w=T=>{var M;if(!me(v).includes(T.button)||me(e.disabled)||!y(T)||me(i)&&T.target!==me(t))return;const E=me(p),S=E==null||(M=E.getBoundingClientRect)===null||M===void 0?void 0:M.call(E),R=me(t).getBoundingClientRect(),O={x:T.clientX-(E?R.left-S.left+E.scrollLeft:R.left),y:T.clientY-(E?R.top-S.top+E.scrollTop:R.top)};u?.(O,T)!==!1&&(g.value=O,_(T))},x=T=>{if(me(e.disabled)||!y(T)||!g.value)return;const M=me(p),E=me(t).getBoundingClientRect();let{x:S,y:R}=b.value;(d==="x"||d==="both")&&(S=T.clientX-g.value.x,M&&(S=Math.min(Math.max(0,S),M.scrollWidth-E.width))),(d==="y"||d==="both")&&(R=T.clientY-g.value.y,M&&(R=Math.min(Math.max(0,R),M.scrollHeight-E.height))),b.value={x:S,y:R},a?.(b.value,T),_(T)},P=T=>{me(e.disabled)||!y(T)||g.value&&(g.value=void 0,l?.(b.value,T),_(T))};if(mu){const T=()=>{var M;return{capture:(M=e.capture)!==null&&M!==void 0?M:!0,passive:!me(r)}};Pt(m,"pointerdown",w,T),Pt(f,"pointermove",x,T),Pt(f,"pointerup",P,T)}return{...BP(b),position:b,isDragging:q(()=>!!g.value),style:q(()=>`left:${b.value.x}px;top:${b.value.y}px;`)}}function zP(t={}){const{initialValue:e=""}=t,n=NP(()=>typeof window<"u"&&"EyeDropper"in window),o=je(e);async function r(s){if(!n.value)return;const i=await new window.EyeDropper().open(s);return o.value=i.sRGBHex,i}return{isSupported:n,sRGBHex:o,open:r}}const UP={json:"application/json",text:"text/plain"};function Sl(t){return t&&DP(t,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}const HP=/^(?:[a-z][a-z\d+\-.]*:)?\/\//i;function GP(t){return HP.test(t)}function xi(t){return typeof Headers<"u"&&t instanceof Headers?Object.fromEntries(t.entries()):t}function Yr(t,...e){return t==="overwrite"?async n=>{let o;for(let r=e.length-1;r>=0;r--)if(e[r]!=null){o=e[r];break}return o?{...n,...await o(n)}:n}:async n=>{for(const o of e)o&&(n={...n,...await o(n)});return n}}function WP(t={}){const e=t.combination||"chain",n=t.options||{},o=t.fetchOptions||{};function r(s,...i){const a=q(()=>{const c=me(t.baseUrl),d=me(s);return c&&!GP(d)?YP(c,d):d});let l=n,u=o;return i.length>0&&(Sl(i[0])?l={...l,...i[0],beforeFetch:Yr(e,n.beforeFetch,i[0].beforeFetch),afterFetch:Yr(e,n.afterFetch,i[0].afterFetch),onFetchError:Yr(e,n.onFetchError,i[0].onFetchError)}:u={...u,...i[0],headers:{...xi(u.headers)||{},...xi(i[0].headers)||{}}}),i.length>1&&Sl(i[1])&&(l={...l,...i[1],beforeFetch:Yr(e,n.beforeFetch,i[1].beforeFetch),afterFetch:Yr(e,n.afterFetch,i[1].afterFetch),onFetchError:Yr(e,n.onFetchError,i[1].onFetchError)}),KP(a,u,l)}return r}function KP(t,...e){var n,o;const r=typeof AbortController=="function";let s={},i={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const a={method:"GET",type:"text",payload:void 0};e.length>0&&(Sl(e[0])?i={...i,...e[0]}:s=e[0]),e.length>1&&Sl(e[1])&&(i={...i,...e[1]});const{fetch:l=(n=wi?.fetch)!==null&&n!==void 0?n:(o=globalThis)===null||o===void 0?void 0:o.fetch,initialData:u,timeout:c}=i,d=_i(),f=_i(),p=_i(),m=je(!1),v=je(!1),b=je(!1),g=je(null),y=je(null),_=je(null),w=je(u||null),x=q(()=>r&&v.value);let P,T;const M=H=>{r&&(P?.abort(H),P=new AbortController,P.signal.onabort=()=>b.value=!0,s={...s,signal:P.signal})},E=H=>{v.value=H,m.value=!H};c&&(T=FP(M,c,{immediate:!1}));let S=0;const R=async(H=!1)=>{var Y;M(),E(!0),_.value=null,g.value=null,b.value=!1,S+=1;const fe=S,le={method:a.method,headers:{}},we=me(a.payload);if(we){var Se;const Fe=xi(le.headers),Ce=Object.getPrototypeOf(we);!a.payloadType&&we&&(Ce===Object.prototype||Array.isArray(Ce))&&!(we instanceof FormData)&&(a.payloadType="json"),a.payloadType&&(Fe["Content-Type"]=(Se=UP[a.payloadType])!==null&&Se!==void 0?Se:a.payloadType),le.body=a.payloadType==="json"?JSON.stringify(we):we}let tt=!1;const it={url:me(t),options:{...le,...s},cancel:()=>{tt=!0}};if(i.beforeFetch&&Object.assign(it,await i.beforeFetch(it)),tt||!l)return E(!1),Promise.resolve(null);let He=null;return T&&T.start(),l(it.url,{...le,...it.options,headers:{...xi(le.headers),...xi((Y=it.options)===null||Y===void 0?void 0:Y.headers)}}).then(async Fe=>{if(y.value=Fe,g.value=Fe.status,He=await Fe.clone()[a.type](),!Fe.ok)throw w.value=u||null,new Error(Fe.statusText);return i.afterFetch&&({data:He}=await i.afterFetch({data:He,response:Fe,context:it,execute:R})),w.value=He,d.trigger(Fe),Fe}).catch(async Fe=>{let Ce=Fe.message||Fe.name;if(i.onFetchError&&({error:Ce,data:He}=await i.onFetchError({data:He,error:Fe,response:y.value,context:it,execute:R})),_.value=Ce,i.updateDataOnError&&(w.value=He),f.trigger(Fe),H)throw Fe;return null}).finally(()=>{fe===S&&E(!1),T&&T.stop(),p.trigger(null)})},O=Wu(i.refetch);pe([O,Wu(t)],([H])=>H&&R(),{deep:!0});const I={isFinished:io(m),isFetching:io(v),statusCode:g,response:y,error:_,data:w,canAbort:x,aborted:b,abort:M,execute:R,onFetchResponse:d.on,onFetchError:f.on,onFetchFinally:p.on,get:L("GET"),put:L("PUT"),post:L("POST"),delete:L("DELETE"),patch:L("PATCH"),head:L("HEAD"),options:L("OPTIONS"),json:W("json"),text:W("text"),blob:W("blob"),arrayBuffer:W("arrayBuffer"),formData:W("formData")};function L(H){return(Y,fe)=>{if(!v.value)return a.method=H,a.payload=Y,a.payloadType=fe,Re(a.payload)&&pe([O,Wu(a.payload)],([le])=>le&&R(),{deep:!0}),{...I,then(le,we){return z().then(le,we)}}}}function z(){return new Promise((H,Y)=>{qP(m).toBe(!0).then(()=>H(I)).catch(Y)})}function W(H){return()=>{if(!v.value)return a.type=H,{...I,then(Y,fe){return z().then(Y,fe)}}}}return i.immediate&&Promise.resolve().then(()=>R()),{...I,then(H,Y){return z().then(H,Y)}}}function YP(t,e){return!t.endsWith("/")&&!e.startsWith("/")?`${t}/${e}`:t.endsWith("/")&&e.startsWith("/")?`${t.slice(0,-1)}${e}`:`${t}${e}`}const XP={multiple:!0,accept:"*",reset:!1,directory:!1};function QP(t){if(!t)return null;if(t instanceof FileList)return t;const e=new DataTransfer;for(const n of t)e.items.add(n);return e.files}function ZP(t={}){const{document:e=VP}=t,n=V(QP(t.initialFiles)),{on:o,trigger:r}=_i(),{on:s,trigger:i}=_i(),a=q(()=>{var d;const f=(d=ib(t.input))!==null&&d!==void 0?d:e?e.createElement("input"):void 0;return f&&(f.type="file",f.onchange=p=>{n.value=p.target.files,r(n.value)},f.oncancel=()=>{i()}),f}),l=()=>{n.value=null,a.value&&a.value.value&&(a.value.value="",r(null))},u=d=>{const f=a.value;f&&(f.multiple=me(d.multiple),f.accept=me(d.accept),f.webkitdirectory=me(d.directory),IP(d,"capture")&&(f.capture=me(d.capture)))},c=d=>{const f=a.value;if(!f)return;const p={...XP,...t,...d};u(p),me(p.reset)&&l(),f.click()};return dt(()=>{u(t)}),{files:io(n),open:c,reset:l,onCancel:s,onChange:o}}const ai={Content:vx,Header:bx,Item:hx,Root:dx,Trigger:_x},gr={Root:Sx,Trigger:f1,Portal:l1,Content:Jx,Overlay:s1,Close:Tx,Title:c1,Description:t1},Mn={Root:xT,Trigger:QT,Portal:FT,Content:AT,Arrow:gT,Item:RT,Group:PT,Separator:zT,CheckboxItem:yT,ItemIndicator:IT,Label:BT,RadioGroup:VT,RadioItem:NT,Sub:HT,SubContent:WT,SubTrigger:YT,Menu:TT},_a={Root:ZC,Trigger:mT,Portal:pT,Content:dT,Arrow:nT,Close:rT,Anchor:eT},wa={Root:ME,Viewport:JE,Scrollbar:GE,Thumb:QE,Corner:OE},No={Root:sA,Trigger:WA,Portal:LA,Content:wA,Arrow:vA,Separator:HA,ItemIndicator:OA,Label:qA,Group:TA,Item:kA,ItemText:DA,Viewport:QA,ScrollUpButton:zA,ScrollDownButton:NA,Value:YA,Icon:AA},xa={Root:CM,List:kM,Content:EM,Trigger:OM,Indicator:MM},ch={Root:SP,Item:AP,Virtualizer:PP},vu=F({__name:"MDialog",props:Os({title:{},root:{},trigger:{},portal:{},overlay:{},content:{},resize:{type:Boolean},outsideInteraction:{type:Boolean}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),n=lo("dialogContentRef"),o=lo("handleRef"),{style:r,x:s,y:i}=jP(n,{preventDefault:!0,handle:o,containerElement:document.body});return pe(n,a=>{if(!a)return;const{innerWidth:l,innerHeight:u}=window,c=n.value?.clientWidth||0,d=n.value?.clientHeight||0;s.value=l/2-c/2,i.value=u/2-d/2}),(a,l)=>{const u=Ds;return k(),D(h(gr).Root,X(t.root,{open:e.value,"onUpdate:open":l[1]||(l[1]=c=>e.value=c)}),{default:C(()=>[A(h(gr).Trigger,qe(ze(t.trigger)),{default:C(()=>[N(a.$slots,"trigger")]),_:3},16),A(h(gr).Portal,qe(ze(t.portal)),{default:C(()=>[A(h(gr).Overlay,X({class:"fixed inset-0"},t.overlay),null,16),A(h(gr).Content,X(t.content,{"as-child":"",onInteractOutside:l[0]||(l[0]=c=>t.outsideInteraction?c.preventDefault():void 0)}),{default:C(()=>[j("div",{ref_key:"dialogContentRef",ref:n,style:pt(h(r)),class:En(["fixed overflow-hidden rounded p-0 z-1000",[a.$attrs.class,{resize:t.resize}]])},[j("div",{ref_key:"handleRef",ref:o,class:"z-10 absolute top-0 left-0 w-full h-9 cursor-move"},null,512),A(u,{"as-child":""},{default:C(()=>[A(h(gr).Title,null,{default:C(()=>[Te(ge(t.title),1)]),_:1})]),_:1}),A(u,{"as-child":""},{default:C(()=>[A(h(gr).Description)]),_:1}),N(a.$slots,"default")],6)]),_:3},16)]),_:3},16)]),_:3},16,["open"])}}}),Ls=F({__name:"ScrollContainer",setup(t){return(e,n)=>(k(),D(h(wa).Root,{class:"relative gap-1 overflow-hidden h-full",type:"auto"},{default:C(()=>[A(h(wa).Viewport,{class:"snap h-full w-full snap-y snap-proximity select-none"},{default:C(()=>[N(e.$slots,"default")]),_:3}),A(h(wa).Scrollbar,{orientation:"vertical",class:"flex touch-none p-0.5 transition-colors duration-160 ease-out data-[orientation=horizontal]:h-2.5 data-[orientation=horizontal]:flex-col data-[orientation=vertical]:w-2.5"},{default:C(()=>[A(h(wa).Thumb,{class:"relative flex-1 rounded bg-ui-scroll-item before:absolute before:top-1/2 before:left-1/2 before:h-full before:min-h-[44px] before:w-full before:min-w-5 before:-translate-x-1/2 before:-translate-y-1/2 before:content-['']"})]),_:1})]),_:3}))}}),zr=F({__name:"MAccordionRoot",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},setup(t){return(e,n)=>(k(),D(h(ai).Root,qe(ze(e.$props)),{default:C(()=>[N(e.$slots,"default")]),_:3},16))}}),JP="modulepreload",ek=function(t){return"/"+t},dh={},de=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=l(n.map(u=>{if(u=ek(u),u in dh)return;dh[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":JP,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},tk=(t,e,n)=>{const o=t[e];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((r,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Ct=F({__name:"MxIcon",props:{name:{}},setup(t){const e=t,n=q(()=>{const o=e.name.split("/"),r=o[0],s=o[1];return j_(()=>tk(Object.assign({"../../assets/icons/base/arrow-right.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.a),[]),"../../assets/icons/base/triangle-down.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.t),[]),"../../assets/icons/base/triangle-right.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.b),[]),"../../assets/icons/keys/lmb.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.l),[]),"../../assets/icons/keys/mmb.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.m),[]),"../../assets/icons/light/light-area.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.c),[]),"../../assets/icons/light/light-point.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.d),[]),"../../assets/icons/light/light-spot.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.e),[]),"../../assets/icons/light/light-sun.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.f),[]),"../../assets/icons/light/light.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.g),[]),"../../assets/icons/mesh/mesh-circle.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.h),[]),"../../assets/icons/mesh/mesh-cone.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.i),[]),"../../assets/icons/mesh/mesh-cube.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.j),[]),"../../assets/icons/mesh/mesh-cylinder.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.k),[]),"../../assets/icons/mesh/mesh-icosphere.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.n),[]),"../../assets/icons/mesh/mesh-plane.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.o),[]),"../../assets/icons/mesh/mesh-sphere.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.p),[]),"../../assets/icons/mesh/mesh-torus.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.q),[]),"../../assets/icons/mesh/mesh.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.r),[]),"../../assets/icons/misc/export.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i._),[]),"../../assets/icons/misc/eye-dropper.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.s),[]),"../../assets/icons/misc/full-screen.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.u),[]),"../../assets/icons/misc/github.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.v),[]),"../../assets/icons/misc/text.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.w),[]),"../../assets/icons/misc/url.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.x),[]),"../../assets/icons/misc/visibility-hidden.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.y),[]),"../../assets/icons/misc/visibility-visible.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.z),[]),"../../assets/icons/outliner/empty.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.A),[]),"../../assets/icons/outliner/group.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.B),[]),"../../assets/icons/outliner/outliner.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.C),[]),"../../assets/icons/properties/camera-properties.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.D),[]),"../../assets/icons/properties/data-properties.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.E),[]),"../../assets/icons/properties/geometry-properties.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.F),[]),"../../assets/icons/properties/light-properties.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.G),[]),"../../assets/icons/properties/properties.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.H),[]),"../../assets/icons/properties/text-properties.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.I),[]),"../../assets/icons/shading/shading-preview.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.J),[]),"../../assets/icons/shading/shading-rendered.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.K),[]),"../../assets/icons/shading/shading-solid.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.L),[]),"../../assets/icons/shading/shading-wireframe.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.M),[]),"../../assets/icons/toolbar/tool-move.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.N),[]),"../../assets/icons/toolbar/tool-rotate.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.O),[]),"../../assets/icons/toolbar/tool-scale.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.P),[]),"../../assets/icons/ui/arrow-right.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.Q),[]),"../../assets/icons/ui/asset-browser.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.R),[]),"../../assets/icons/ui/checkbox-checked.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.S),[]),"../../assets/icons/ui/checkbox-unchecked.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.T),[]),"../../assets/icons/ui/checkmark.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.U),[]),"../../assets/icons/ui/chevron-right.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.V),[]),"../../assets/icons/ui/collection.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.W),[]),"../../assets/icons/ui/import.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.X),[]),"../../assets/icons/ui/material-data.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.Y),[]),"../../assets/icons/ui/object-data.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.Z),[]),"../../assets/icons/ui/render-image.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.$),[]),"../../assets/icons/ui/viewport.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.a0),[]),"../../assets/icons/view/view-orthographic.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.a1),[]),"../../assets/icons/view/view-perspective.svg":()=>de(()=>import("./icons-DXfuyuLu.js").then(i=>i.a2),[])}),`../../assets/icons/${r}/${s}.svg`,6))});return(o,r)=>(k(),D(fo(n.value),qe(ze(o.$attrs)),null,16))}}),Ur=F({__name:"InputCheckbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=yn(t,e);return(s,i)=>{const a=Ct,l=O1,u=dg;return k(),D(u,X(h(r),{class:"size-5 rounded border border-ui-option-outline bg-ui-option-inner"}),{default:C(()=>[A(l,{class:"h-full text-xs w-full rounded flex items-center justify-center bg-ui-option-inner-selected","data-testid":"checkbox-indicator"},{default:C(()=>[A(a,{name:"ui/checkmark"})]),_:1})]),_:1},16)}}}),nk={class:"font-panel-title"},ok={class:"inset-0 absolute z-10 bg-ui-panel-background/75 pointer-events-none"},mo=F({__name:"MAccordionItem",props:Os({item:{},header:{},trigger:{},content:{},label:{},nested:{type:Boolean},showCheckbox:{type:Boolean}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue");return(n,o)=>{const r=Ct,s=Ur;return k(),D(h(ai).Item,X({class:"text-xs rounded-ui-panel"},t.item,{class:{"border-ui-panel-outline border":!t.nested}}),{default:C(({open:i})=>[A(h(ai).Header,X({class:"bg-ui-panel-header px-2 py-1 text-ui-panel-title"},t.header),{default:C(()=>[A(h(ai).Trigger,X({class:"group flex w-full cursor-pointer items-center gap-1"},t.trigger),{default:C(()=>[A(r,{name:"ui/arrow-right",class:"transition-rotate inline-block size-[1em] duration-200 group-data-[state='open']:rotate-90"}),t.showCheckbox?(k(),D(s,{key:0,modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),onClick:o[1]||(o[1]=Ve(()=>{},["stop"]))},null,8,["modelValue"])):ie("",!0),j("span",nk,ge(t.label),1)]),_:1},16)]),_:1},16),A(h(ai).Content,X({class:"data-[state='open']:animate-accordion-slide-down data-[state='closed']:animate-accordion-slide-up overflow-hidden text-ui-panel-text bg-ui-panel-header relative"},t.content,{class:{"bg-ui-sub-panel":t.nested}}),{default:C(()=>[Oo(j("div",ok,null,512),[[Bi,!e.value&&t.showCheckbox]]),N(n.$slots,"default",{open:i})]),_:2},1040,["class"])]),_:3},16,["class"])}}}),Af=F({__name:"MSlider",props:Os({root:{},track:{},range:{},thumb:{},group:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue");return(n,o)=>{const r=mM,s=wM,i=yM,a=fM;return k(),D(a,X({modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=l=>e.value=l),class:["w-full h-5 block relative border-ui-slider-outline",{"not-last:border-b":t.group}]},n.$props.root),{default:C(()=>[A(s,X({class:"h-full bg-ui-slider-inner block"},n.$props.track),{default:C(()=>[A(r,X({class:"bg-ui-slider-item absolute h-full"},n.$props.range),null,16),N(n.$slots,"default")]),_:3},16),A(i,qe(ze(n.$props.thumb)),null,16)]),_:3},16,["modelValue","class"])}}}),rk={class:"group flex grow max-w-full overflow-hidden rounded-sm bg-ui-number-inner"},_n=F({__name:"InputNumber",props:Os({defaultValue:{},modelValue:{},min:{},max:{},step:{},stepSnapping:{type:Boolean},formatOptions:{default:()=>({minimumFractionDigits:3})},locale:{},disabled:{type:Boolean},readonly:{type:Boolean},disableWheelChange:{type:Boolean},invertWheelChange:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Ot(t,"modelValue");return(o,r)=>{const s=Ct,i=cE,a=hE,l=fE,u=lE;return k(),D(u,X(e,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=c=>n.value=c),class:"flex justify-end"}),{default:C(()=>[j("div",rk,[A(i,{class:"cursor-pointer shrink-0 grow-0 bg-ui-number-inner px-0.5 opacity-0 group-hover:opacity-100 hover:brightness-125"},{default:C(()=>[A(s,{name:"ui/arrow-right",class:"rotate-180 text-[0.75em]"})]),_:1}),A(a,{class:"grow w-full bg-ui-number-inner text-center outline-none group-hover:brightness-110 py-0.5","data-testid":"number-input"}),A(l,{class:"shrink-0 grow-0 cursor-pointer bg-ui-number-inner px-0.5 opacity-0 group-hover:opacity-100 hover:brightness-125"},{default:C(()=>[A(s,{name:"ui/arrow-right",class:"text-[0.75em]"})]),_:1})])]),_:1},16,["modelValue"])}}}),sk={key:0},ik={key:1},ak={key:2,class:"text-[0.9em] opacity-50"},oa=F({__name:"MTooltip",props:{tooltipDisabled:{type:Boolean},tooltip:{},options:{}},setup(t){return(e,n)=>(k(),D(h(dP),{disabled:t.tooltipDisabled},{default:C(()=>[A(h(_P),X({"as-child":""},t.options?.trigger),{default:C(()=>[N(e.$slots,"default")]),_:3},16),A(h(bP),null,{default:C(()=>[A(h(vP),X({align:"start"},t.options?.content,{class:"flex max-w-xs flex-col gap-1 rounded border border-ui-tooltip-outline bg-ui-tooltip-inner p-2 text-tooltip text-ui-tooltip-text"}),{default:C(()=>[N(e.$slots,"content",{},()=>[t.tooltip?.title?(k(),Q("span",sk,ge(t.tooltip.title),1)):ie("",!0),t.tooltip?.text?(k(),Q("p",ik,ge(t.tooltip?.text),1)):ie("",!0),t.tooltip?.footer?(k(),Q("span",ak,ge(t.tooltip?.footer),1)):ie("",!0)])]),_:3},16)]),_:3})]),_:3},8,["disabled"]))}}),mt=F({__name:"InputField",props:{label:{},inputWidth:{default:"auto"},labelWidth:{default:"min-content"},reverse:{type:Boolean},tooltip:{default:()=>{}}},setup(t){const e=q(()=>`${t.labelWidth} ${t.inputWidth}`);return(n,o)=>{const r=oa;return k(),Q("div",{class:"grid grid-cols-[min-content_1fr] items-start gap-x-2.5 whitespace-nowrap relative",style:pt({gridTemplateColumns:e.value})},[A(r,{tooltip:t.tooltip,"tooltip-disabled":!t.tooltip},{default:C(()=>[j("span",{class:En(["px-1 py-0.5 leading-4",{"order-1":t.reverse}])},ge(t.label),3)]),_:1},8,["tooltip","tooltip-disabled"]),N(n.$slots,"default")],4)}}}),Vs=F({__name:"InputSelect",props:Os({root:{},placeholder:{},trigger:{},content:{},item:{},items:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue");return(n,o)=>{const r=Ct,s=Ls;return k(),D(h(No).Root,X(t.root,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value=i)}),{default:C(()=>[A(h(No).Trigger,X(t.trigger,{class:["inline-flex max-w-full items-center justify-between gap-1 rounded border border-ui-menu-outline bg-ui-menu-inner px-1 py-0.5 text-ui-menu-text",n.$attrs.class]}),{default:C(()=>[A(h(No).Value,{placeholder:t.placeholder,class:"h-[1.5em]"},null,8,["placeholder"]),A(r,{name:"ui/chevron-right",class:"rotate-90"})]),_:1},16,["class"]),A(h(No).Portal,{disabled:""},{default:C(()=>[A(h(No).Content,X(t.content,{class:"z-50 rounded border border-ui-menu-bg-outline bg-ui-menu-bg-inner p-0.5 text-ui-menu-text select-none"}),{default:C(()=>[A(s,null,{default:C(()=>[A(h(No).Viewport,{class:"flex flex-col gap-1"},{default:C(()=>[(k(!0),Q(he,null,lt(t.items,i=>(k(),D(h(No).Item,X({ref_for:!0},t.item,{key:"item_"+i.value,value:i.value,class:"rounded p-1 text-xs data-highlighted:text-ui-menu-item-selected data-highlighted:bg-gray-500 data-[state='checked']:bg--menu-item-inner-selected"}),{default:C(()=>[A(h(No).ItemText,null,{default:C(()=>[Te(ge(i.label),1)]),_:2},1024)]),_:2},1040,["value"]))),128))]),_:1})]),_:1})]),_:1},16)]),_:1})]),_:1},16,["modelValue"])}}}),lk={class:"flex flex-col gap-2 p-2"},uk={class:"flex items-center gap-2"},ck={class:"text-xs w-9"},dk=F({__name:"RenderImageSettings",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=[{value:"480p",label:"480p (854x480)",width:854,height:480},{value:"720p",label:"720p (1280x720)",width:1280,height:720},{value:"1080p",label:"1080p (1920x1080)",width:1920,height:1080},{value:"1440p",label:"1440p (2560x1440)",width:2560,height:1440},{value:"4k",label:"4K (3840x2160)",width:3840,height:2160},{value:"custom",label:"Custom"}],n=e.map(({label:a,value:l})=>({label:a,value:l})),o=[{value:"png",label:"PNG"},{value:"jpeg",label:"JPEG"},{value:"webp",label:"WebP"}],r=Ot(t,"modelValue"),s=gn({preset:"1080p"});pe(()=>s.preset,a=>{const l=e.find(({value:u})=>u===a);if(l&&l.value!=="custom"){const{width:u,height:c}=l;r.value.width=u,r.value.height=c}},{immediate:!0}),pe(()=>r.value.selectedFormat,a=>{a==="jpeg"&&(r.value.background=!0)});const i=q({get:()=>[r.value.quality],set:a=>r.value.quality=a[0]??100});return(a,l)=>{const u=Vs,c=mt,d=_n,f=Af,p=Ur;return k(),Q("div",lk,[A(c,{label:"Preset","label-width":"90px"},{default:C(()=>[A(u,{modelValue:s.preset,"onUpdate:modelValue":l[0]||(l[0]=m=>s.preset=m),items:h(n)},null,8,["modelValue","items"])]),_:1}),s.preset==="custom"?(k(),Q(he,{key:0},[A(c,{label:"Width","label-width":"90px"},{default:C(()=>[A(d,{modelValue:r.value.width,"onUpdate:modelValue":l[1]||(l[1]=m=>r.value.width=m),min:100,max:8192,"format-options":{maximumFractionDigits:0}},null,8,["modelValue"])]),_:1}),A(c,{label:"Height","label-width":"90px"},{default:C(()=>[A(d,{modelValue:r.value.height,"onUpdate:modelValue":l[2]||(l[2]=m=>r.value.height=m),min:100,max:8192,"format-options":{maximumFractionDigits:0}},null,8,["modelValue"])]),_:1})],64)):ie("",!0),A(c,{label:"Format","label-width":"90px"},{default:C(()=>[A(u,{modelValue:r.value.selectedFormat,"onUpdate:modelValue":l[3]||(l[3]=m=>r.value.selectedFormat=m),items:o},null,8,["modelValue"])]),_:1}),r.value.selectedFormat!=="png"?(k(),D(c,{key:1,label:"Quality","label-width":"90px"},{default:C(()=>[j("div",uk,[A(f,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=m=>i.value=m),root:{min:0,max:100,step:1}},null,8,["modelValue"]),j("span",ck,ge(r.value.quality)+"%",1)])]),_:1})):ie("",!0),r.value.selectedFormat!=="jpeg"?(k(),D(c,{key:2,label:"Background","label-width":"90px"},{default:C(()=>[A(p,{modelValue:r.value.background,"onUpdate:modelValue":l[5]||(l[5]=m=>r.value.background=m)},null,8,["modelValue"])]),_:1})):ie("",!0)])}}});let ab;const gu=t=>ab=t,lb=Symbol();function td(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Si;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Si||(Si={}));function fk(){const t=Ll(!0),e=t.run(()=>V({}));let n=[],o=[];const r=Ul({install(s){gu(r),r._a=s,s.provide(lb,r),s.config.globalProperties.$pinia=r,o.forEach(i=>n.push(i)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const ub=()=>{};function fh(t,e,n,o=ub){t.add(e);const r=()=>{t.delete(e)&&o()};return!n&&ji()&&zi(r),r}function Xr(t,...e){t.forEach(n=>{n(...e)})}const pk=t=>t(),ph=Symbol(),Yu=Symbol();function nd(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,o)=>t.set(o,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],r=t[n];td(r)&&td(o)&&t.hasOwnProperty(n)&&!Re(o)&&!Eo(o)?t[n]=nd(r,o):t[n]=o}return t}const hk=Symbol();function mk(t){return!td(t)||!Object.prototype.hasOwnProperty.call(t,hk)}const{assign:Go}=Object;function vk(t){return!!(Re(t)&&t.effect)}function gk(t,e,n,o){const{state:r,actions:s,getters:i}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const c=Ie(n.state.value[t]);return Go(c,s,Object.keys(i||{}).reduce((d,f)=>(d[f]=Ul(q(()=>{gu(n);const p=n._s.get(t);return i[f].call(p,p)})),d),{}))}return l=cb(t,u,e,n,o,!0),l}function cb(t,e,n={},o,r,s){let i;const a=Go({actions:{}},n),l={deep:!0};let u,c,d=new Set,f=new Set,p;const m=o.state.value[t];!s&&!m&&(o.state.value[t]={});let v;function b(M){let E;u=c=!1,typeof M=="function"?(M(o.state.value[t]),E={type:Si.patchFunction,storeId:t,events:p}):(nd(o.state.value[t],M),E={type:Si.patchObject,payload:M,storeId:t,events:p});const S=v=Symbol();We().then(()=>{v===S&&(u=!0)}),c=!0,Xr(d,E,o.state.value[t])}const g=s?function(){const{state:E}=n,S=E?E():{};this.$patch(R=>{Go(R,S)})}:ub;function y(){i.stop(),d.clear(),f.clear(),o._s.delete(t)}const _=(M,E="")=>{if(ph in M)return M[Yu]=E,M;const S=function(){gu(o);const R=Array.from(arguments),O=new Set,I=new Set;function L(H){O.add(H)}function z(H){I.add(H)}Xr(f,{args:R,name:S[Yu],store:x,after:L,onError:z});let W;try{W=M.apply(this&&this.$id===t?this:x,R)}catch(H){throw Xr(I,H),H}return W instanceof Promise?W.then(H=>(Xr(O,H),H)).catch(H=>(Xr(I,H),Promise.reject(H))):(Xr(O,W),W)};return S[ph]=!0,S[Yu]=E,S},w={_p:o,$id:t,$onAction:fh.bind(null,f),$patch:b,$reset:g,$subscribe(M,E={}){const S=fh(d,M,E.detached,()=>R()),R=i.run(()=>pe(()=>o.state.value[t],O=>{(E.flush==="sync"?c:u)&&M({storeId:t,type:Si.direct,events:p},O)},Go({},l,E)));return S},$dispose:y},x=gn(w);o._s.set(t,x);const T=(o._a&&o._a.runWithContext||pk)(()=>o._e.run(()=>(i=Ll()).run(()=>e({action:_}))));for(const M in T){const E=T[M];if(Re(E)&&!vk(E)||Eo(E))s||(m&&mk(E)&&(Re(E)?E.value=m[M]:nd(E,m[M])),o.state.value[t][M]=E);else if(typeof E=="function"){const S=_(E,M);T[M]=S,a.actions[M]=E}}return Go(x,T),Go(Oe(x),T),Object.defineProperty(x,"$state",{get:()=>o.state.value[t],set:M=>{b(E=>{Go(E,M)})}}),o._p.forEach(M=>{Go(x,i.run(()=>M({store:x,app:o._a,pinia:o,options:a})))}),m&&s&&n.hydrate&&n.hydrate(x.$state,m),u=!0,c=!0,x}function bu(t,e,n){let o;const r=typeof e=="function";o=r?n:e;function s(i,a){const l=O_();return i=i||(l?Or(lb,null):null),i&&gu(i),i=ab,i._s.has(t)||(r?cb(t,e,o,i):gk(t,o,i)),i._s.get(t)}return s.$id=t,s}const hh={type:"change"},Mf={type:"start"},db={type:"end"},Sa=new bm,mh=new Td,bk=Math.cos(70*er.DEG2RAD),gt=new K,tn=2*Math.PI,Ge={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},Xu=1e-6;class yk extends gm{constructor(e,n=null){super(e,n),this.state=Ge.NONE,this.target=new K,this.cursor=new K,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:gs.ROTATE,MIDDLE:gs.DOLLY,RIGHT:gs.PAN},this.touches={ONE:fs.ROTATE,TWO:fs.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new K,this._lastQuaternion=new Ft,this._lastTargetPosition=new K,this._quat=new Ft().setFromUnitVectors(e.up,new K(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new xc,this._sphericalDelta=new xc,this._scale=1,this._panOffset=new K,this._rotateStart=new ke,this._rotateEnd=new ke,this._rotateDelta=new ke,this._panStart=new ke,this._panEnd=new ke,this._panDelta=new ke,this._dollyStart=new ke,this._dollyEnd=new ke,this._dollyDelta=new ke,this._dollyDirection=new K,this._mouse=new ke,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=wk.bind(this),this._onPointerDown=_k.bind(this),this._onPointerUp=xk.bind(this),this._onContextMenu=Pk.bind(this),this._onMouseWheel=Tk.bind(this),this._onKeyDown=Ek.bind(this),this._onTouchStart=Ak.bind(this),this._onTouchMove=Mk.bind(this),this._onMouseDown=Sk.bind(this),this._onMouseMove=Ck.bind(this),this._interceptControlDown=kk.bind(this),this._interceptControlUp=Rk.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(hh),this.update(),this.state=Ge.NONE}update(e=null){const n=this.object.position;gt.copy(n).sub(this.target),gt.applyQuaternion(this._quat),this._spherical.setFromVector3(gt),this.autoRotate&&this.state===Ge.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let o=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(o)&&isFinite(r)&&(o<-Math.PI?o+=tn:o>Math.PI&&(o-=tn),r<-Math.PI?r+=tn:r>Math.PI&&(r-=tn),o<=r?this._spherical.theta=Math.max(o,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(o+r)/2?Math.max(o,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const i=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=i!=this._spherical.radius}if(gt.setFromSpherical(this._spherical),gt.applyQuaternion(this._quatInverse),n.copy(this.target).add(gt),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let i=null;if(this.object.isPerspectiveCamera){const a=gt.length();i=this._clampDistance(a*this._scale);const l=a-i;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new K(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const u=new K(this._mouse.x,this._mouse.y,0);u.unproject(this.object),this.object.position.sub(u).add(a),this.object.updateMatrixWorld(),i=gt.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;i!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(i).add(this.object.position):(Sa.origin.copy(this.object.position),Sa.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Sa.direction))<bk?this.object.lookAt(this.target):(mh.setFromNormalAndCoplanarPoint(this.object.up,this.target),Sa.intersectPlane(mh,this.target))))}else if(this.object.isOrthographicCamera){const i=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),i!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>Xu||8*(1-this._lastQuaternion.dot(this.object.quaternion))>Xu||this._lastTargetPosition.distanceToSquared(this.target)>Xu?(this.dispatchEvent(hh),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?tn/60*this.autoRotateSpeed*e:tn/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){gt.setFromMatrixColumn(n,0),gt.multiplyScalar(-e),this._panOffset.add(gt)}_panUp(e,n){this.screenSpacePanning===!0?gt.setFromMatrixColumn(n,1):(gt.setFromMatrixColumn(n,0),gt.crossVectors(this.object.up,gt)),gt.multiplyScalar(e),this._panOffset.add(gt)}_pan(e,n){const o=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;gt.copy(r).sub(this.target);let s=gt.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/o.clientHeight,this.object.matrix),this._panUp(2*n*s/o.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/o.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/o.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const o=this.domElement.getBoundingClientRect(),r=e-o.left,s=n-o.top,i=o.width,a=o.height;this._mouse.x=r/i*2-1,this._mouse.y=-(s/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(tn*this._rotateDelta.x/n.clientHeight),this._rotateUp(tn*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(tn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-tn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(tn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-tn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),o=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._rotateStart.set(o,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),o=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._panStart.set(o,r)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),o=e.pageX-n.x,r=e.pageY-n.y,s=Math.sqrt(o*o+r*r);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const o=this._getSecondPointerPosition(e),r=.5*(e.pageX+o.x),s=.5*(e.pageY+o.y);this._rotateEnd.set(r,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(tn*this._rotateDelta.x/n.clientHeight),this._rotateUp(tn*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),o=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._panEnd.set(o,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),o=e.pageX-n.x,r=e.pageY-n.y,s=Math.sqrt(o*o+r*r);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const i=(e.pageX+n.x)*.5,a=(e.pageY+n.y)*.5;this._updateZoomParameters(i,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new ke,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,o={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:o.deltaY*=16;break;case 2:o.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(o.deltaY*=10),o}}function _k(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function wk(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function xk(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(db),this.state=Ge.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function Sk(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case gs.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=Ge.DOLLY;break;case gs.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=Ge.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=Ge.ROTATE}break;case gs.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=Ge.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=Ge.PAN}break;default:this.state=Ge.NONE}this.state!==Ge.NONE&&this.dispatchEvent(Mf)}function Ck(t){switch(this.state){case Ge.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case Ge.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case Ge.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function Tk(t){this.enabled===!1||this.enableZoom===!1||this.state!==Ge.NONE||(t.preventDefault(),this.dispatchEvent(Mf),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(db))}function Ek(t){this.enabled!==!1&&this._handleKeyDown(t)}function Ak(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case fs.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=Ge.TOUCH_ROTATE;break;case fs.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=Ge.TOUCH_PAN;break;default:this.state=Ge.NONE}break;case 2:switch(this.touches.TWO){case fs.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=Ge.TOUCH_DOLLY_PAN;break;case fs.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=Ge.TOUCH_DOLLY_ROTATE;break;default:this.state=Ge.NONE}break;default:this.state=Ge.NONE}this.state!==Ge.NONE&&this.dispatchEvent(Mf)}function Mk(t){switch(this._trackPointer(t),this.state){case Ge.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case Ge.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case Ge.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case Ge.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=Ge.NONE}}function Pk(t){this.enabled!==!1&&t.preventDefault()}function kk(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Rk(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const fb=0,Ok=1,Ik=2,vh=2,Qu=1.25,gh=1,Vt=32,bt=Vt/4,pb=65535,el=Math.pow(2,-24),Pf=Symbol("SKIP_GENERATION"),hb={strategy:fb,maxDepth:40,maxLeafSize:10,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,indirect:!1,verbose:!0,range:null,[Pf]:!1};function ct(t,e,n){return n.min.x=e[t],n.min.y=e[t+1],n.min.z=e[t+2],n.max.x=e[t+3],n.max.y=e[t+4],n.max.z=e[t+5],n}function bh(t){let e=-1,n=-1/0;for(let o=0;o<3;o++){const r=t[o+3]-t[o];r>n&&(n=r,e=o)}return e}function yh(t,e){e.set(t)}function _h(t,e,n){let o,r;for(let s=0;s<3;s++){const i=s+3;o=t[s],r=e[s],n[s]=o<r?o:r,o=t[i],r=e[i],n[i]=o>r?o:r}}function Ca(t,e,n){for(let o=0;o<3;o++){const r=e[t+2*o],s=e[t+2*o+1],i=r-s,a=r+s;i<n[o]&&(n[o]=i),a>n[o+3]&&(n[o+3]=a)}}function Ws(t){const e=t[3]-t[0],n=t[4]-t[1],o=t[5]-t[2];return 2*(e*n+n*o+o*e)}function yt(t,e){return e[t+15]===pb}function $t(t,e){return e[t+6]}function Wt(t,e){return e[t+14]}function wt(t){return t+bt}function xt(t,e){const n=e[t+6];return t+n*bt}function kf(t,e){return e[t+7]}function Zu(t,e,n,o,r){let s=1/0,i=1/0,a=1/0,l=-1/0,u=-1/0,c=-1/0,d=1/0,f=1/0,p=1/0,m=-1/0,v=-1/0,b=-1/0;const g=t.offset||0;for(let y=(e-g)*6,_=(e+n-g)*6;y<_;y+=6){const w=t[y+0],x=t[y+1],P=w-x,T=w+x;P<s&&(s=P),T>l&&(l=T),w<d&&(d=w),w>m&&(m=w);const M=t[y+2],E=t[y+3],S=M-E,R=M+E;S<i&&(i=S),R>u&&(u=R),M<f&&(f=M),M>v&&(v=M);const O=t[y+4],I=t[y+5],L=O-I,z=O+I;L<a&&(a=L),z>c&&(c=z),O<p&&(p=O),O>b&&(b=O)}o[0]=s,o[1]=i,o[2]=a,o[3]=l,o[4]=u,o[5]=c,r[0]=d,r[1]=f,r[2]=p,r[3]=m,r[4]=v,r[5]=b}const yo=32,Dk=(t,e)=>t.candidate-e.candidate,jo=new Array(yo).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),Ta=new Float32Array(6);function Bk(t,e,n,o,r,s){let i=-1,a=0;if(s===fb)i=bh(e),i!==-1&&(a=(e[i]+e[i+3])/2);else if(s===Ok)i=bh(t),i!==-1&&(a=qk(n,o,r,i));else if(s===Ik){const l=Ws(t);let u=Qu*r;const c=n.offset||0,d=(o-c)*6,f=(o+r-c)*6;for(let p=0;p<3;p++){const m=e[p],g=(e[p+3]-m)/yo;if(r<yo/4){const y=[...jo];y.length=r;let _=0;for(let x=d;x<f;x+=6,_++){const P=y[_];P.candidate=n[x+2*p],P.count=0;const{bounds:T,leftCacheBounds:M,rightCacheBounds:E}=P;for(let S=0;S<3;S++)E[S]=1/0,E[S+3]=-1/0,M[S]=1/0,M[S+3]=-1/0,T[S]=1/0,T[S+3]=-1/0;Ca(x,n,T)}y.sort(Dk);let w=r;for(let x=0;x<w;x++){const P=y[x];for(;x+1<w&&y[x+1].candidate===P.candidate;)y.splice(x+1,1),w--}for(let x=d;x<f;x+=6){const P=n[x+2*p];for(let T=0;T<w;T++){const M=y[T];P>=M.candidate?Ca(x,n,M.rightCacheBounds):(Ca(x,n,M.leftCacheBounds),M.count++)}}for(let x=0;x<w;x++){const P=y[x],T=P.count,M=r-P.count,E=P.leftCacheBounds,S=P.rightCacheBounds;let R=0;T!==0&&(R=Ws(E)/l);let O=0;M!==0&&(O=Ws(S)/l);const I=gh+Qu*(R*T+O*M);I<u&&(i=p,u=I,a=P.candidate)}}else{for(let w=0;w<yo;w++){const x=jo[w];x.count=0,x.candidate=m+g+w*g;const P=x.bounds;for(let T=0;T<3;T++)P[T]=1/0,P[T+3]=-1/0}for(let w=d;w<f;w+=6){let T=~~((n[w+2*p]-m)/g);T>=yo&&(T=yo-1);const M=jo[T];M.count++,Ca(w,n,M.bounds)}const y=jo[yo-1];yh(y.bounds,y.rightCacheBounds);for(let w=yo-2;w>=0;w--){const x=jo[w],P=jo[w+1];_h(x.bounds,P.rightCacheBounds,x.rightCacheBounds)}let _=0;for(let w=0;w<yo-1;w++){const x=jo[w],P=x.count,T=x.bounds,E=jo[w+1].rightCacheBounds;P!==0&&(_===0?yh(T,Ta):_h(T,Ta,Ta)),_+=P;let S=0,R=0;_!==0&&(S=Ws(Ta)/l);const O=r-_;O!==0&&(R=Ws(E)/l);const I=gh+Qu*(S*_+R*O);I<u&&(i=p,u=I,a=x.candidate)}}}}else console.warn(`BVH: Invalid build strategy value ${s} used.`);return{axis:i,pos:a}}function qk(t,e,n,o){let r=0;const s=t.offset;for(let i=e,a=e+n;i<a;i++)r+=t[(i-s)*6+o*2];return r/n}class Ju{constructor(){this.boundingData=new Float32Array(6)}}function Fk(t,e,n,o,r,s){let i=o,a=o+r-1;const l=s.pos,u=s.axis*2,c=n.offset||0;for(;;){for(;i<=a&&n[(i-c)*6+u]<l;)i++;for(;i<=a&&n[(a-c)*6+u]>=l;)a--;if(i<a){for(let d=0;d<e;d++){let f=t[i*e+d];t[i*e+d]=t[a*e+d],t[a*e+d]=f}for(let d=0;d<6;d++){const f=i-c,p=a-c,m=n[f*6+d];n[f*6+d]=n[p*6+d],n[p*6+d]=m}i++,a--}else return i}}let mb,tl,od,vb;const Lk=Math.pow(2,32);function rd(t){return"count"in t?1:1+rd(t.left)+rd(t.right)}function Vk(t,e,n){return mb=new Float32Array(n),tl=new Uint32Array(n),od=new Uint16Array(n),vb=new Uint8Array(n),sd(t,e)}function sd(t,e){const n=t/4,o=t/2,r="count"in e,s=e.boundingData;for(let i=0;i<6;i++)mb[n+i]=s[i];if(r)return e.buffer?(vb.set(new Uint8Array(e.buffer),t),t+e.buffer.byteLength):(tl[n+6]=e.offset,od[o+14]=e.count,od[o+15]=pb,t+Vt);{const{left:i,right:a,splitAxis:l}=e,u=t+Vt;let c=sd(u,i);const d=t/Vt,p=c/Vt-d;if(p>Lk)throw new Error("MeshBVH: Cannot store relative child node offset greater than 32 bits.");return tl[n+6]=p,tl[n+7]=l,sd(c,a)}}function $k(t,e,n,o,r){const{maxDepth:s,verbose:i,maxLeafSize:a,strategy:l,onProgress:u}=r,c=t.primitiveBuffer,d=t.primitiveBufferStride,f=new Float32Array(6);let p=!1;const m=new Ju;return Zu(e,n,o,m.boundingData,f),b(m,n,o,f),m;function v(g){u&&u(g/o)}function b(g,y,_,w=null,x=0){if(!p&&x>=s&&(p=!0,i&&console.warn(`BVH: Max depth of ${s} reached when generating BVH. Consider increasing maxDepth.`)),_<=a||x>=s)return v(y+_),g.offset=y,g.count=_,g;const P=Bk(g.boundingData,w,e,y,_,l);if(P.axis===-1)return v(y+_),g.offset=y,g.count=_,g;const T=Fk(c,d,e,y,_,P);if(T===y||T===y+_)v(y+_),g.offset=y,g.count=_;else{g.splitAxis=P.axis;const M=new Ju,E=y,S=T-y;g.left=M,Zu(e,E,S,M.boundingData,f),b(M,E,S,f,x+1);const R=new Ju,O=T,I=_-S;g.right=R,Zu(e,O,I,R.boundingData,f),b(R,O,I,f,x+1)}return g}}function Nk(t,e){const n=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,o=t.getRootRanges(e.range),r=o[0],s=o[o.length-1],i={offset:r.offset,count:s.offset+s.count-r.offset},a=new Float32Array(6*i.count);a.offset=i.offset,t.computePrimitiveBounds(i.offset,i.count,a),t._roots=o.map(l=>{const u=$k(t,a,l.offset,l.count,e),c=rd(u),d=new n(Vt*c);return Vk(0,u,d),d})}class Rf{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){const e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}}class jk{constructor(){this.float32Array=null,this.uint16Array=null,this.uint32Array=null;const e=[];let n=null;this.setBuffer=o=>{n&&e.push(n),n=o,this.float32Array=new Float32Array(o),this.uint16Array=new Uint16Array(o),this.uint32Array=new Uint32Array(o)},this.clearBuffer=()=>{n=null,this.float32Array=null,this.uint16Array=null,this.uint32Array=null,e.length!==0&&this.setBuffer(e.pop())}}}const ot=new jk;let Zo,hs;const Qr=[],Ea=new Rf(()=>new bn);function zk(t,e,n,o,r,s){Zo=Ea.getPrimitive(),hs=Ea.getPrimitive(),Qr.push(Zo,hs),ot.setBuffer(t._roots[e]);const i=id(0,t.geometry,n,o,r,s);ot.clearBuffer(),Ea.releasePrimitive(Zo),Ea.releasePrimitive(hs),Qr.pop(),Qr.pop();const a=Qr.length;return a>0&&(hs=Qr[a-1],Zo=Qr[a-2]),i}function id(t,e,n,o,r=null,s=0,i=0){const{float32Array:a,uint16Array:l,uint32Array:u}=ot;let c=t*2;if(yt(c,l)){const f=$t(t,u),p=Wt(c,l);return ct(t,a,Zo),o(f,p,!1,i,s+t/bt,Zo)}else{let S=function(O){const{uint16Array:I,uint32Array:L}=ot;let z=O*2;for(;!yt(z,I);)O=wt(O),z=O*2;return $t(O,L)},R=function(O){const{uint16Array:I,uint32Array:L}=ot;let z=O*2;for(;!yt(z,I);)O=xt(O,L),z=O*2;return $t(O,L)+Wt(z,I)};const f=wt(t),p=xt(t,u);let m=f,v=p,b,g,y,_;if(r&&(y=Zo,_=hs,ct(m,a,y),ct(v,a,_),b=r(y),g=r(_),g<b)){m=p,v=f;const O=b;b=g,g=O,y=_}y||(y=Zo,ct(m,a,y));const w=yt(m*2,l),x=n(y,w,b,i+1,s+m/bt);let P;if(x===vh){const O=S(m),L=R(m)-O;P=o(O,L,!0,i+1,s+m/bt,y)}else P=x&&id(m,e,n,o,r,s,i+1);if(P)return!0;_=hs,ct(v,a,_);const T=yt(v*2,l),M=n(_,T,g,i+1,s+v/bt);let E;if(M===vh){const O=S(v),L=R(v)-O;E=o(O,L,!0,i+1,s+v/bt,_)}else E=M&&id(v,e,n,o,r,s,i+1);return!!E}}const Ci=new ot.constructor,Cl=new ot.constructor,Xo=new Rf(()=>new bn),Zr=new bn,Jr=new bn,ec=new bn,tc=new bn;let nc=!1;function Uk(t,e,n,o){if(nc)throw new Error("MeshBVH: Recursive calls to bvhcast not supported.");nc=!0;const r=t._roots,s=e._roots;let i,a=0,l=0;const u=new Kt().copy(n).invert();for(let c=0,d=r.length;c<d;c++){Ci.setBuffer(r[c]),l=0;const f=Xo.getPrimitive();ct(0,Ci.float32Array,f),f.applyMatrix4(u);for(let p=0,m=s.length;p<m&&(Cl.setBuffer(s[p]),i=kn(0,0,n,u,o,a,l,0,0,f),Cl.clearBuffer(),l+=s[p].byteLength/Vt,!i);p++);if(Xo.releasePrimitive(f),Ci.clearBuffer(),a+=r[c].byteLength/Vt,i)break}return nc=!1,i}function kn(t,e,n,o,r,s=0,i=0,a=0,l=0,u=null,c=!1){let d,f;c?(d=Cl,f=Ci):(d=Ci,f=Cl);const p=d.float32Array,m=d.uint32Array,v=d.uint16Array,b=f.float32Array,g=f.uint32Array,y=f.uint16Array,_=t*2,w=e*2,x=yt(_,v),P=yt(w,y);let T=!1;if(P&&x)c?T=r($t(e,g),Wt(e*2,y),$t(t,m),Wt(t*2,v),l,i+e/bt,a,s+t/bt):T=r($t(t,m),Wt(t*2,v),$t(e,g),Wt(e*2,y),a,s+t/bt,l,i+e/bt);else if(P){const M=Xo.getPrimitive();ct(e,b,M),M.applyMatrix4(n);const E=wt(t),S=xt(t,m);ct(E,p,Zr),ct(S,p,Jr);const R=M.intersectsBox(Zr),O=M.intersectsBox(Jr);T=R&&kn(e,E,o,n,r,i,s,l,a+1,M,!c)||O&&kn(e,S,o,n,r,i,s,l,a+1,M,!c),Xo.releasePrimitive(M)}else{const M=wt(e),E=xt(e,g);ct(M,b,ec),ct(E,b,tc);const S=u.intersectsBox(ec),R=u.intersectsBox(tc);if(S&&R)T=kn(t,M,n,o,r,s,i,a,l+1,u,c)||kn(t,E,n,o,r,s,i,a,l+1,u,c);else if(S)if(x)T=kn(t,M,n,o,r,s,i,a,l+1,u,c);else{const O=Xo.getPrimitive();O.copy(ec).applyMatrix4(n);const I=wt(t),L=xt(t,m);ct(I,p,Zr),ct(L,p,Jr);const z=O.intersectsBox(Zr),W=O.intersectsBox(Jr);T=z&&kn(M,I,o,n,r,i,s,l,a+1,O,!c)||W&&kn(M,L,o,n,r,i,s,l,a+1,O,!c),Xo.releasePrimitive(O)}else if(R)if(x)T=kn(t,E,n,o,r,s,i,a,l+1,u,c);else{const O=Xo.getPrimitive();O.copy(tc).applyMatrix4(n);const I=wt(t),L=xt(t,m);ct(I,p,Zr),ct(L,p,Jr);const z=O.intersectsBox(Zr),W=O.intersectsBox(Jr);T=z&&kn(E,I,o,n,r,i,s,l,a+1,O,!c)||W&&kn(E,L,o,n,r,i,s,l,a+1,O,!c),Xo.releasePrimitive(O)}}return T}const wh=new bn,es=new Float32Array(6);class Hk{constructor(){this._roots=null,this.primitiveBuffer=null,this.primitiveBufferStride=null}init(e){e={...hb,...e},Nk(this,e)}getRootRanges(){throw new Error("BVH: getRootRanges() not implemented")}writePrimitiveBounds(){throw new Error("BVH: writePrimitiveBounds() not implemented")}writePrimitiveRangeBounds(e,n,o,r){let s=1/0,i=1/0,a=1/0,l=-1/0,u=-1/0,c=-1/0;for(let d=e,f=e+n;d<f;d++){this.writePrimitiveBounds(d,es,0);const[p,m,v,b,g,y]=es;p<s&&(s=p),b>l&&(l=b),m<i&&(i=m),g>u&&(u=g),v<a&&(a=v),y>c&&(c=y)}return o[r+0]=s,o[r+1]=i,o[r+2]=a,o[r+3]=l,o[r+4]=u,o[r+5]=c,o}computePrimitiveBounds(e,n,o){const r=o.offset||0;for(let s=e,i=e+n;s<i;s++){this.writePrimitiveBounds(s,es,0);const[a,l,u,c,d,f]=es,p=(a+c)/2,m=(l+d)/2,v=(u+f)/2,b=(c-a)/2,g=(d-l)/2,y=(f-u)/2,_=(s-r)*6;o[_+0]=p,o[_+1]=b+(Math.abs(p)+b)*el,o[_+2]=m,o[_+3]=g+(Math.abs(m)+g)*el,o[_+4]=v,o[_+5]=y+(Math.abs(v)+y)*el}return o}shiftPrimitiveOffsets(e){const n=this._indirectBuffer;if(n)for(let o=0,r=n.length;o<r;o++)n[o]+=e;else{const o=this._roots;for(let r=0;r<o.length;r++){const s=o[r],i=new Uint32Array(s),a=new Uint16Array(s),l=s.byteLength/Vt;for(let u=0;u<l;u++){const c=bt*u,d=2*c;yt(d,a)&&(i[c+6]+=e)}}}}traverse(e,n=0){const o=this._roots[n],r=new Uint32Array(o),s=new Uint16Array(o);i(0);function i(a,l=0){const u=a*2,c=yt(u,s);if(c){const d=r[a+6],f=s[u+14];e(l,c,new Float32Array(o,a*4,6),d,f)}else{const d=wt(a),f=xt(a,r),p=kf(a,r);e(l,c,new Float32Array(o,a*4,6),p)||(i(d,l+1),i(f,l+1))}}}refit(){const e=this._roots;for(let n=0,o=e.length;n<o;n++){const r=e[n],s=new Uint32Array(r),i=new Uint16Array(r),a=new Float32Array(r),l=r.byteLength/Vt;for(let u=l-1;u>=0;u--){const c=u*bt,d=c*2;if(yt(d,i)){const p=$t(c,s),m=Wt(d,i);this.writePrimitiveRangeBounds(p,m,es,0),a.set(es,c)}else{const p=wt(c),m=xt(c,s);for(let v=0;v<3;v++){const b=a[p+v],g=a[p+v+3],y=a[m+v],_=a[m+v+3];a[c+v]=b<y?b:y,a[c+v+3]=g>_?g:_}}}}}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(o=>{ct(0,new Float32Array(o),wh),e.union(wh)}),e}shapecast(e){let{boundsTraverseOrder:n,intersectsBounds:o,intersectsRange:r,intersectsPrimitive:s,scratchPrimitive:i,iterate:a}=e;if(r&&s){const d=r;r=(f,p,m,v,b)=>d(f,p,m,v,b)?!0:a(f,p,this,s,m,v,i)}else r||(s?r=(d,f,p,m)=>a(d,f,this,s,p,m,i):r=(d,f,p)=>p);let l=!1,u=0;const c=this._roots;for(let d=0,f=c.length;d<f;d++){const p=c[d];if(l=zk(this,d,o,r,n,u),l)break;u+=p.byteLength/Vt}return l}bvhcast(e,n,o){let{intersectsRanges:r}=o;return Uk(this,e,n,r)}}function Gk(){return typeof SharedArrayBuffer<"u"}function Of(t){return t.index?t.index.count:t.attributes.position.count}function yu(t){return Of(t)/3}function Wk(t,e=ArrayBuffer){return t>65535?new Uint32Array(new e(4*t)):new Uint16Array(new e(2*t))}function Kk(t,e){if(!t.index){const n=t.attributes.position.count,o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r=Wk(n,o);t.setIndex(new ln(r,1));for(let s=0;s<n;s++)r[s]=s}}function Yk(t,e,n){const o=Of(t)/n,r=e||t.drawRange,s=r.start/n,i=(r.start+r.count)/n,a=Math.max(0,s),l=Math.min(o,i)-a;return{offset:Math.floor(a),count:Math.floor(l)}}function Xk(t,e){return t.groups.map(n=>({offset:n.start/e,count:n.count/e}))}function xh(t,e,n){const o=Yk(t,e,n),r=Xk(t,n);if(!r.length)return[o];const s=[],i=o.offset,a=o.offset+o.count,l=Of(t)/n,u=[];for(const f of r){const{offset:p,count:m}=f,v=p,b=isFinite(m)?m:l-p,g=p+b;v<a&&g>i&&(u.push({pos:Math.max(i,v),isStart:!0}),u.push({pos:Math.min(a,g),isStart:!1}))}u.sort((f,p)=>f.pos!==p.pos?f.pos-p.pos:f.type==="end"?-1:1);let c=0,d=null;for(const f of u){const p=f.pos;c!==0&&p!==d&&s.push({offset:d,count:p-d}),c+=f.isStart?1:-1,d=p}return s}function Qk(t,e){const n=t[t.length-1],o=n.offset+n.count>2**16,r=t.reduce((u,c)=>u+c.count,0),s=o?4:2,i=e?new SharedArrayBuffer(r*s):new ArrayBuffer(r*s),a=o?new Uint32Array(i):new Uint16Array(i);let l=0;for(let u=0;u<t.length;u++){const{offset:c,count:d}=t[u];for(let f=0;f<d;f++)a[l+f]=c+f;l+=d}return a}class Zk extends Hk{get indirect(){return!!this._indirectBuffer}get primitiveStride(){return null}get primitiveBufferStride(){return this.indirect?1:this.primitiveStride}set primitiveBufferStride(e){}get primitiveBuffer(){return this.indirect?this._indirectBuffer:this.geometry.index.array}set primitiveBuffer(e){}constructor(e,n={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("BVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("BVH: Only BufferGeometries are supported.");if(n.useSharedArrayBuffer&&!Gk())throw new Error("BVH: SharedArrayBuffer is not available.");super(),this.geometry=e,this.resolvePrimitiveIndex=n.indirect?o=>this._indirectBuffer[o]:o=>o,this.primitiveBuffer=null,this.primitiveBufferStride=null,this._indirectBuffer=null,n={...hb,...n},n[Pf]||this.init(n)}init(e){const{geometry:n,primitiveStride:o}=this;if(e.indirect){const r=xh(n,e.range,o),s=Qk(r,e.useSharedArrayBuffer);this._indirectBuffer=s}else Kk(n,e);super.init(e),!n.boundingBox&&e.setBoundingBox&&(n.boundingBox=this.getBoundingBox(new bn))}getRootRanges(e){return this.indirect?[{offset:0,count:this._indirectBuffer.length}]:xh(this.geometry,e,this.primitiveStride)}raycastObject3D(){throw new Error("BVH: raycastObject3D() not implemented")}}class qo{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,n){let o=1/0,r=-1/0;for(let s=0,i=e.length;s<i;s++){const l=e[s][n];o=l<o?l:o,r=l>r?l:r}this.min=o,this.max=r}setFromPoints(e,n){let o=1/0,r=-1/0;for(let s=0,i=n.length;s<i;s++){const a=n[s],l=e.dot(a);o=l<o?l:o,r=l>r?l:r}this.min=o,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}}qo.prototype.setFromBox=(function(){const t=new K;return function(n,o){const r=o.min,s=o.max;let i=1/0,a=-1/0;for(let l=0;l<=1;l++)for(let u=0;u<=1;u++)for(let c=0;c<=1;c++){t.x=r.x*l+s.x*(1-l),t.y=r.y*u+s.y*(1-u),t.z=r.z*c+s.z*(1-c);const d=n.dot(t);i=Math.min(d,i),a=Math.max(d,a)}this.min=i,this.max=a}})();const Jk=(function(){const t=new K,e=new K,n=new K;return function(r,s,i){const a=r.start,l=t,u=s.start,c=e;n.subVectors(a,u),t.subVectors(r.end,r.start),e.subVectors(s.end,s.start);const d=n.dot(c),f=c.dot(l),p=c.dot(c),m=n.dot(l),b=l.dot(l)*p-f*f;let g,y;b!==0?g=(d*f-m*p)/b:g=0,y=(d+g*f)/p,i.x=g,i.y=y}})(),If=(function(){const t=new ke,e=new K,n=new K;return function(r,s,i,a){Jk(r,s,t);let l=t.x,u=t.y;if(l>=0&&l<=1&&u>=0&&u<=1){r.at(l,i),s.at(u,a);return}else if(l>=0&&l<=1){u<0?s.at(0,a):s.at(1,a),r.closestPointToPoint(a,!0,i);return}else if(u>=0&&u<=1){l<0?r.at(0,i):r.at(1,i),s.closestPointToPoint(i,!0,a);return}else{let c;l<0?c=r.start:c=r.end;let d;u<0?d=s.start:d=s.end;const f=e,p=n;if(r.closestPointToPoint(d,!0,e),s.closestPointToPoint(c,!0,n),f.distanceToSquared(d)<=p.distanceToSquared(c)){i.copy(f),a.copy(d);return}else{i.copy(c),a.copy(p);return}}}})(),eR=(function(){const t=new K,e=new K,n=new Td,o=new ro;return function(s,i){const{radius:a,center:l}=s,{a:u,b:c,c:d}=i;if(o.start=u,o.end=c,o.closestPointToPoint(l,!0,t).distanceTo(l)<=a||(o.start=u,o.end=d,o.closestPointToPoint(l,!0,t).distanceTo(l)<=a)||(o.start=c,o.end=d,o.closestPointToPoint(l,!0,t).distanceTo(l)<=a))return!0;const v=i.getPlane(n);if(Math.abs(v.distanceToPoint(l))<=a){const g=v.projectPoint(l,e);if(i.containsPoint(g))return!0}return!1}})(),tR=["x","y","z"],wo=1e-15,Sh=wo*wo;function wn(t){return Math.abs(t)<wo}class Nn extends as{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new K),this.satBounds=new Array(4).fill().map(()=>new qo),this.points=[this.a,this.b,this.c],this.plane=new Td,this.isDegenerateIntoSegment=!1,this.isDegenerateIntoPoint=!1,this.degenerateSegment=new ro,this.needsUpdate=!0}intersectsSphere(e){return eR(e,this)}update(){const e=this.a,n=this.b,o=this.c,r=this.points,s=this.satAxes,i=this.satBounds,a=s[0],l=i[0];this.getNormal(a),l.setFromPoints(a,r);const u=s[1],c=i[1];u.subVectors(e,n),c.setFromPoints(u,r);const d=s[2],f=i[2];d.subVectors(n,o),f.setFromPoints(d,r);const p=s[3],m=i[3];p.subVectors(o,e),m.setFromPoints(p,r);const v=u.length(),b=d.length(),g=p.length();this.isDegenerateIntoPoint=!1,this.isDegenerateIntoSegment=!1,v<wo?b<wo||g<wo?this.isDegenerateIntoPoint=!0:(this.isDegenerateIntoSegment=!0,this.degenerateSegment.start.copy(e),this.degenerateSegment.end.copy(o)):b<wo?g<wo?this.isDegenerateIntoPoint=!0:(this.isDegenerateIntoSegment=!0,this.degenerateSegment.start.copy(n),this.degenerateSegment.end.copy(e)):g<wo&&(this.isDegenerateIntoSegment=!0,this.degenerateSegment.start.copy(o),this.degenerateSegment.end.copy(n)),this.plane.setFromNormalAndCoplanarPoint(a,e),this.needsUpdate=!1}}Nn.prototype.closestPointToSegment=(function(){const t=new K,e=new K,n=new ro;return function(r,s=null,i=null){const{start:a,end:l}=r,u=this.points;let c,d=1/0;for(let f=0;f<3;f++){const p=(f+1)%3;n.start.copy(u[f]),n.end.copy(u[p]),If(n,r,t,e),c=t.distanceToSquared(e),c<d&&(d=c,s&&s.copy(t),i&&i.copy(e))}return this.closestPointToPoint(a,t),c=a.distanceToSquared(t),c<d&&(d=c,s&&s.copy(t),i&&i.copy(a)),this.closestPointToPoint(l,t),c=l.distanceToSquared(t),c<d&&(d=c,s&&s.copy(t),i&&i.copy(l)),Math.sqrt(d)}})();Nn.prototype.intersectsTriangle=(function(){const t=new Nn,e=new qo,n=new qo,o=new K,r=new K,s=new K,i=new K,a=new ro,l=new ro,u=new K,c=new ke,d=new ke;function f(_,w,x,P){const T=o;!_.isDegenerateIntoPoint&&!_.isDegenerateIntoSegment?T.copy(_.plane.normal):T.copy(w.plane.normal);const M=_.satBounds,E=_.satAxes;for(let O=1;O<4;O++){const I=M[O],L=E[O];if(e.setFromPoints(L,w.points),I.isSeparated(e)||(i.copy(T).cross(L),e.setFromPoints(i,_.points),n.setFromPoints(i,w.points),e.isSeparated(n)))return!1}const S=w.satBounds,R=w.satAxes;for(let O=1;O<4;O++){const I=S[O],L=R[O];if(e.setFromPoints(L,_.points),I.isSeparated(e)||(i.crossVectors(T,L),e.setFromPoints(i,_.points),n.setFromPoints(i,w.points),e.isSeparated(n)))return!1}return x&&(P||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),x.start.set(0,0,0),x.end.set(0,0,0)),!0}function p(_,w,x,P,T,M,E,S,R,O,I){let L=E/(E-S);O.x=P+(T-P)*L,I.start.subVectors(w,_).multiplyScalar(L).add(_),L=E/(E-R),O.y=P+(M-P)*L,I.end.subVectors(x,_).multiplyScalar(L).add(_)}function m(_,w,x,P,T,M,E,S,R,O,I){if(T>0)p(_.c,_.a,_.b,P,w,x,R,E,S,O,I);else if(M>0)p(_.b,_.a,_.c,x,w,P,S,E,R,O,I);else if(S*R>0||E!=0)p(_.a,_.b,_.c,w,x,P,E,S,R,O,I);else if(S!=0)p(_.b,_.a,_.c,x,w,P,S,E,R,O,I);else if(R!=0)p(_.c,_.a,_.b,P,w,x,R,E,S,O,I);else return!0;return!1}function v(_,w,x,P){const T=w.degenerateSegment,M=_.plane.distanceToPoint(T.start),E=_.plane.distanceToPoint(T.end);return wn(M)?wn(E)?f(_,w,x,P):(x&&(x.start.copy(T.start),x.end.copy(T.start)),_.containsPoint(T.start)):wn(E)?(x&&(x.start.copy(T.end),x.end.copy(T.end)),_.containsPoint(T.end)):_.plane.intersectLine(T,o)!=null?(x&&(x.start.copy(o),x.end.copy(o)),_.containsPoint(o)):!1}function b(_,w,x){const P=w.a;return wn(_.plane.distanceToPoint(P))&&_.containsPoint(P)?(x&&(x.start.copy(P),x.end.copy(P)),!0):!1}function g(_,w,x){const P=_.degenerateSegment,T=w.a;return P.closestPointToPoint(T,!0,o),T.distanceToSquared(o)<Sh?(x&&(x.start.copy(T),x.end.copy(T)),!0):!1}function y(_,w,x,P){if(_.isDegenerateIntoSegment)if(w.isDegenerateIntoSegment){const T=_.degenerateSegment,M=w.degenerateSegment,E=r,S=s;T.delta(E),M.delta(S);const R=o.subVectors(M.start,T.start),O=E.x*S.y-E.y*S.x;if(wn(O))return!1;const I=(R.x*S.y-R.y*S.x)/O,L=-(E.x*R.y-E.y*R.x)/O;if(I<0||I>1||L<0||L>1)return!1;const z=T.start.z+E.z*I,W=M.start.z+S.z*L;return wn(z-W)?(x&&(x.start.copy(T.start).addScaledVector(E,I),x.end.copy(T.start).addScaledVector(E,I)),!0):!1}else return w.isDegenerateIntoPoint?g(_,w,x):v(w,_,x,P);else{if(_.isDegenerateIntoPoint)return w.isDegenerateIntoPoint?w.a.distanceToSquared(_.a)<Sh?(x&&(x.start.copy(_.a),x.end.copy(_.a)),!0):!1:w.isDegenerateIntoSegment?g(w,_,x):b(w,_,x);if(w.isDegenerateIntoPoint)return b(_,w,x);if(w.isDegenerateIntoSegment)return v(_,w,x,P)}}return function(w,x=null,P=!1){this.needsUpdate&&this.update(),w.isExtendedTriangle?w.needsUpdate&&w.update():(t.copy(w),t.update(),w=t);const T=y(this,w,x,P);if(T!==void 0)return T;const M=this.plane,E=w.plane;let S=E.distanceToPoint(this.a),R=E.distanceToPoint(this.b),O=E.distanceToPoint(this.c);wn(S)&&(S=0),wn(R)&&(R=0),wn(O)&&(O=0);const I=S*R,L=S*O;if(I>0&&L>0)return!1;let z=M.distanceToPoint(w.a),W=M.distanceToPoint(w.b),H=M.distanceToPoint(w.c);wn(z)&&(z=0),wn(W)&&(W=0),wn(H)&&(H=0);const Y=z*W,fe=z*H;if(Y>0&&fe>0)return!1;r.copy(M.normal),s.copy(E.normal);const le=r.cross(s);let we=0,Se=Math.abs(le.x);const tt=Math.abs(le.y);tt>Se&&(Se=tt,we=1),Math.abs(le.z)>Se&&(we=2);const He=tR[we],Fe=this.a[He],Ce=this.b[He],Le=this.c[He],De=w.a[He],Xe=w.b[He],go=w.c[He];if(m(this,Fe,Ce,Le,I,L,S,R,O,c,a))return f(this,w,x,P);if(m(w,De,Xe,go,Y,fe,z,W,H,d,l))return f(this,w,x,P);if(c.y<c.x){const B=c.y;c.y=c.x,c.x=B,u.copy(a.start),a.start.copy(a.end),a.end.copy(u)}if(d.y<d.x){const B=d.y;d.y=d.x,d.x=B,u.copy(l.start),l.start.copy(l.end),l.end.copy(u)}return c.y<d.x||d.y<c.x?!1:(x&&(d.x>c.x?x.start.copy(l.start):x.start.copy(a.start),d.y<c.y?x.end.copy(l.end):x.end.copy(a.end)),!0)}})();Nn.prototype.distanceToPoint=(function(){const t=new K;return function(n){return this.closestPointToPoint(n,t),n.distanceTo(t)}})();Nn.prototype.distanceToTriangle=(function(){const t=new K,e=new K,n=["a","b","c"],o=new ro,r=new ro;return function(i,a=null,l=null){const u=a||l?o:null;if(this.intersectsTriangle(i,u))return(a||l)&&(a&&u.getCenter(a),l&&u.getCenter(l)),0;let c=1/0;for(let d=0;d<3;d++){let f;const p=n[d],m=i[p];this.closestPointToPoint(m,t),f=m.distanceToSquared(t),f<c&&(c=f,a&&a.copy(t),l&&l.copy(m));const v=this[p];i.closestPointToPoint(v,t),f=v.distanceToSquared(t),f<c&&(c=f,a&&a.copy(v),l&&l.copy(t))}for(let d=0;d<3;d++){const f=n[d],p=n[(d+1)%3];o.set(this[f],this[p]);for(let m=0;m<3;m++){const v=n[m],b=n[(m+1)%3];r.set(i[v],i[b]),If(o,r,t,e);const g=t.distanceToSquared(e);g<c&&(c=g,a&&a.copy(t),l&&l.copy(e))}}return Math.sqrt(c)}})();class Qt{constructor(e,n,o){this.isOrientedBox=!0,this.min=new K,this.max=new K,this.matrix=new Kt,this.invMatrix=new Kt,this.points=new Array(8).fill().map(()=>new K),this.satAxes=new Array(3).fill().map(()=>new K),this.satBounds=new Array(3).fill().map(()=>new qo),this.alignedSatBounds=new Array(3).fill().map(()=>new qo),this.needsUpdate=!1,e&&this.min.copy(e),n&&this.max.copy(n),o&&this.matrix.copy(o)}set(e,n,o){this.min.copy(e),this.max.copy(n),this.matrix.copy(o),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}}Qt.prototype.update=(function(){return function(){const e=this.matrix,n=this.min,o=this.max,r=this.points;for(let u=0;u<=1;u++)for(let c=0;c<=1;c++)for(let d=0;d<=1;d++){const f=1*u|2*c|4*d,p=r[f];p.x=u?o.x:n.x,p.y=c?o.y:n.y,p.z=d?o.z:n.z,p.applyMatrix4(e)}const s=this.satBounds,i=this.satAxes,a=r[0];for(let u=0;u<3;u++){const c=i[u],d=s[u],f=1<<u,p=r[f];c.subVectors(a,p),d.setFromPoints(c,r)}const l=this.alignedSatBounds;l[0].setFromPointsField(r,"x"),l[1].setFromPointsField(r,"y"),l[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}})();Qt.prototype.intersectsBox=(function(){const t=new qo;return function(n){this.needsUpdate&&this.update();const o=n.min,r=n.max,s=this.satBounds,i=this.satAxes,a=this.alignedSatBounds;if(t.min=o.x,t.max=r.x,a[0].isSeparated(t)||(t.min=o.y,t.max=r.y,a[1].isSeparated(t))||(t.min=o.z,t.max=r.z,a[2].isSeparated(t)))return!1;for(let l=0;l<3;l++){const u=i[l],c=s[l];if(t.setFromBox(u,n),c.isSeparated(t))return!1}return!0}})();Qt.prototype.intersectsTriangle=(function(){const t=new Nn,e=new Array(3),n=new qo,o=new qo,r=new K;return function(i){this.needsUpdate&&this.update(),i.isExtendedTriangle?i.needsUpdate&&i.update():(t.copy(i),t.update(),i=t);const a=this.satBounds,l=this.satAxes;e[0]=i.a,e[1]=i.b,e[2]=i.c;for(let f=0;f<3;f++){const p=a[f],m=l[f];if(n.setFromPoints(m,e),p.isSeparated(n))return!1}const u=i.satBounds,c=i.satAxes,d=this.points;for(let f=0;f<3;f++){const p=u[f],m=c[f];if(n.setFromPoints(m,d),p.isSeparated(n))return!1}for(let f=0;f<3;f++){const p=l[f];for(let m=0;m<4;m++){const v=c[m];if(r.crossVectors(p,v),n.setFromPoints(r,e),o.setFromPoints(r,d),n.isSeparated(o))return!1}}return!0}})();Qt.prototype.closestPointToPoint=(function(){return function(e,n){return this.needsUpdate&&this.update(),n.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),n}})();Qt.prototype.distanceToPoint=(function(){const t=new K;return function(n){return this.closestPointToPoint(n,t),n.distanceTo(t)}})();Qt.prototype.distanceToBox=(function(){const t=["x","y","z"],e=new Array(12).fill().map(()=>new ro),n=new Array(12).fill().map(()=>new ro),o=new K,r=new K;return function(i,a=0,l=null,u=null){if(this.needsUpdate&&this.update(),this.intersectsBox(i))return(l||u)&&(i.getCenter(r),this.closestPointToPoint(r,o),i.closestPointToPoint(o,r),l&&l.copy(o),u&&u.copy(r)),0;const c=a*a,d=i.min,f=i.max,p=this.points;let m=1/0;for(let b=0;b<8;b++){const g=p[b];r.copy(g).clamp(d,f);const y=g.distanceToSquared(r);if(y<m&&(m=y,l&&l.copy(g),u&&u.copy(r),y<c))return Math.sqrt(y)}let v=0;for(let b=0;b<3;b++)for(let g=0;g<=1;g++)for(let y=0;y<=1;y++){const _=(b+1)%3,w=(b+2)%3,x=g<<_|y<<w,P=1<<b|g<<_|y<<w,T=p[x],M=p[P];e[v].set(T,M);const S=t[b],R=t[_],O=t[w],I=n[v],L=I.start,z=I.end;L[S]=d[S],L[R]=g?d[R]:f[R],L[O]=y?d[O]:f[R],z[S]=f[S],z[R]=g?d[R]:f[R],z[O]=y?d[O]:f[R],v++}for(let b=0;b<=1;b++)for(let g=0;g<=1;g++)for(let y=0;y<=1;y++){r.x=b?f.x:d.x,r.y=g?f.y:d.y,r.z=y?f.z:d.z,this.closestPointToPoint(r,o);const _=r.distanceToSquared(o);if(_<m&&(m=_,l&&l.copy(o),u&&u.copy(r),_<c))return Math.sqrt(_)}for(let b=0;b<12;b++){const g=e[b];for(let y=0;y<12;y++){const _=n[y];If(g,_,o,r);const w=o.distanceToSquared(r);if(w<m&&(m=w,l&&l.copy(o),u&&u.copy(r),w<c))return Math.sqrt(w)}}return Math.sqrt(m)}})();class nR extends Rf{constructor(){super(()=>new Nn)}}const Cn=new nR,Ks=new K,oc=new K;function oR(t,e,n={},o=0,r=1/0){const s=o*o,i=r*r;let a=1/0,l=null;if(t.shapecast({boundsTraverseOrder:c=>(Ks.copy(e).clamp(c.min,c.max),Ks.distanceToSquared(e)),intersectsBounds:(c,d,f)=>f<a&&f<i,intersectsTriangle:(c,d)=>{c.closestPointToPoint(e,Ks);const f=e.distanceToSquared(Ks);return f<a&&(oc.copy(Ks),a=f,l=d),f<s}}),a===1/0)return null;const u=Math.sqrt(a);return n.point?n.point.copy(oc):n.point=oc.clone(),n.distance=u,n.faceIndex=l,n}const Aa=parseInt(kl)>=169,rR=parseInt(kl)<=161,br=new K,yr=new K,_r=new K,Ma=new ke,Pa=new ke,ka=new ke,Ch=new K,Th=new K,Eh=new K,Ys=new K;function sR(t,e,n,o,r,s,i,a){let l;if(s===Ed?l=t.intersectTriangle(o,n,e,!0,r):l=t.intersectTriangle(e,n,o,s!==Mi,r),l===null)return null;const u=t.origin.distanceTo(r);return u<i||u>a?null:{distance:u,point:r.clone()}}function Ah(t,e,n,o,r,s,i,a,l,u,c){br.fromBufferAttribute(e,s),yr.fromBufferAttribute(e,i),_r.fromBufferAttribute(e,a);const d=sR(t,br,yr,_r,Ys,l,u,c);if(d){if(o){Ma.fromBufferAttribute(o,s),Pa.fromBufferAttribute(o,i),ka.fromBufferAttribute(o,a),d.uv=new ke;const p=as.getInterpolation(Ys,br,yr,_r,Ma,Pa,ka,d.uv);Aa||(d.uv=p)}if(r){Ma.fromBufferAttribute(r,s),Pa.fromBufferAttribute(r,i),ka.fromBufferAttribute(r,a),d.uv1=new ke;const p=as.getInterpolation(Ys,br,yr,_r,Ma,Pa,ka,d.uv1);Aa||(d.uv1=p),rR&&(d.uv2=d.uv1)}if(n){Ch.fromBufferAttribute(n,s),Th.fromBufferAttribute(n,i),Eh.fromBufferAttribute(n,a),d.normal=new K;const p=as.getInterpolation(Ys,br,yr,_r,Ch,Th,Eh,d.normal);d.normal.dot(t.direction)>0&&d.normal.multiplyScalar(-1),Aa||(d.normal=p)}const f={a:s,b:i,c:a,normal:new K,materialIndex:0};if(as.getNormal(br,yr,_r,f.normal),d.face=f,d.faceIndex=s,Aa){const p=new K;as.getBarycoord(Ys,br,yr,_r,p),d.barycoord=p}}return d}function Mh(t){return t&&t.isMaterial?t.side:t}function _u(t,e,n,o,r,s,i){const a=o*3;let l=a+0,u=a+1,c=a+2;const{index:d,groups:f}=t;t.index&&(l=d.getX(l),u=d.getX(u),c=d.getX(c));const{position:p,normal:m,uv:v,uv1:b}=t.attributes;if(Array.isArray(e)){const g=o*3;for(let y=0,_=f.length;y<_;y++){const{start:w,count:x,materialIndex:P}=f[y];if(g>=w&&g<w+x){const T=Mh(e[P]),M=Ah(n,p,m,v,b,l,u,c,T,s,i);if(M)if(M.faceIndex=o,M.face.materialIndex=P,r)r.push(M);else return M}}}else{const g=Mh(e),y=Ah(n,p,m,v,b,l,u,c,g,s,i);if(y)if(y.faceIndex=o,y.face.materialIndex=0,r)r.push(y);else return y}return null}function vt(t,e,n,o){const r=t.a,s=t.b,i=t.c;let a=e,l=e+1,u=e+2;n&&(a=n.getX(a),l=n.getX(l),u=n.getX(u)),r.x=o.getX(a),r.y=o.getY(a),r.z=o.getZ(a),s.x=o.getX(l),s.y=o.getY(l),s.z=o.getZ(l),i.x=o.getX(u),i.y=o.getY(u),i.z=o.getZ(u)}function iR(t,e,n,o,r,s,i,a){const{geometry:l,_indirectBuffer:u}=t;for(let c=o,d=o+r;c<d;c++)_u(l,e,n,c,s,i,a)}function aR(t,e,n,o,r,s,i){const{geometry:a,_indirectBuffer:l}=t;let u=1/0,c=null;for(let d=o,f=o+r;d<f;d++){let p;p=_u(a,e,n,d,null,s,i),p&&p.distance<u&&(c=p,u=p.distance)}return c}function lR(t,e,n,o,r,s,i){const{geometry:a}=n,{index:l}=a,u=a.attributes.position;for(let c=t,d=e+t;c<d;c++){let f;if(f=c,vt(i,f*3,l,u),i.needsUpdate=!0,o(i,f,r,s))return!0}return!1}function uR(t,e=null){e&&Array.isArray(e)&&(e=new Set(e));const n=t.geometry,o=n.index?n.index.array:null,r=n.attributes.position;let s,i,a,l,u=0;const c=t._roots;for(let f=0,p=c.length;f<p;f++)s=c[f],i=new Uint32Array(s),a=new Uint16Array(s),l=new Float32Array(s),d(0,u),u+=s.byteLength;function d(f,p,m=!1){const v=f*2;if(yt(v,a)){const b=$t(f,i),g=Wt(v,a);let y=1/0,_=1/0,w=1/0,x=-1/0,P=-1/0,T=-1/0;for(let M=3*b,E=3*(b+g);M<E;M++){let S=o[M];const R=r.getX(S),O=r.getY(S),I=r.getZ(S);R<y&&(y=R),R>x&&(x=R),O<_&&(_=O),O>P&&(P=O),I<w&&(w=I),I>T&&(T=I)}return l[f+0]!==y||l[f+1]!==_||l[f+2]!==w||l[f+3]!==x||l[f+4]!==P||l[f+5]!==T?(l[f+0]=y,l[f+1]=_,l[f+2]=w,l[f+3]=x,l[f+4]=P,l[f+5]=T,!0):!1}else{const b=wt(f),g=xt(f,i);let y=m,_=!1,w=!1;if(e){if(!y){const S=b/bt+p/Vt,R=g/bt+p/Vt;_=e.has(S),w=e.has(R),y=!_&&!w}}else _=!0,w=!0;const x=y||_,P=y||w;let T=!1;x&&(T=d(b,p,y));let M=!1;P&&(M=d(g,p,y));const E=T||M;if(E)for(let S=0;S<3;S++){const R=b+S,O=g+S,I=l[R],L=l[R+3],z=l[O],W=l[O+3];l[f+S]=I<z?I:z,l[f+S+3]=L>W?L:W}return E}}}function lr(t,e,n,o,r){let s,i,a,l,u,c;const d=1/n.direction.x,f=1/n.direction.y,p=1/n.direction.z,m=n.origin.x,v=n.origin.y,b=n.origin.z;let g=e[t],y=e[t+3],_=e[t+1],w=e[t+3+1],x=e[t+2],P=e[t+3+2];return d>=0?(s=(g-m)*d,i=(y-m)*d):(s=(y-m)*d,i=(g-m)*d),f>=0?(a=(_-v)*f,l=(w-v)*f):(a=(w-v)*f,l=(_-v)*f),s>l||a>i||((a>s||isNaN(s))&&(s=a),(l<i||isNaN(i))&&(i=l),p>=0?(u=(x-b)*p,c=(P-b)*p):(u=(P-b)*p,c=(x-b)*p),s>c||u>i)?!1:((u>s||s!==s)&&(s=u),(c<i||i!==i)&&(i=c),s<=r&&i>=o)}function cR(t,e,n,o,r,s,i,a){const{geometry:l,_indirectBuffer:u}=t;for(let c=o,d=o+r;c<d;c++){let f=u?u[c]:c;_u(l,e,n,f,s,i,a)}}function dR(t,e,n,o,r,s,i){const{geometry:a,_indirectBuffer:l}=t;let u=1/0,c=null;for(let d=o,f=o+r;d<f;d++){let p;p=_u(a,e,n,l?l[d]:d,null,s,i),p&&p.distance<u&&(c=p,u=p.distance)}return c}function fR(t,e,n,o,r,s,i){const{geometry:a}=n,{index:l}=a,u=a.attributes.position;for(let c=t,d=e+t;c<d;c++){let f;if(f=n.resolveTriangleIndex(c),vt(i,f*3,l,u),i.needsUpdate=!0,o(i,f,r,s))return!0}return!1}function pR(t,e,n,o,r,s,i){ot.setBuffer(t._roots[e]),ad(0,t,n,o,r,s,i),ot.clearBuffer()}function ad(t,e,n,o,r,s,i){const{float32Array:a,uint16Array:l,uint32Array:u}=ot,c=t*2;if(yt(c,l)){const f=$t(t,u),p=Wt(c,l);iR(e,n,o,f,p,r,s,i)}else{const f=wt(t);lr(f,a,o,s,i)&&ad(f,e,n,o,r,s,i);const p=xt(t,u);lr(p,a,o,s,i)&&ad(p,e,n,o,r,s,i)}}const hR=["x","y","z"];function mR(t,e,n,o,r,s){ot.setBuffer(t._roots[e]);const i=ld(0,t,n,o,r,s);return ot.clearBuffer(),i}function ld(t,e,n,o,r,s){const{float32Array:i,uint16Array:a,uint32Array:l}=ot;let u=t*2;if(yt(u,a)){const d=$t(t,l),f=Wt(u,a);return aR(e,n,o,d,f,r,s)}else{const d=kf(t,l),f=hR[d],m=o.direction[f]>=0;let v,b;m?(v=wt(t),b=xt(t,l)):(v=xt(t,l),b=wt(t));const y=lr(v,i,o,r,s)?ld(v,e,n,o,r,s):null;if(y){const x=y.point[f];if(m?x<=i[b+d]:x>=i[b+d+3])return y}const w=lr(b,i,o,r,s)?ld(b,e,n,o,r,s):null;return y&&w?y.distance<=w.distance?y:w:y||w||null}}const Ra=new bn,ts=new Nn,ns=new Nn,Xs=new Kt,Ph=new Qt,Oa=new Qt;function vR(t,e,n,o){ot.setBuffer(t._roots[e]);const r=ud(0,t,n,o);return ot.clearBuffer(),r}function ud(t,e,n,o,r=null){const{float32Array:s,uint16Array:i,uint32Array:a}=ot;let l=t*2;if(r===null&&(n.boundingBox||n.computeBoundingBox(),Ph.set(n.boundingBox.min,n.boundingBox.max,o),r=Ph),yt(l,i)){const c=e.geometry,d=c.index,f=c.attributes.position,p=n.index,m=n.attributes.position,v=$t(t,a),b=Wt(l,i);if(Xs.copy(o).invert(),n.boundsTree)return ct(t,s,Oa),Oa.matrix.copy(Xs),Oa.needsUpdate=!0,n.boundsTree.shapecast({intersectsBounds:y=>Oa.intersectsBox(y),intersectsTriangle:y=>{y.a.applyMatrix4(o),y.b.applyMatrix4(o),y.c.applyMatrix4(o),y.needsUpdate=!0;for(let _=v*3,w=(b+v)*3;_<w;_+=3)if(vt(ns,_,d,f),ns.needsUpdate=!0,y.intersectsTriangle(ns))return!0;return!1}});{const g=yu(n);for(let y=v*3,_=(b+v)*3;y<_;y+=3){vt(ts,y,d,f),ts.a.applyMatrix4(Xs),ts.b.applyMatrix4(Xs),ts.c.applyMatrix4(Xs),ts.needsUpdate=!0;for(let w=0,x=g*3;w<x;w+=3)if(vt(ns,w,p,m),ns.needsUpdate=!0,ts.intersectsTriangle(ns))return!0}}}else{const c=wt(t),d=xt(t,a);return ct(c,s,Ra),!!(r.intersectsBox(Ra)&&ud(c,e,n,o,r)||(ct(d,s,Ra),r.intersectsBox(Ra)&&ud(d,e,n,o,r)))}}const Ia=new Kt,rc=new Qt,Qs=new Qt,gR=new K,bR=new K,yR=new K,_R=new K;function wR(t,e,n,o={},r={},s=0,i=1/0){e.boundingBox||e.computeBoundingBox(),rc.set(e.boundingBox.min,e.boundingBox.max,n),rc.needsUpdate=!0;const a=t.geometry,l=a.attributes.position,u=a.index,c=e.attributes.position,d=e.index,f=Cn.getPrimitive(),p=Cn.getPrimitive();let m=gR,v=bR,b=null,g=null;r&&(b=yR,g=_R);let y=1/0,_=null,w=null;return Ia.copy(n).invert(),Qs.matrix.copy(Ia),t.shapecast({boundsTraverseOrder:x=>rc.distanceToBox(x),intersectsBounds:(x,P,T)=>T<y&&T<i?(P&&(Qs.min.copy(x.min),Qs.max.copy(x.max),Qs.needsUpdate=!0),!0):!1,intersectsRange:(x,P)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:M=>Qs.distanceToBox(M),intersectsBounds:(M,E,S)=>S<y&&S<i,intersectsRange:(M,E)=>{for(let S=M,R=M+E;S<R;S++){vt(p,3*S,d,c),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let O=x,I=x+P;O<I;O++){vt(f,3*O,u,l),f.needsUpdate=!0;const L=f.distanceToTriangle(p,m,b);if(L<y&&(v.copy(m),g&&g.copy(b),y=L,_=O,w=S),L<s)return!0}}}});{const T=yu(e);for(let M=0,E=T;M<E;M++){vt(p,3*M,d,c),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let S=x,R=x+P;S<R;S++){vt(f,3*S,u,l),f.needsUpdate=!0;const O=f.distanceToTriangle(p,m,b);if(O<y&&(v.copy(m),g&&g.copy(b),y=O,_=S,w=M),O<s)return!0}}}}}),Cn.releasePrimitive(f),Cn.releasePrimitive(p),y===1/0?null:(o.point?o.point.copy(v):o.point=v.clone(),o.distance=y,o.faceIndex=_,r&&(r.point?r.point.copy(g):r.point=g.clone(),r.point.applyMatrix4(Ia),v.applyMatrix4(Ia),r.distance=v.sub(r.point).length(),r.faceIndex=w),o)}function xR(t,e=null){e&&Array.isArray(e)&&(e=new Set(e));const n=t.geometry,o=n.index?n.index.array:null,r=n.attributes.position;let s,i,a,l,u=0;const c=t._roots;for(let f=0,p=c.length;f<p;f++)s=c[f],i=new Uint32Array(s),a=new Uint16Array(s),l=new Float32Array(s),d(0,u),u+=s.byteLength;function d(f,p,m=!1){const v=f*2;if(yt(v,a)){const b=$t(f,i),g=Wt(v,a);let y=1/0,_=1/0,w=1/0,x=-1/0,P=-1/0,T=-1/0;for(let M=b,E=b+g;M<E;M++){const S=3*t.resolveTriangleIndex(M);for(let R=0;R<3;R++){let O=S+R;O=o?o[O]:O;const I=r.getX(O),L=r.getY(O),z=r.getZ(O);I<y&&(y=I),I>x&&(x=I),L<_&&(_=L),L>P&&(P=L),z<w&&(w=z),z>T&&(T=z)}}return l[f+0]!==y||l[f+1]!==_||l[f+2]!==w||l[f+3]!==x||l[f+4]!==P||l[f+5]!==T?(l[f+0]=y,l[f+1]=_,l[f+2]=w,l[f+3]=x,l[f+4]=P,l[f+5]=T,!0):!1}else{const b=wt(f),g=xt(f,i);let y=m,_=!1,w=!1;if(e){if(!y){const S=b/bt+p/Vt,R=g/bt+p/Vt;_=e.has(S),w=e.has(R),y=!_&&!w}}else _=!0,w=!0;const x=y||_,P=y||w;let T=!1;x&&(T=d(b,p,y));let M=!1;P&&(M=d(g,p,y));const E=T||M;if(E)for(let S=0;S<3;S++){const R=b+S,O=g+S,I=l[R],L=l[R+3],z=l[O],W=l[O+3];l[f+S]=I<z?I:z,l[f+S+3]=L>W?L:W}return E}}}function SR(t,e,n,o,r,s,i){ot.setBuffer(t._roots[e]),cd(0,t,n,o,r,s,i),ot.clearBuffer()}function cd(t,e,n,o,r,s,i){const{float32Array:a,uint16Array:l,uint32Array:u}=ot,c=t*2;if(yt(c,l)){const f=$t(t,u),p=Wt(c,l);cR(e,n,o,f,p,r,s,i)}else{const f=wt(t);lr(f,a,o,s,i)&&cd(f,e,n,o,r,s,i);const p=xt(t,u);lr(p,a,o,s,i)&&cd(p,e,n,o,r,s,i)}}const CR=["x","y","z"];function TR(t,e,n,o,r,s){ot.setBuffer(t._roots[e]);const i=dd(0,t,n,o,r,s);return ot.clearBuffer(),i}function dd(t,e,n,o,r,s){const{float32Array:i,uint16Array:a,uint32Array:l}=ot;let u=t*2;if(yt(u,a)){const d=$t(t,l),f=Wt(u,a);return dR(e,n,o,d,f,r,s)}else{const d=kf(t,l),f=CR[d],m=o.direction[f]>=0;let v,b;m?(v=wt(t),b=xt(t,l)):(v=xt(t,l),b=wt(t));const y=lr(v,i,o,r,s)?dd(v,e,n,o,r,s):null;if(y){const x=y.point[f];if(m?x<=i[b+d]:x>=i[b+d+3])return y}const w=lr(b,i,o,r,s)?dd(b,e,n,o,r,s):null;return y&&w?y.distance<=w.distance?y:w:y||w||null}}const Da=new bn,os=new Nn,rs=new Nn,Zs=new Kt,kh=new Qt,Ba=new Qt;function ER(t,e,n,o){ot.setBuffer(t._roots[e]);const r=fd(0,t,n,o);return ot.clearBuffer(),r}function fd(t,e,n,o,r=null){const{float32Array:s,uint16Array:i,uint32Array:a}=ot;let l=t*2;if(r===null&&(n.boundingBox||n.computeBoundingBox(),kh.set(n.boundingBox.min,n.boundingBox.max,o),r=kh),yt(l,i)){const c=e.geometry,d=c.index,f=c.attributes.position,p=n.index,m=n.attributes.position,v=$t(t,a),b=Wt(l,i);if(Zs.copy(o).invert(),n.boundsTree)return ct(t,s,Ba),Ba.matrix.copy(Zs),Ba.needsUpdate=!0,n.boundsTree.shapecast({intersectsBounds:y=>Ba.intersectsBox(y),intersectsTriangle:y=>{y.a.applyMatrix4(o),y.b.applyMatrix4(o),y.c.applyMatrix4(o),y.needsUpdate=!0;for(let _=v,w=b+v;_<w;_++)if(vt(rs,3*e.resolveTriangleIndex(_),d,f),rs.needsUpdate=!0,y.intersectsTriangle(rs))return!0;return!1}});{const g=yu(n);for(let y=v,_=b+v;y<_;y++){const w=e.resolveTriangleIndex(y);vt(os,3*w,d,f),os.a.applyMatrix4(Zs),os.b.applyMatrix4(Zs),os.c.applyMatrix4(Zs),os.needsUpdate=!0;for(let x=0,P=g*3;x<P;x+=3)if(vt(rs,x,p,m),rs.needsUpdate=!0,os.intersectsTriangle(rs))return!0}}}else{const c=wt(t),d=xt(t,a);return ct(c,s,Da),!!(r.intersectsBox(Da)&&fd(c,e,n,o,r)||(ct(d,s,Da),r.intersectsBox(Da)&&fd(d,e,n,o,r)))}}const qa=new Kt,sc=new Qt,Js=new Qt,AR=new K,MR=new K,PR=new K,kR=new K;function RR(t,e,n,o={},r={},s=0,i=1/0){e.boundingBox||e.computeBoundingBox(),sc.set(e.boundingBox.min,e.boundingBox.max,n),sc.needsUpdate=!0;const a=t.geometry,l=a.attributes.position,u=a.index,c=e.attributes.position,d=e.index,f=Cn.getPrimitive(),p=Cn.getPrimitive();let m=AR,v=MR,b=null,g=null;r&&(b=PR,g=kR);let y=1/0,_=null,w=null;return qa.copy(n).invert(),Js.matrix.copy(qa),t.shapecast({boundsTraverseOrder:x=>sc.distanceToBox(x),intersectsBounds:(x,P,T)=>T<y&&T<i?(P&&(Js.min.copy(x.min),Js.max.copy(x.max),Js.needsUpdate=!0),!0):!1,intersectsRange:(x,P)=>{if(e.boundsTree){const T=e.boundsTree;return T.shapecast({boundsTraverseOrder:M=>Js.distanceToBox(M),intersectsBounds:(M,E,S)=>S<y&&S<i,intersectsRange:(M,E)=>{for(let S=M,R=M+E;S<R;S++){const O=T.resolveTriangleIndex(S);vt(p,3*O,d,c),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let I=x,L=x+P;I<L;I++){const z=t.resolveTriangleIndex(I);vt(f,3*z,u,l),f.needsUpdate=!0;const W=f.distanceToTriangle(p,m,b);if(W<y&&(v.copy(m),g&&g.copy(b),y=W,_=I,w=S),W<s)return!0}}}})}else{const T=yu(e);for(let M=0,E=T;M<E;M++){vt(p,3*M,d,c),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let S=x,R=x+P;S<R;S++){const O=t.resolveTriangleIndex(S);vt(f,3*O,u,l),f.needsUpdate=!0;const I=f.distanceToTriangle(p,m,b);if(I<y&&(v.copy(m),g&&g.copy(b),y=I,_=S,w=M),I<s)return!0}}}}}),Cn.releasePrimitive(f),Cn.releasePrimitive(p),y===1/0?null:(o.point?o.point.copy(v):o.point=v.clone(),o.distance=y,o.faceIndex=_,r&&(r.point?r.point.copy(g):r.point=g.clone(),r.point.applyMatrix4(qa),v.applyMatrix4(qa),r.distance=v.sub(r.point).length(),r.faceIndex=w),o)}function Rh(t,e,n){return t===null?null:(t.point.applyMatrix4(e.matrixWorld),t.distance=t.point.distanceTo(n.ray.origin),t.object=e,t)}const Fa=new Qt,La=new bm,Oh=new K,Ih=new Kt,Dh=new K,ic=["getX","getY","getZ"];class Rs extends Zk{static serialize(e,n={}){n={cloneBuffers:!0,...n};const o=e.geometry,r=e._roots,s=e._indirectBuffer,i=o.getIndex(),a={version:1,roots:null,index:null,indirectBuffer:null};return n.cloneBuffers?(a.roots=r.map(l=>l.slice()),a.index=i?i.array.slice():null,a.indirectBuffer=s?s.slice():null):(a.roots=r,a.index=i?i.array:null,a.indirectBuffer=s),a}static deserialize(e,n,o={}){o={setIndex:!0,indirect:!!e.indirectBuffer,...o};const{index:r,roots:s,indirectBuffer:i}=e;e.version||(console.warn("MeshBVH.deserialize: Serialization format has been changed and will be fixed up. It is recommended to regenerate any stored serialized data."),l(s));const a=new Rs(n,{...o,[Pf]:!0});if(a._roots=s,a._indirectBuffer=i||null,o.setIndex){const u=n.getIndex();if(u===null){const c=new ln(e.index,1,!1);n.setIndex(c)}else u.array!==r&&(u.array.set(r),u.needsUpdate=!0)}return a;function l(u){for(let c=0;c<u.length;c++){const d=u[c],f=new Uint32Array(d),p=new Uint16Array(d);for(let m=0,v=d.byteLength/Vt;m<v;m++){const b=bt*m,g=2*b;yt(g,p)||(f[b+6]=f[b+6]/bt-m)}}}}get primitiveStride(){return 3}get resolveTriangleIndex(){return this.resolvePrimitiveIndex}constructor(e,n={}){n.maxLeafTris&&(console.warn('MeshBVH: "maxLeafTris" option has been deprecated. Use maxLeafSize, instead.'),n={...n,maxLeafSize:n.maxLeafTris}),super(e,n)}shiftTriangleOffsets(e){return super.shiftPrimitiveOffsets(e)}writePrimitiveBounds(e,n,o){const r=this.geometry,s=this._indirectBuffer,i=r.attributes.position,a=r.index?r.index.array:null,u=(s?s[e]:e)*3;let c=u+0,d=u+1,f=u+2;a&&(c=a[c],d=a[d],f=a[f]);for(let p=0;p<3;p++){const m=i[ic[p]](c),v=i[ic[p]](d),b=i[ic[p]](f);let g=m;v<g&&(g=v),b<g&&(g=b);let y=m;v>y&&(y=v),b>y&&(y=b),n[o+p]=g,n[o+p+3]=y}return n}computePrimitiveBounds(e,n,o){const r=this.geometry,s=this._indirectBuffer,i=r.attributes.position,a=r.index?r.index.array:null,l=i.normalized;if(e<0||n+e-o.offset>o.length/6)throw new Error("MeshBVH: compute triangle bounds range is invalid.");const u=i.array,c=i.offset||0;let d=3;i.isInterleavedBufferAttribute&&(d=i.data.stride);const f=["getX","getY","getZ"],p=o.offset;for(let m=e,v=e+n;m<v;m++){const g=(s?s[m]:m)*3,y=(m-p)*6;let _=g+0,w=g+1,x=g+2;a&&(_=a[_],w=a[w],x=a[x]),l||(_=_*d+c,w=w*d+c,x=x*d+c);for(let P=0;P<3;P++){let T,M,E;l?(T=i[f[P]](_),M=i[f[P]](w),E=i[f[P]](x)):(T=u[_+P],M=u[w+P],E=u[x+P]);let S=T;M<S&&(S=M),E<S&&(S=E);let R=T;M>R&&(R=M),E>R&&(R=E);const O=(R-S)/2,I=P*2;o[y+I+0]=S+O,o[y+I+1]=O+(Math.abs(S)+O)*el}}return o}raycastObject3D(e,n,o=[]){const{material:r}=e;if(r===void 0)return;Ih.copy(e.matrixWorld).invert(),La.copy(n.ray).applyMatrix4(Ih),Dh.setFromMatrixScale(e.matrixWorld),Oh.copy(La.direction).multiply(Dh);const s=Oh.length(),i=n.near/s,a=n.far/s;if(n.firstHitOnly===!0){let l=this.raycastFirst(La,r,i,a);l=Rh(l,e,n),l&&o.push(l)}else{const l=this.raycast(La,r,i,a);for(let u=0,c=l.length;u<c;u++){const d=Rh(l[u],e,n);d&&o.push(d)}}return o}refit(e=null){return(this.indirect?xR:uR)(this,e)}raycast(e,n=Yf,o=0,r=1/0){const s=this._roots,i=[],a=this.indirect?SR:pR;for(let l=0,u=s.length;l<u;l++)a(this,l,n,e,i,o,r);return i}raycastFirst(e,n=Yf,o=0,r=1/0){const s=this._roots;let i=null;const a=this.indirect?TR:mR;for(let l=0,u=s.length;l<u;l++){const c=a(this,l,n,e,o,r);c!=null&&(i==null||c.distance<i.distance)&&(i=c)}return i}intersectsGeometry(e,n){let o=!1;const r=this._roots,s=this.indirect?ER:vR;for(let i=0,a=r.length;i<a&&(o=s(this,i,e,n),!o);i++);return o}shapecast(e){const n=Cn.getPrimitive(),o=super.shapecast({...e,intersectsPrimitive:e.intersectsTriangle,scratchPrimitive:n,iterate:this.indirect?fR:lR});return Cn.releasePrimitive(n),o}bvhcast(e,n,o){let{intersectsRanges:r,intersectsTriangles:s}=o;const i=Cn.getPrimitive(),a=this.geometry.index,l=this.geometry.attributes.position,u=this.indirect?m=>{const v=this.resolveTriangleIndex(m);vt(i,v*3,a,l)}:m=>{vt(i,m*3,a,l)},c=Cn.getPrimitive(),d=e.geometry.index,f=e.geometry.attributes.position,p=e.indirect?m=>{const v=e.resolveTriangleIndex(m);vt(c,v*3,d,f)}:m=>{vt(c,m*3,d,f)};if(s){if(!(e instanceof Rs))throw new Error('MeshBVH: "intersectsTriangles" callback can only be used with another MeshBVH.');const m=(v,b,g,y,_,w,x,P)=>{for(let T=g,M=g+y;T<M;T++){p(T),c.a.applyMatrix4(n),c.b.applyMatrix4(n),c.c.applyMatrix4(n),c.needsUpdate=!0;for(let E=v,S=v+b;E<S;E++)if(u(E),i.needsUpdate=!0,s(i,c,E,T,_,w,x,P))return!0}return!1};if(r){const v=r;r=function(b,g,y,_,w,x,P,T){return v(b,g,y,_,w,x,P,T)?!0:m(b,g,y,_,w,x,P,T)}}else r=m}return super.bvhcast(e,n,{intersectsRanges:r})}intersectsBox(e,n){return Fa.set(e.min,e.max,n),Fa.needsUpdate=!0,this.shapecast({intersectsBounds:o=>Fa.intersectsBox(o),intersectsTriangle:o=>Fa.intersectsTriangle(o)})}intersectsSphere(e){return this.shapecast({intersectsBounds:n=>e.intersectsBox(n),intersectsTriangle:n=>n.intersectsSphere(e)})}closestPointToGeometry(e,n,o={},r={},s=0,i=1/0){return(this.indirect?RR:wR)(this,e,n,o,r,s,i)}closestPointToPoint(e,n={},o=0,r=1/0){return oR(this,e,n,o,r)}}const OR=parseInt(kl)>=166,ds={Mesh:ue.prototype.raycast,Line:On.prototype.raycast,LineSegments:ym.prototype.raycast,LineLoop:_m.prototype.raycast,Points:wm.prototype.raycast,BatchedMesh:Rl.prototype.raycast},Tt=new ue,Va=[];function gb(t,e){if(this.isBatchedMesh)IR.call(this,t,e);else{const{geometry:n}=this;if(n.boundsTree)n.boundsTree.raycastObject3D(this,t,e);else{let o;if(this instanceof ue)o=ds.Mesh;else if(this instanceof ym)o=ds.LineSegments;else if(this instanceof _m)o=ds.LineLoop;else if(this instanceof On)o=ds.Line;else if(this instanceof wm)o=ds.Points;else throw new Error("BVH: Fallback raycast function not found.");o.call(this,t,e)}}}function IR(t,e){if(this.boundsTrees){const n=this.boundsTrees,o=this._drawInfo||this._instanceInfo,r=this._drawRanges||this._geometryInfo,s=this.matrixWorld;Tt.material=this.material,Tt.geometry=this.geometry;const i=Tt.geometry.boundsTree,a=Tt.geometry.drawRange;Tt.geometry.boundingSphere===null&&(Tt.geometry.boundingSphere=new Ad);for(let l=0,u=o.length;l<u;l++){if(!this.getVisibleAt(l))continue;const c=o[l].geometryIndex;if(Tt.geometry.boundsTree=n[c],this.getMatrixAt(l,Tt.matrixWorld).premultiply(s),!Tt.geometry.boundsTree){this.getBoundingBoxAt(c,Tt.geometry.boundingBox),this.getBoundingSphereAt(c,Tt.geometry.boundingSphere);const d=r[c];Tt.geometry.setDrawRange(d.start,d.count)}Tt.raycast(t,Va);for(let d=0,f=Va.length;d<f;d++){const p=Va[d];p.object=this,p.batchId=l,e.push(p)}Va.length=0}Tt.geometry.boundsTree=i,Tt.geometry.drawRange=a,Tt.material=null,Tt.geometry=null}else ds.BatchedMesh.call(this,t,e)}function DR(t={}){const{type:e=Rs}=t;return this.boundsTree=new e(this,t),this.boundsTree}function BR(){this.boundsTree=null}function qR(t=-1,e={}){if(!OR)throw new Error("BatchedMesh: Three r166+ is required to compute bounds trees.");e={...e,range:null};const n=this._drawRanges||this._geometryInfo,o=this._geometryCount;this.boundsTrees||(this.boundsTrees=new Array(o).fill(null));const r=this.boundsTrees;for(;r.length<o;)r.push(null);if(t<0){for(let s=0;s<o;s++)e.range=n[s],r[s]=new Rs(this.geometry,e);return r}else return t<n.length&&(e.range=n[t],r[t]=new Rs(this.geometry,e)),r[t]||null}function FR(t=-1){t<0?this.boundsTrees.fill(null):t<this.boundsTrees.length&&(this.boundsTrees[t]=null)}Mo.prototype.computeBoundsTree=DR;Mo.prototype.disposeBoundsTree=BR;ue.prototype.raycast=gb;Rl.prototype.computeBoundsTree=qR;Rl.prototype.disposeBoundsTree=FR;Rl.prototype.raycast=gb;function bb(t){t.traverse(e=>{e instanceof ue&&e.geometry&&e.geometry.computeBoundsTree()})}class LR extends U.Mesh{constructor(e=1,n=10,o=new U.Color(8947848),r=100,s="xzy"){const i=s.substring(0,2),a=new U.PlaneGeometry(2,2,1,1),l=new U.ShaderMaterial({side:U.DoubleSide,transparent:!0,opacity:.5,depthWrite:!1,uniforms:{uSize1:{value:e},uSize2:{value:n},uColor:{value:o.convertSRGBToLinear()},uDistance:{value:r}},vertexShader:`
				varying vec3 worldPosition;
				uniform float uDistance;
				void main() {
					vec3 pos = position.${s} * uDistance;
					pos.${i} += cameraPosition.${i};
					worldPosition = pos;
					gl_Position = projectionMatrix * viewMatrix * vec4(pos, 1.0);
				}
			`,fragmentShader:`
				varying vec3 worldPosition;
				uniform float uSize1;
				uniform float uSize2;
				uniform vec3 uColor;
				uniform float uDistance;

				float getGrid(float size) {
					vec2 r = worldPosition.xz / size;
					vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
					float line = min(grid.x, grid.y);
					return 1.0 - min(line, 1.0);
				}

				void main() {
					float distFade = 1.0 - min(distance(cameraPosition, worldPosition) / uDistance, 1.0);
					float g1 = getGrid(uSize1);
					float g2 = getGrid(uSize2);
					vec3 color = uColor * mix(g2, g1, 0.5);
					float alpha = max(g1, g2) * distFade;
					gl_FragColor = vec4(color, alpha);
					if (gl_FragColor.a <= 0.0) discard;
				}
			`});super(a,l),this.frustumCulled=!1}update(e){this.position.copy(e.position)}}function VR(t){const e=new LR(1,10,new U.Color(.48,.48,.48),1e3);e.renderOrder=-1,e.name="InfiniteGridHelper",e.userData.isHelper=!0,t.add(e);const n=$R();return t.add(n),e}function $R(){const t=new U.AxesHelper(1e3),e=t.clone(!0);e.rotateY(Math.PI);const n=new U.Group;return n.add(t,e),n.name="AxesHelper",n.userData.isHelper=!0,n.children.forEach(o=>{o.scale.y=0}),n}var NR=Object.defineProperty,jR=(t,e,n)=>e in t?NR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$e=(t,e,n)=>jR(t,typeof e!="symbol"?e+"":e,n);const yb=(t,e)=>{const[n,o]=e.split("-");return Object.assign(t.style,{left:o==="left"?"0":o==="center"?"50%":"",right:o==="right"?"0":"",top:n==="top"?"0":n==="bottom"?"":"50%",bottom:n==="bottom"?"0":"",transform:`${o==="center"?"translateX(-50%)":""} ${n==="center"?"translateY(-50%)":""}`}),e},zR=({placement:t,size:e,offset:n,id:o,className:r})=>{const s=document.createElement("div"),{top:i,left:a,right:l,bottom:u}=n;return Object.assign(s.style,{id:o,position:"absolute",zIndex:"1000",height:`${e}px`,width:`${e}px`,margin:`${i}px ${l}px ${u}px ${a}px`,borderRadius:"100%"}),yb(s,t),o&&(s.id=o),r&&(s.className=r),s},UR=t=>{const e=typeof t=="string"?document.querySelector(t):t;if(!e)throw Error("Invalid DOM element");return e};function pd(t,e,n){return Math.max(e,Math.min(n,t))}const HR=[["x",0,3],["y",1,4],["z",2,5]],Bh=new K;function qh({isSphere:t},e,n){t&&(Bh.set(0,0,1).applyQuaternion(n.quaternion),HR.forEach(([o,r,s])=>{const i=Bh[o];let a=e[r],l=a.userData.opacity;a.material.opacity=pd(i>=0?l:l/2,0,1),a=e[s],l=a.userData.opacity,a.material.opacity=pd(i>=0?l/2:l,0,1)}))}const GR=(t,e,n=10)=>Math.abs(t.clientX-e.x)<n&&Math.abs(t.clientY-e.y)<n,Fh=new Sm,Lh=new ke,Vh=(t,e,n,o)=>{Lh.set((t.clientX-e.left)/e.width*2-1,-((t.clientY-e.top)/e.height)*2+1),Fh.setFromCamera(Lh,n);const r=Fh.intersectObjects(o,!1),s=r.length?r[0]:null;return!s||!s.object.visible?null:s},ac=1e-6,WR=2*Math.PI,_b=["x","y","z"],$i=[..._b,"nx","ny","nz"],KR=["x","z","y","nx","nz","ny"],YR=["z","x","y","nz","nx","ny"],hd="Right",nl="Top",md="Front",vd="Left",ol="Bottom",gd="Back",XR=[hd,nl,md,vd,ol,gd].map(t=>t.toLocaleLowerCase()),wb=1.3,$h=(t,e=!0)=>{const{material:n,userData:o}=t,{color:r,opacity:s}=e?o.hover:o;n.color.set(r),n.opacity=s},wr=t=>JSON.parse(JSON.stringify(t)),QR=t=>{const e=t.type||"sphere",n=e==="sphere",o=t.resolution||n?64:128,r=Ts.DEFAULT_UP,s=r.z===1,i=r.x===1,{container:a}=t;t.container=void 0,t=JSON.parse(JSON.stringify(t)),t.container=a;const l=s?KR:i?YR:$i;XR.forEach((f,p)=>{t[f]&&(t[l[p]]=t[f])});const u={enabled:!0,color:16777215,opacity:1,scale:.7,labelColor:2236962,line:!1,border:{size:0,color:14540253},hover:{color:n?16777215:9688043,labelColor:2236962,opacity:1,scale:.7,border:{size:0,color:14540253}}},c={line:!1,scale:n?.45:.7,hover:{scale:n?.5:.7}},d={type:e,container:document.body,size:128,placement:"top-right",resolution:o,lineWidth:4,radius:n?1:.2,smoothness:18,animated:!0,speed:1,background:{enabled:!0,color:n?16777215:14739180,opacity:n?0:1,hover:{color:n?16777215:14739180,opacity:n?.2:1}},font:{family:"sans-serif",weight:900},offset:{top:10,left:10,bottom:10,right:10},corners:{enabled:!n,color:n?15915362:16777215,opacity:1,scale:n?.15:.2,radius:1,smoothness:18,hover:{color:n?16777215:9688043,opacity:1,scale:n?.2:.225}},edges:{enabled:!n,color:n?15915362:16777215,opacity:n?1:0,radius:n?1:.125,smoothness:18,scale:n?.15:1,hover:{color:n?16777215:9688043,opacity:1,scale:n?.2:1}},x:{...wr(u),...n?{label:"X",color:16725587,line:!0}:{label:i?nl:hd}},y:{...wr(u),...n?{label:"Y",color:9100032,line:!0}:{label:s||i?md:nl}},z:{...wr(u),...n?{label:"Z",color:2920447,line:!0}:{label:s?nl:i?hd:md}},nx:{...wr(c),label:n?"":i?ol:vd},ny:{...wr(c),label:n?"":s||i?gd:ol},nz:{...wr(c),label:n?"":s?ol:i?vd:gd}};return bd(t,d),_b.forEach(f=>bd(t[`n${f}`],wr(t[f]))),{...t,isSphere:n}};function bd(t,...e){if(t instanceof HTMLElement||typeof t!="object"||t===null)return t;for(const n of e)for(const o in n)o!=="container"&&o in n&&(t[o]===void 0?t[o]=n[o]:typeof n[o]=="object"&&!Array.isArray(n[o])&&(t[o]=bd(t[o]||{},n[o])));return t}const ZR=(t,e=2)=>{const n=new eo,o=e*2,{isSphere:r,resolution:s,radius:i,font:a,corners:l,edges:u}=t,c=$i.map(T=>({...t[T],radius:i}));r&&l.enabled&&c.push(l),r&&u.enabled&&c.push(u);const d=document.createElement("canvas"),f=d.getContext("2d");d.width=s*2+o*2,d.height=s*c.length+o*c.length;const[p,m]=x(c,s,a);c.forEach(({radius:T,label:M,color:E,labelColor:S,border:R,hover:{color:O,labelColor:I,border:L}},z)=>{const W=s*z+z*o+e;w(e,W,e,s,T,M,R,E,S),w(s+e*3,W,e,s,T,M,L??R,O??E,I??S)});const v=c.length,b=e/(s*2),g=e/(s*6),y=1/v,_=new vy(d);return _.repeat.set(.5-2*b,y-2*g),_.offset.set(b,1-g),Object.assign(_,{colorSpace:Cm,wrapS:Cc,wrapT:Cc,userData:{offsetX:b,offsetY:g,cellHeight:y}}),_;function w(T,M,E,S,R,O,I,L,z){if(R=R*(S/2),L!=null&&L!==""&&(W(),f.fillStyle=n.set(L).getStyle(),f.fill()),I&&I.size){const H=I.size*S/2;T+=H,M+=H,S-=I.size*S,R=Math.max(0,R-H),W(),f.strokeStyle=n.set(I.color).getStyle(),f.lineWidth=I.size*S,f.stroke()}O&&P(f,T+S/2,M+(S+E)/2,O,n.set(z).getStyle());function W(){f.beginPath(),f.moveTo(T+R,M),f.lineTo(T+S-R,M),f.arcTo(T+S,M,T+S,M+R,R),f.lineTo(T+S,M+S-R),f.arcTo(T+S,M+S,T+S-R,M+S,R),f.lineTo(T+R,M+S),f.arcTo(T,M+S,T,M+S-R,R),f.lineTo(T,M+R),f.arcTo(T,M,T+R,M,R),f.closePath()}}function x(T,M,E){const S=[...T].sort((le,we)=>{var Se,tt;return(((Se=le.label)==null?void 0:Se.length)||0)-(((tt=we.label)==null?void 0:tt.length)||0)}).pop().label,{family:R,weight:O}=E,I=r?Math.sqrt(Math.pow(M*.7,2)/2):M;let L=I,z=0,W=0;do{f.font=`${O} ${L}px ${R}`;const le=f.measureText(S);z=le.width,W=le.fontBoundingBoxDescent,L--}while(z>I&&L>0);const H=I/W,Y=Math.min(I/z,H),fe=Math.floor(L*Y);return[`${O} ${fe}px ${R}`,H]}function P(T,M,E,S,R){T.font=p,T.textAlign="center",T.textBaseline="middle",T.fillStyle=R,T.fillText(S,M,E+(r?m:0))}},JR=(t,e)=>t.offset.x=(e?.5:0)+t.userData.offsetX,Df=(t,e)=>{const{offset:n,userData:{offsetY:o,cellHeight:r}}=t;n.y=1-(e+1)*r+o};function Bf(t,e,n=2,o=2){const r=n/2-t,s=o/2-t,i=t/n,a=(n-t)/n,l=t/o,u=(o-t)/o,c=[r,s,0,-r,s,0,-r,-s,0,r,-s,0],d=[a,u,i,u,i,l,a,l],f=[3*(e+1)+3,3*(e+1)+4,e+4,e+5,2*(e+1)+4,2,1,2*(e+1)+3,3,4*(e+1)+3,4,0],p=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11].map(P=>f[P]);let m,v,b,g,y,_,w,x;for(let P=0;P<4;P++){g=P<1||P>2?r:-r,y=P<2?s:-s,_=P<1||P>2?a:i,w=P<2?u:l;for(let T=0;T<=e;T++)m=Math.PI/2*(P+T/e),v=Math.cos(m),b=Math.sin(m),c.push(g+t*v,y+t*b,0),d.push(_+i*v,w+l*b),T<e&&(x=(e+1)*P+T+4,p.push(P,x,x+1))}return new Mo().setIndex(new ln(new Uint32Array(p),1)).setAttribute("position",new ln(new Float32Array(c),3)).setAttribute("uv",new ln(new Float32Array(d),2))}const eO=(t,e)=>{const n=new K,{isSphere:o,radius:r,smoothness:s}=t,i=Bf(r,s);return $i.map((a,l)=>{const u=l<3,c=$i[l],d=l?e.clone():e;Df(d,l);const{enabled:f,scale:p,opacity:m,hover:v}=t[c],b={map:d,opacity:m,transparent:!0},g=o?new Md(new Pd(b)):new ue(i,new Fr(b)),y=u?c:c[1];return g.position[y]=(u?1:-1)*(o?wb:1),o||g.lookAt(n.copy(g.position).multiplyScalar(1.7)),g.scale.setScalar(p),g.renderOrder=1,g.visible=f,g.userData={scale:p,opacity:m,hover:v},g})},tO=(t,e)=>{const{isSphere:n,corners:o}=t;if(!o.enabled)return[];const{color:r,opacity:s,scale:i,radius:a,smoothness:l,hover:u}=o,c=n?null:Bf(a,l),d={transparent:!0,opacity:s},f=[1,1,1,-1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,-1,-1,-1,-1,-1].map(m=>m*.85),p=new K;return Array(f.length/3).fill(0).map((m,v)=>{if(n){const y=e.clone();Df(y,6),d.map=y}else d.color=r;const b=n?new Md(new Pd(d)):new ue(c,new Fr(d)),g=v*3;return b.position.set(f[g],f[g+1],f[g+2]),n&&b.position.normalize().multiplyScalar(1.7),b.scale.setScalar(i),b.lookAt(p.copy(b.position).multiplyScalar(2)),b.renderOrder=1,b.userData={color:r,opacity:s,scale:i,hover:u},b})},nO=(t,e,n)=>{const{isSphere:o,edges:r}=t;if(!r.enabled)return[];const{color:s,opacity:i,scale:a,hover:l,radius:u,smoothness:c}=r,d=o?null:Bf(u,c,1.2,.25),f={transparent:!0,opacity:i},p=[0,1,1,0,-1,1,1,0,1,-1,0,1,0,1,-1,0,-1,-1,1,0,-1,-1,0,-1,1,1,0,1,-1,0,-1,1,0,-1,-1,0].map(b=>b*.925),m=new K,v=new K(0,1,0);return Array(p.length/3).fill(0).map((b,g)=>{if(o){const w=e.clone();Df(w,n),f.map=w}else f.color=s;const y=o?new Md(new Pd(f)):new ue(d,new Fr(f)),_=g*3;return y.position.set(p[_],p[_+1],p[_+2]),o&&y.position.normalize().multiplyScalar(1.7),y.scale.setScalar(a),y.up.copy(v),y.lookAt(m.copy(y.position).multiplyScalar(2)),!o&&!y.position.y&&(y.rotation.z=Math.PI/2),y.renderOrder=1,y.userData={color:s,opacity:i,scale:a,hover:l},y})};function oO(t,e=!1){const n=t[0].index!==null,o=new Set(Object.keys(t[0].attributes)),r=new Set(Object.keys(t[0].morphAttributes)),s={},i={},a=t[0].morphTargetsRelative,l=new Mo;let u=0;for(let c=0;c<t.length;++c){const d=t[c];let f=0;if(n!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const p in d.attributes){if(!o.has(p))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;s[p]===void 0&&(s[p]=[]),s[p].push(d.attributes[p]),f++}if(f!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(a!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const p in d.morphAttributes){if(!r.has(p))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;i[p]===void 0&&(i[p]=[]),i[p].push(d.morphAttributes[p])}if(e){let p;if(n)p=d.index.count;else if(d.attributes.position!==void 0)p=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;l.addGroup(u,p,c),u+=p}}if(n){let c=0;const d=[];for(let f=0;f<t.length;++f){const p=t[f].index;for(let m=0;m<p.count;++m)d.push(p.getX(m)+c);c+=t[f].attributes.position.count}l.setIndex(d)}for(const c in s){const d=Nh(s[c]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" attribute."),null;l.setAttribute(c,d)}for(const c in i){const d=i[c][0].length;if(d===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[c]=[];for(let f=0;f<d;++f){const p=[];for(let v=0;v<i[c].length;++v)p.push(i[c][v][f]);const m=Nh(p);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" morphAttribute."),null;l.morphAttributes[c].push(m)}}return l}function Nh(t){let e,n,o,r=-1,s=0;for(let u=0;u<t.length;++u){const c=t[u];if(e===void 0&&(e=c.array.constructor),e!==c.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=c.itemSize),n!==c.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(o===void 0&&(o=c.normalized),o!==c.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(r===-1&&(r=c.gpuType),r!==c.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=c.count*n}const i=new e(s),a=new ln(i,n,o);let l=0;for(let u=0;u<t.length;++u){const c=t[u];if(c.isInterleavedBufferAttribute){const d=l/n;for(let f=0,p=c.count;f<p;f++)for(let m=0;m<n;m++){const v=c.getComponent(f,m);a.setComponent(f+d,m,v)}}else i.set(c.array,l);l+=c.count*n}return r!==void 0&&(a.gpuType=r),a}const rO=(t,e)=>{const{isSphere:n,background:{enabled:o,color:r,opacity:s,hover:i}}=e;let a;const l=new Fr({color:r,side:Ed,opacity:s,transparent:!0,depthWrite:!1});if(!o)return null;if(n)a=new ue(new Tm(1.8,64,64),l);else{let u;t.forEach(c=>{const d=c.scale.x;c.scale.setScalar(.9),c.updateMatrix();const f=c.geometry.clone();f.applyMatrix4(c.matrix),u=u?oO([u,f]):f,c.scale.setScalar(d)}),a=new ue(u,l)}return a.userData={color:r,opacity:s,hover:i},a},jh=new bn,$a=new K;class xb extends gy{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],o=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(o),this.setAttribute("position",new nr(e,3)),this.setAttribute("uv",new nr(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,o=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),o.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const o=new Tc(n,6,1);return this.setAttribute("instanceStart",new ps(o,3,0)),this.setAttribute("instanceEnd",new ps(o,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const o=new Tc(n,6,1);return this.setAttribute("instanceColorStart",new ps(o,3,0)),this.setAttribute("instanceColorEnd",new ps(o,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new by(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bn);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),jh.setFromBufferAttribute(n),this.boundingBox.union(jh))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ad),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const o=this.boundingSphere.center;this.boundingBox.getCenter(o);let r=0;for(let s=0,i=e.count;s<i;s++)$a.fromBufferAttribute(e,s),r=Math.max(r,o.distanceToSquared($a)),$a.fromBufferAttribute(n,s),r=Math.max(r,o.distanceToSquared($a));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}Wa.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ke(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};Ka.line={uniforms:Ni.merge([Wa.common,Wa.fog,Wa.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class qf extends xo{constructor(e){super({type:"LineMaterial",uniforms:Ni.clone(Ka.line.uniforms),vertexShader:Ka.line.vertexShader,fragmentShader:Ka.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const lc=new so,zh=new K,Uh=new K,Et=new so,At=new so,Kn=new so,uc=new K,cc=new Kt,Mt=new ro,Hh=new K,Na=new bn,ja=new Ad,Yn=new so;let to,Dr;function Gh(t,e,n){return Yn.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Yn.multiplyScalar(1/Yn.w),Yn.x=Dr/n.width,Yn.y=Dr/n.height,Yn.applyMatrix4(t.projectionMatrixInverse),Yn.multiplyScalar(1/Yn.w),Math.abs(Math.max(Yn.x,Yn.y))}function sO(t,e){const n=t.matrixWorld,o=t.geometry,r=o.attributes.instanceStart,s=o.attributes.instanceEnd,i=Math.min(o.instanceCount,r.count);for(let a=0,l=i;a<l;a++){Mt.start.fromBufferAttribute(r,a),Mt.end.fromBufferAttribute(s,a),Mt.applyMatrix4(n);const u=new K,c=new K;to.distanceSqToSegment(Mt.start,Mt.end,c,u),c.distanceTo(u)<Dr*.5&&e.push({point:c,pointOnLine:u,distance:to.origin.distanceTo(c),object:t,face:null,faceIndex:a,uv:null,uv1:null})}}function iO(t,e,n){const o=e.projectionMatrix,r=t.material.resolution,s=t.matrixWorld,i=t.geometry,a=i.attributes.instanceStart,l=i.attributes.instanceEnd,u=Math.min(i.instanceCount,a.count),c=-e.near;to.at(1,Kn),Kn.w=1,Kn.applyMatrix4(e.matrixWorldInverse),Kn.applyMatrix4(o),Kn.multiplyScalar(1/Kn.w),Kn.x*=r.x/2,Kn.y*=r.y/2,Kn.z=0,uc.copy(Kn),cc.multiplyMatrices(e.matrixWorldInverse,s);for(let d=0,f=u;d<f;d++){if(Et.fromBufferAttribute(a,d),At.fromBufferAttribute(l,d),Et.w=1,At.w=1,Et.applyMatrix4(cc),At.applyMatrix4(cc),Et.z>c&&At.z>c)continue;if(Et.z>c){const g=Et.z-At.z,y=(Et.z-c)/g;Et.lerp(At,y)}else if(At.z>c){const g=At.z-Et.z,y=(At.z-c)/g;At.lerp(Et,y)}Et.applyMatrix4(o),At.applyMatrix4(o),Et.multiplyScalar(1/Et.w),At.multiplyScalar(1/At.w),Et.x*=r.x/2,Et.y*=r.y/2,At.x*=r.x/2,At.y*=r.y/2,Mt.start.copy(Et),Mt.start.z=0,Mt.end.copy(At),Mt.end.z=0;const p=Mt.closestPointToPointParameter(uc,!0);Mt.at(p,Hh);const m=er.lerp(Et.z,At.z,p),v=m>=-1&&m<=1,b=uc.distanceTo(Hh)<Dr*.5;if(v&&b){Mt.start.fromBufferAttribute(a,d),Mt.end.fromBufferAttribute(l,d),Mt.start.applyMatrix4(s),Mt.end.applyMatrix4(s);const g=new K,y=new K;to.distanceSqToSegment(Mt.start,Mt.end,y,g),n.push({point:y,pointOnLine:g,distance:to.origin.distanceTo(y),object:t,face:null,faceIndex:d,uv:null,uv1:null})}}}class aO extends ue{constructor(e=new xb,n=new qf({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,o=e.attributes.instanceEnd,r=new Float32Array(2*n.count);for(let i=0,a=0,l=n.count;i<l;i++,a+=2)zh.fromBufferAttribute(n,i),Uh.fromBufferAttribute(o,i),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+zh.distanceTo(Uh);const s=new Tc(r,2,1);return e.setAttribute("instanceDistanceStart",new ps(s,1,0)),e.setAttribute("instanceDistanceEnd",new ps(s,1,1)),this}raycast(e,n){const o=this.material.worldUnits,r=e.camera;r===null&&!o&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;to=e.ray;const i=this.matrixWorld,a=this.geometry,l=this.material;Dr=l.linewidth+s,a.boundingSphere===null&&a.computeBoundingSphere(),ja.copy(a.boundingSphere).applyMatrix4(i);let u;if(o)u=Dr*.5;else{const d=Math.max(r.near,ja.distanceToPoint(to.origin));u=Gh(r,d,l.resolution)}if(ja.radius+=u,to.intersectsSphere(ja)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),Na.copy(a.boundingBox).applyMatrix4(i);let c;if(o)c=Dr*.5;else{const d=Math.max(r.near,Na.distanceToPoint(to.origin));c=Gh(r,d,l.resolution)}Na.expandByScalar(c),to.intersectsBox(Na)!==!1&&(o?sO(this,n):iO(this,r,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(lc),this.material.uniforms.resolution.value.set(lc.z,lc.w))}}class Sb extends xb{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,o=new Float32Array(2*n);for(let r=0;r<n;r+=3)o[2*r]=e[r],o[2*r+1]=e[r+1],o[2*r+2]=e[r+2],o[2*r+3]=e[r+3],o[2*r+4]=e[r+4],o[2*r+5]=e[r+5];return super.setPositions(o),this}setColors(e){const n=e.length-3,o=new Float32Array(2*n);for(let r=0;r<n;r+=3)o[2*r]=e[r],o[2*r+1]=e[r+1],o[2*r+2]=e[r+2],o[2*r+3]=e[r+3],o[2*r+4]=e[r+4],o[2*r+5]=e[r+5];return super.setColors(o),this}setFromPoints(e){const n=e.length-1,o=new Float32Array(6*n);for(let r=0;r<n;r++)o[6*r]=e[r].x,o[6*r+1]=e[r].y,o[6*r+2]=e[r].z||0,o[6*r+3]=e[r+1].x,o[6*r+4]=e[r+1].y,o[6*r+5]=e[r+1].z||0;return super.setPositions(o),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class lO extends aO{constructor(e=new Sb,n=new qf({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const uO=t=>{const e=new eo,n=[],o=[],{isSphere:r}=t;if($i.forEach((a,l)=>{const{enabled:u,line:c,scale:d,color:f}=t[a];if(!u||!c)return;const p=l<3?1:-1,m=(r?wb-d/2:.975)*p;n.push(a.includes("x")?m:0,a.includes("y")?m:0,a.includes("z")?m:0,0,0,0);const v=e.set(f).toArray();o.push(...v,...v)}),!n.length)return null;const s=new Sb().setPositions(n).setColors(o),i=new qf({linewidth:t.lineWidth,vertexColors:!0,resolution:new ke(window.innerWidth,window.innerHeight)});return new lO(s,i).computeLineDistances()},cO=t=>{const{corners:e,edges:n}=t,o=[],r=ZR(t),s=eO(t,r);o.push(...s),e.enabled&&o.push(...tO(t,r)),n.enabled&&o.push(...nO(t,r,e.enabled?7:6));const i=rO(s,t),a=uO(t);return[o,i,a]},ei=(t,e=!0)=>{const{material:n,userData:o}=t,{opacity:r,color:s,scale:i}=e?o.hover:o;t.scale.setScalar(i),n.opacity=r,n.map?JR(n.map,e):n.color.set(s)},ss=new Kt,Wh=new xc,dO=new ke,xr=new K,Kh=new so;class fO extends Ts{constructor(e,n,o={}){super(),$e(this,"enabled",!0),$e(this,"camera"),$e(this,"renderer"),$e(this,"options"),$e(this,"target",new K),$e(this,"animated",!0),$e(this,"speed",1),$e(this,"animating",!1),$e(this,"_options"),$e(this,"_intersections"),$e(this,"_background",null),$e(this,"_viewport",[0,0,0,0]),$e(this,"_originalViewport",[0,0,0,0]),$e(this,"_originalScissor",[0,0,0,0]),$e(this,"_scene"),$e(this,"_camera"),$e(this,"_container"),$e(this,"_domElement"),$e(this,"_domRect"),$e(this,"_dragging",!1),$e(this,"_distance",0),$e(this,"_clock",new Em),$e(this,"_targetQuaternion",new Ft),$e(this,"_quaternionStart",new Ft),$e(this,"_quaternionEnd",new Ft),$e(this,"_pointerStart",new ke),$e(this,"_focus",null),$e(this,"_placement"),$e(this,"_controls"),$e(this,"_controlsListeners"),this.camera=e,this.renderer=n,this._scene=new Sc().add(this),this.set(o)}get placement(){return this._placement}set placement(e){this._placement=yb(this._domElement,e),this.domUpdate()}set(e={}){this.dispose(),this.options=e,this._options=QR(e),this._camera=this._options.isSphere?new xm(-1.8,1.8,1.8,-1.8,5,10):new my(26,1,5,10),this._camera.position.set(0,0,7);const[n,o,r]=cO(this._options);o&&this.add(o),r&&this.add(r),this.add(...n),this._background=o,this._intersections=n;const{container:s,animated:i,speed:a}=this._options;return this.animated=i,this.speed=a,this._container=s?UR(s):document.body,this._domElement=zR(this._options),this._domElement.onpointerdown=l=>this._onPointerDown(l),this._domElement.onpointermove=l=>this._onPointerMove(l),this._domElement.onpointerleave=()=>this._onPointerLeave(),this._container.appendChild(this._domElement),this._controls&&this.attachControls(this._controls),this.update(),this._updateOrientation(!0),this}render(){this.animating&&this._animate();const{renderer:e,_viewport:n}=this,o=e.getScissorTest(),r=e.autoClear;return e.autoClear=!1,e.setViewport(...n),o&&e.setScissor(...n),e.clear(!1,!0,!1),e.render(this._scene,this._camera),e.setViewport(...this._originalViewport),o&&e.setScissor(...this._originalScissor),e.autoClear=r,this}domUpdate(){this._domRect=this._domElement.getBoundingClientRect();const e=this.renderer,n=this._domRect,o=e.domElement.getBoundingClientRect();return this._viewport.splice(0,4,n.left-o.left,e.domElement.clientHeight-(n.top-o.top+n.height),n.width,n.height),e.getViewport(Kh).toArray(this._originalViewport),e.getScissorTest()&&e.getScissor(Kh).toArray(this._originalScissor),this}cameraUpdate(){return this._updateOrientation(),this}update(e=!0){return e&&this._controls&&this._controls.update(),this.domUpdate().cameraUpdate()}attachControls(e){return this.detachControls(),this.target=e.target,this._controlsListeners={start:()=>e.enabled=!1,end:()=>e.enabled=!0,change:()=>this.update(!1)},this.addEventListener("start",this._controlsListeners.start),this.addEventListener("end",this._controlsListeners.end),e.addEventListener("change",this._controlsListeners.change),this._controls=e,this}detachControls(){if(!(!this._controlsListeners||!this._controls))return this.target=new K().copy(this._controls.target),this.removeEventListener("start",this._controlsListeners.start),this.removeEventListener("end",this._controlsListeners.end),this._controls.removeEventListener("change",this._controlsListeners.change),this._controlsListeners=void 0,this._controls=void 0,this}dispose(){var e;this.detachControls(),this.children.forEach(n=>{var o,r,s,i;this.remove(n);const a=n;(o=a.material)==null||o.dispose(),(s=(r=a.material)==null?void 0:r.map)==null||s.dispose(),(i=a.geometry)==null||i.dispose()}),(e=this._domElement)==null||e.remove()}_updateOrientation(e=!0){e&&(this.quaternion.copy(this.camera.quaternion).invert(),this.updateMatrixWorld()),qh(this._options,this._intersections,this.camera)}_animate(){const{position:e,quaternion:n}=this.camera;if(e.set(0,0,1),!this.animated){e.applyQuaternion(this._quaternionEnd).multiplyScalar(this._distance).add(this.target),n.copy(this._targetQuaternion),this._updateOrientation(),this.animating=!1,this.dispatchEvent({type:"change"}),this.dispatchEvent({type:"end"});return}this._controls&&(this._controls.enabled=!1);const o=this._clock.getDelta()*WR*this.speed;this._quaternionStart.rotateTowards(this._quaternionEnd,o),e.applyQuaternion(this._quaternionStart).multiplyScalar(this._distance).add(this.target),n.rotateTowards(this._targetQuaternion,o),this._updateOrientation(),requestAnimationFrame(()=>this.dispatchEvent({type:"change"})),this._quaternionStart.angleTo(this._quaternionEnd)<ac&&(this._controls&&(this._controls.enabled=!0),this.animating=!1,this.dispatchEvent({type:"end"}))}_setOrientation(e){const n=this.camera,o=this.target;xr.copy(e).multiplyScalar(this._distance),ss.setPosition(xr).lookAt(xr,this.position,this.up),this._targetQuaternion.setFromRotationMatrix(ss),xr.add(o),ss.lookAt(xr,o,this.up),this._quaternionEnd.setFromRotationMatrix(ss),ss.setPosition(n.position).lookAt(n.position,o,this.up),this._quaternionStart.setFromRotationMatrix(ss),this.animating=!0,this._clock.start(),this.dispatchEvent({type:"start"})}_onPointerDown(e){if(!this.enabled)return;const n=l=>{if(!this._dragging){if(GR(l,this._pointerStart))return;this._dragging=!0}const u=dO.set(l.clientX,l.clientY).sub(this._pointerStart).multiplyScalar(1/this._domRect.width*Math.PI),c=this.coordinateConversion(xr.subVectors(this.camera.position,this.target)),d=Wh.setFromVector3(c);d.theta=i-u.x,d.phi=pd(a-u.y,ac,Math.PI-ac),this.coordinateConversion(this.camera.position.setFromSpherical(d),!0).add(this.target),this.camera.lookAt(this.target),this.quaternion.copy(this.camera.quaternion).invert(),this._updateOrientation(!1),this.dispatchEvent({type:"change"})},o=()=>{if(document.removeEventListener("pointermove",n,!1),document.removeEventListener("pointerup",o,!1),!this._dragging)return this._handleClick(e);this._focus&&(ei(this._focus,!1),this._focus=null),this._dragging=!1,this.dispatchEvent({type:"end"})};if(this.animating)return;e.preventDefault(),this._pointerStart.set(e.clientX,e.clientY);const r=this.coordinateConversion(xr.subVectors(this.camera.position,this.target)),s=Wh.setFromVector3(r),i=s.theta,a=s.phi;this._distance=s.radius,document.addEventListener("pointermove",n,!1),document.addEventListener("pointerup",o,!1),this.dispatchEvent({type:"start"})}coordinateConversion(e,n=!1){const{x:o,y:r,z:s}=e,i=Ts.DEFAULT_UP;return i.x===1?n?e.set(r,s,o):e.set(s,o,r):i.z===1?n?e.set(s,o,r):e.set(r,s,o):e}_onPointerMove(e){!this.enabled||this._dragging||(this._background&&$h(this._background,!0),this._handleHover(e))}_onPointerLeave(){!this.enabled||this._dragging||(this._background&&$h(this._background,!1),this._focus&&ei(this._focus,!1),this._domElement.style.cursor="")}_handleClick(e){const n=Vh(e,this._domRect,this._camera,this._intersections);this._focus&&(ei(this._focus,!1),this._focus=null),n&&(this._setOrientation(n.object.position),this.dispatchEvent({type:"change"}))}_handleHover(e){const n=Vh(e,this._domRect,this._camera,this._intersections),o=n?.object||null;this._focus!==o&&(this._domElement.style.cursor=o?"pointer":"",this._focus&&ei(this._focus,!1),(this._focus=o)?ei(o,!0):qh(this._options,this._intersections,this.camera))}}class Yh{static isWebGL2Available(){try{const e=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&e.getContext("webgl2"))}catch{return!1}}static isColorSpaceAvailable(e){try{const n=document.createElement("canvas"),o=window.WebGL2RenderingContext&&n.getContext("webgl2");return o.drawingBufferColorSpace=e,o.drawingBufferColorSpace===e}catch{return!1}}static getWebGL2ErrorMessage(){return this._getErrorMessage(2)}static _getErrorMessage(e){const n={1:"WebGL",2:"WebGL 2"},o={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext};let r='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>';const s=document.createElement("div");return s.id="webglmessage",s.style.fontFamily="monospace",s.style.fontSize="13px",s.style.fontWeight="normal",s.style.textAlign="center",s.style.background="#fff",s.style.color="#000",s.style.padding="1.5em",s.style.width="400px",s.style.margin="5em auto 0",o[e]?r=r.replace("$0","graphics card"):r=r.replace("$0","browser"),r=r.replace("$1",n[e]),s.innerHTML=r,s}}const Sr=new Sm,Bt=new K,zo=new K,rt=new Ft,Xh={X:new K(1,0,0),Y:new K(0,1,0),Z:new K(0,0,1)},dc={type:"change"},Qh={type:"mouseDown",mode:null},Zh={type:"mouseUp",mode:null},Jh={type:"objectChange"};class pO extends gm{constructor(e,n=null){super(void 0,n);const o=new yO(this);this._root=o;const r=new _O;this._gizmo=r,o.add(r);const s=new wO;this._plane=s,o.add(s);const i=this;function a(_,w){let x=w;Object.defineProperty(i,_,{get:function(){return x!==void 0?x:w},set:function(P){x!==P&&(x=P,s[_]=P,r[_]=P,i.dispatchEvent({type:_+"-changed",value:P}),i.dispatchEvent(dc))}}),i[_]=w,s[_]=w,r[_]=w}a("camera",e),a("object",void 0),a("enabled",!0),a("axis",null),a("mode","translate"),a("translationSnap",null),a("rotationSnap",null),a("scaleSnap",null),a("space","world"),a("size",1),a("dragging",!1),a("showX",!0),a("showY",!0),a("showZ",!0),a("minX",-1/0),a("maxX",1/0),a("minY",-1/0),a("maxY",1/0),a("minZ",-1/0),a("maxZ",1/0);const l=new K,u=new K,c=new Ft,d=new Ft,f=new K,p=new Ft,m=new K,v=new K,b=new K,g=0,y=new K;a("worldPosition",l),a("worldPositionStart",u),a("worldQuaternion",c),a("worldQuaternionStart",d),a("cameraPosition",f),a("cameraQuaternion",p),a("pointStart",m),a("pointEnd",v),a("rotationAxis",b),a("rotationAngle",g),a("eye",y),this._offset=new K,this._startNorm=new K,this._endNorm=new K,this._cameraScale=new K,this._parentPosition=new K,this._parentQuaternion=new Ft,this._parentQuaternionInv=new Ft,this._parentScale=new K,this._worldScaleStart=new K,this._worldQuaternionInv=new Ft,this._worldScale=new K,this._positionStart=new K,this._quaternionStart=new Ft,this._scaleStart=new K,this._getPointer=hO.bind(this),this._onPointerDown=vO.bind(this),this._onPointerHover=mO.bind(this),this._onPointerMove=gO.bind(this),this._onPointerUp=bO.bind(this),n!==null&&this.connect(n)}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="auto"}getHelper(){return this._root}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;e!==null&&Sr.setFromCamera(e,this.camera);const n=fc(this._gizmo.picker[this.mode],Sr);n?this.axis=n.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e!=null&&e.button!==0)&&this.axis!==null){e!==null&&Sr.setFromCamera(e,this.camera);const n=fc(this._plane,Sr,!0);n&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(n.point).sub(this.worldPositionStart)),this.dragging=!0,Qh.mode=this.mode,this.dispatchEvent(Qh)}}pointerMove(e){const n=this.axis,o=this.mode,r=this.object;let s=this.space;if(o==="scale"?s="local":(n==="E"||n==="XYZE"||n==="XYZ")&&(s="world"),r===void 0||n===null||this.dragging===!1||e!==null&&e.button!==-1)return;e!==null&&Sr.setFromCamera(e,this.camera);const i=fc(this._plane,Sr,!0);if(i){if(this.pointEnd.copy(i.point).sub(this.worldPositionStart),o==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),s==="local"&&n!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),n.indexOf("X")===-1&&(this._offset.x=0),n.indexOf("Y")===-1&&(this._offset.y=0),n.indexOf("Z")===-1&&(this._offset.z=0),s==="local"&&n!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(s==="local"&&(r.position.applyQuaternion(rt.copy(this._quaternionStart).invert()),n.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),s==="world"&&(r.parent&&r.position.add(Bt.setFromMatrixPosition(r.parent.matrixWorld)),n.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(Bt.setFromMatrixPosition(r.parent.matrixWorld)))),r.position.x=Math.max(this.minX,Math.min(this.maxX,r.position.x)),r.position.y=Math.max(this.minY,Math.min(this.maxY,r.position.y)),r.position.z=Math.max(this.minZ,Math.min(this.maxZ,r.position.z));else if(o==="scale"){if(n.search("XYZ")!==-1){let a=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(a*=-1),zo.set(a,a,a)}else Bt.copy(this.pointStart),zo.copy(this.pointEnd),Bt.applyQuaternion(this._worldQuaternionInv),zo.applyQuaternion(this._worldQuaternionInv),zo.divide(Bt),n.search("X")===-1&&(zo.x=1),n.search("Y")===-1&&(zo.y=1),n.search("Z")===-1&&(zo.z=1);r.scale.copy(this._scaleStart).multiply(zo),this.scaleSnap&&(n.search("X")!==-1&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Y")!==-1&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Z")!==-1&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(o==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const a=20/this.worldPosition.distanceTo(Bt.setFromMatrixPosition(this.camera.matrixWorld));let l=!1;n==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Bt.copy(this.rotationAxis).cross(this.eye))*a):(n==="X"||n==="Y"||n==="Z")&&(this.rotationAxis.copy(Xh[n]),Bt.copy(Xh[n]),s==="local"&&Bt.applyQuaternion(this.worldQuaternion),Bt.cross(this.eye),Bt.length()===0?l=!0:this.rotationAngle=this._offset.dot(Bt.normalize())*a),(n==="E"||l)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),s==="local"&&n!=="E"&&n!=="XYZE"?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(rt.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(rt.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(dc),this.dispatchEvent(Jh)}}pointerUp(e){e!==null&&e.button!==0||(this.dragging&&this.axis!==null&&(Zh.mode=this.mode,this.dispatchEvent(Zh)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(e){return this.object=e,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(dc),this.dispatchEvent(Jh),this.pointStart.copy(this.pointEnd))}getRaycaster(){return Sr}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}setColors(e,n,o,r){const s=this._gizmo.materialLib;s.xAxis.color.set(e),s.yAxis.color.set(n),s.zAxis.color.set(o),s.active.color.set(r),s.xAxisTransparent.color.set(e),s.yAxisTransparent.color.set(n),s.zAxisTransparent.color.set(o),s.activeTransparent.color.set(r),s.xAxis._color&&s.xAxis._color.set(e),s.yAxis._color&&s.yAxis._color.set(n),s.zAxis._color&&s.zAxis._color.set(o),s.active._color&&s.active._color.set(r),s.xAxisTransparent._color&&s.xAxisTransparent._color.set(e),s.yAxisTransparent._color&&s.yAxisTransparent._color.set(n),s.zAxisTransparent._color&&s.zAxisTransparent._color.set(o),s.activeTransparent._color&&s.activeTransparent._color.set(r)}}function hO(t){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:t.button};{const e=this.domElement.getBoundingClientRect();return{x:(t.clientX-e.left)/e.width*2-1,y:-(t.clientY-e.top)/e.height*2+1,button:t.button}}}function mO(t){if(this.enabled)switch(t.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(t));break}}function vO(t){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(t)),this.pointerDown(this._getPointer(t)))}function gO(t){this.enabled&&this.pointerMove(this._getPointer(t))}function bO(t){this.enabled&&(this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(t)))}function fc(t,e,n){const o=e.intersectObject(t,!0);for(let r=0;r<o.length;r++)if(o[r].object.visible||n)return o[r];return!1}const za=new yy,Ke=new K(0,1,0),em=new K(0,0,0),tm=new Kt,Ua=new Ft,rl=new Ft,Xn=new K,nm=new Kt,li=new K(1,0,0),Ar=new K(0,1,0),ui=new K(0,0,1),Ha=new K,ti=new K,ni=new K;class yO extends Ts{constructor(e){super(),this.isTransformControlsRoot=!0,this.controls=e,this.visible=!1}updateMatrixWorld(e){const n=this.controls;n.object!==void 0&&(n.object.updateMatrixWorld(),n.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):n.object.parent.matrixWorld.decompose(n._parentPosition,n._parentQuaternion,n._parentScale),n.object.matrixWorld.decompose(n.worldPosition,n.worldQuaternion,n._worldScale),n._parentQuaternionInv.copy(n._parentQuaternion).invert(),n._worldQuaternionInv.copy(n.worldQuaternion).invert()),n.camera.updateMatrixWorld(),n.camera.matrixWorld.decompose(n.cameraPosition,n.cameraQuaternion,n._cameraScale),n.camera.isOrthographicCamera?n.camera.getWorldDirection(n.eye).negate():n.eye.copy(n.cameraPosition).sub(n.worldPosition).normalize(),super.updateMatrixWorld(e)}dispose(){this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}}class _O extends Ts{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new Fr({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=new Am({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),o=e.clone();o.opacity=.15;const r=n.clone();r.opacity=.5;const s=e.clone();s.color.setHex(16711680);const i=e.clone();i.color.setHex(65280);const a=e.clone();a.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const u=e.clone();u.color.setHex(65280),u.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const d=e.clone();d.opacity=.25;const f=e.clone();f.color.setHex(16776960),f.opacity=.25;const p=e.clone();p.color.setHex(16776960);const m=e.clone();m.color.setHex(7895160),this.materialLib={xAxis:s,yAxis:i,zAxis:a,active:p,xAxisTransparent:l,yAxisTransparent:u,zAxisTransparent:c,activeTransparent:f};const v=new en(0,.04,.1,12);v.translate(0,.05,0);const b=new jt(.08,.08,.08);b.translate(0,.04,0);const g=new Mo;g.setAttribute("position",new nr([0,0,0,1,0,0],3));const y=new en(.0075,.0075,.5,3);y.translate(0,.25,0);function _(z,W){const H=new zs(z,.0075,3,64,W*Math.PI*2);return H.rotateY(Math.PI/2),H.rotateX(Math.PI/2),H}function w(){const z=new Mo;return z.setAttribute("position",new nr([0,0,0,1,1,1],3)),z}const x={X:[[new ue(v,s),[.5,0,0],[0,0,-Math.PI/2]],[new ue(v,s),[-.5,0,0],[0,0,Math.PI/2]],[new ue(y,s),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new ue(v,i),[0,.5,0]],[new ue(v,i),[0,-.5,0],[Math.PI,0,0]],[new ue(y,i)]],Z:[[new ue(v,a),[0,0,.5],[Math.PI/2,0,0]],[new ue(v,a),[0,0,-.5],[-Math.PI/2,0,0]],[new ue(y,a),null,[Math.PI/2,0,0]]],XYZ:[[new ue(new aa(.1,0),d),[0,0,0]]],XY:[[new ue(new jt(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new ue(new jt(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ue(new jt(.15,.15,.01),u),[.15,0,.15],[-Math.PI/2,0,0]]]},P={X:[[new ue(new en(.2,0,.6,4),o),[.3,0,0],[0,0,-Math.PI/2]],[new ue(new en(.2,0,.6,4),o),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ue(new en(.2,0,.6,4),o),[0,.3,0]],[new ue(new en(.2,0,.6,4),o),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ue(new en(.2,0,.6,4),o),[0,0,.3],[Math.PI/2,0,0]],[new ue(new en(.2,0,.6,4),o),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new ue(new aa(.2,0),o)]],XY:[[new ue(new jt(.2,.2,.01),o),[.15,.15,0]]],YZ:[[new ue(new jt(.2,.2,.01),o),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ue(new jt(.2,.2,.01),o),[.15,0,.15],[-Math.PI/2,0,0]]]},T={START:[[new ue(new aa(.01,2),r),null,null,null,"helper"]],END:[[new ue(new aa(.01,2),r),null,null,null,"helper"]],DELTA:[[new On(w(),r),null,null,null,"helper"]],X:[[new On(g,r),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new On(g,r),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new On(g,r),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},M={XYZE:[[new ue(_(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new ue(_(.5,.5),s)]],Y:[[new ue(_(.5,.5),i),null,[0,0,-Math.PI/2]]],Z:[[new ue(_(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new ue(_(.75,1),f),null,[0,Math.PI/2,0]]]},E={AXIS:[[new On(g,r),[-1e3,0,0],null,[1e6,1,1],"helper"]]},S={XYZE:[[new ue(new Tm(.25,10,8),o)]],X:[[new ue(new zs(.5,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ue(new zs(.5,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ue(new zs(.5,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ue(new zs(.75,.1,2,24),o)]]},R={X:[[new ue(b,s),[.5,0,0],[0,0,-Math.PI/2]],[new ue(y,s),[0,0,0],[0,0,-Math.PI/2]],[new ue(b,s),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new ue(b,i),[0,.5,0]],[new ue(y,i)],[new ue(b,i),[0,-.5,0],[0,0,Math.PI]]],Z:[[new ue(b,a),[0,0,.5],[Math.PI/2,0,0]],[new ue(y,a),[0,0,0],[Math.PI/2,0,0]],[new ue(b,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new ue(new jt(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new ue(new jt(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ue(new jt(.15,.15,.01),u),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ue(new jt(.1,.1,.1),d)]]},O={X:[[new ue(new en(.2,0,.6,4),o),[.3,0,0],[0,0,-Math.PI/2]],[new ue(new en(.2,0,.6,4),o),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ue(new en(.2,0,.6,4),o),[0,.3,0]],[new ue(new en(.2,0,.6,4),o),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ue(new en(.2,0,.6,4),o),[0,0,.3],[Math.PI/2,0,0]],[new ue(new en(.2,0,.6,4),o),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new ue(new jt(.2,.2,.01),o),[.15,.15,0]]],YZ:[[new ue(new jt(.2,.2,.01),o),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ue(new jt(.2,.2,.01),o),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ue(new jt(.2,.2,.2),o),[0,0,0]]]},I={X:[[new On(g,r),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new On(g,r),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new On(g,r),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function L(z){const W=new Ts;for(const H in z)for(let Y=z[H].length;Y--;){const fe=z[H][Y][0].clone(),le=z[H][Y][1],we=z[H][Y][2],Se=z[H][Y][3],tt=z[H][Y][4];fe.name=H,fe.tag=tt,le&&fe.position.set(le[0],le[1],le[2]),we&&fe.rotation.set(we[0],we[1],we[2]),Se&&fe.scale.set(Se[0],Se[1],Se[2]),fe.updateMatrix();const it=fe.geometry.clone();it.applyMatrix4(fe.matrix),fe.geometry=it,fe.renderOrder=1/0,fe.position.set(0,0,0),fe.rotation.set(0,0,0),fe.scale.set(1,1,1),W.add(fe)}return W}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=L(x)),this.add(this.gizmo.rotate=L(M)),this.add(this.gizmo.scale=L(R)),this.add(this.picker.translate=L(P)),this.add(this.picker.rotate=L(S)),this.add(this.picker.scale=L(O)),this.add(this.helper.translate=L(T)),this.add(this.helper.rotate=L(E)),this.add(this.helper.scale=L(I)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const o=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:rl;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let r=[];r=r.concat(this.picker[this.mode].children),r=r.concat(this.gizmo[this.mode].children),r=r.concat(this.helper[this.mode].children);for(let s=0;s<r.length;s++){const i=r[s];i.visible=!0,i.rotation.set(0,0,0),i.position.copy(this.worldPosition);let a;if(this.camera.isOrthographicCamera?a=(this.camera.top-this.camera.bottom)/this.camera.zoom:a=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),i.scale.set(1,1,1).multiplyScalar(a*this.size/4),i.tag==="helper"){i.visible=!1,i.name==="AXIS"?(i.visible=!!this.axis,this.axis==="X"&&(rt.setFromEuler(za.set(0,0,0)),i.quaternion.copy(o).multiply(rt),Math.abs(Ke.copy(li).applyQuaternion(o).dot(this.eye))>.9&&(i.visible=!1)),this.axis==="Y"&&(rt.setFromEuler(za.set(0,0,Math.PI/2)),i.quaternion.copy(o).multiply(rt),Math.abs(Ke.copy(Ar).applyQuaternion(o).dot(this.eye))>.9&&(i.visible=!1)),this.axis==="Z"&&(rt.setFromEuler(za.set(0,Math.PI/2,0)),i.quaternion.copy(o).multiply(rt),Math.abs(Ke.copy(ui).applyQuaternion(o).dot(this.eye))>.9&&(i.visible=!1)),this.axis==="XYZE"&&(rt.setFromEuler(za.set(0,Math.PI/2,0)),Ke.copy(this.rotationAxis),i.quaternion.setFromRotationMatrix(tm.lookAt(em,Ke,Ar)),i.quaternion.multiply(rt),i.visible=this.dragging),this.axis==="E"&&(i.visible=!1)):i.name==="START"?(i.position.copy(this.worldPositionStart),i.visible=this.dragging):i.name==="END"?(i.position.copy(this.worldPosition),i.visible=this.dragging):i.name==="DELTA"?(i.position.copy(this.worldPositionStart),i.quaternion.copy(this.worldQuaternionStart),Bt.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Bt.applyQuaternion(this.worldQuaternionStart.clone().invert()),i.scale.copy(Bt),i.visible=this.dragging):(i.quaternion.copy(o),this.dragging?i.position.copy(this.worldPositionStart):i.position.copy(this.worldPosition),this.axis&&(i.visible=this.axis.search(i.name)!==-1));continue}i.quaternion.copy(o),this.mode==="translate"||this.mode==="scale"?(i.name==="X"&&Math.abs(Ke.copy(li).applyQuaternion(o).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),i.name==="Y"&&Math.abs(Ke.copy(Ar).applyQuaternion(o).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),i.name==="Z"&&Math.abs(Ke.copy(ui).applyQuaternion(o).dot(this.eye))>.99&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),i.name==="XY"&&Math.abs(Ke.copy(ui).applyQuaternion(o).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),i.name==="YZ"&&Math.abs(Ke.copy(li).applyQuaternion(o).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1),i.name==="XZ"&&Math.abs(Ke.copy(Ar).applyQuaternion(o).dot(this.eye))<.2&&(i.scale.set(1e-10,1e-10,1e-10),i.visible=!1)):this.mode==="rotate"&&(Ua.copy(o),Ke.copy(this.eye).applyQuaternion(rt.copy(o).invert()),i.name.search("E")!==-1&&i.quaternion.setFromRotationMatrix(tm.lookAt(this.eye,em,Ar)),i.name==="X"&&(rt.setFromAxisAngle(li,Math.atan2(-Ke.y,Ke.z)),rt.multiplyQuaternions(Ua,rt),i.quaternion.copy(rt)),i.name==="Y"&&(rt.setFromAxisAngle(Ar,Math.atan2(Ke.x,Ke.z)),rt.multiplyQuaternions(Ua,rt),i.quaternion.copy(rt)),i.name==="Z"&&(rt.setFromAxisAngle(ui,Math.atan2(Ke.y,Ke.x)),rt.multiplyQuaternions(Ua,rt),i.quaternion.copy(rt))),i.visible=i.visible&&(i.name.indexOf("X")===-1||this.showX),i.visible=i.visible&&(i.name.indexOf("Y")===-1||this.showY),i.visible=i.visible&&(i.name.indexOf("Z")===-1||this.showZ),i.visible=i.visible&&(i.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),i.material._color=i.material._color||i.material.color.clone(),i.material._opacity=i.material._opacity||i.material.opacity,i.material.color.copy(i.material._color),i.material.opacity=i.material._opacity,this.enabled&&this.axis&&(i.name===this.axis?(i.material.color.copy(this.materialLib.active.color),i.material.opacity=1):this.axis.split("").some(function(l){return i.name===l})&&(i.material.color.copy(this.materialLib.active.color),i.material.opacity=1))}super.updateMatrixWorld(e)}}class wO extends ue{constructor(){super(new _y(1e5,1e5,2,2),new Fr({visible:!1,wireframe:!0,side:Mi,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),Ha.copy(li).applyQuaternion(n==="local"?this.worldQuaternion:rl),ti.copy(Ar).applyQuaternion(n==="local"?this.worldQuaternion:rl),ni.copy(ui).applyQuaternion(n==="local"?this.worldQuaternion:rl),Ke.copy(ti),this.mode){case"translate":case"scale":switch(this.axis){case"X":Ke.copy(this.eye).cross(Ha),Xn.copy(Ha).cross(Ke);break;case"Y":Ke.copy(this.eye).cross(ti),Xn.copy(ti).cross(Ke);break;case"Z":Ke.copy(this.eye).cross(ni),Xn.copy(ni).cross(Ke);break;case"XY":Xn.copy(ni);break;case"YZ":Xn.copy(Ha);break;case"XZ":Ke.copy(ni),Xn.copy(ti);break;case"XYZ":case"E":Xn.set(0,0,0);break}break;default:Xn.set(0,0,0)}Xn.length()===0?this.quaternion.copy(this.cameraQuaternion):(nm.lookAt(Bt.set(0,0,0),Xn,Ke),this.quaternion.setFromRotationMatrix(nm)),super.updateMatrixWorld(e)}}function Cb(t,e,n){const o=n.length-t-1;if(e>=n[o])return o-1;if(e<=n[t])return t;let r=t,s=o,i=Math.floor((r+s)/2);for(;e<n[i]||e>=n[i+1];)e<n[i]?s=i:r=i,i=Math.floor((r+s)/2);return i}function xO(t,e,n,o){const r=[],s=[],i=[];r[0]=1;for(let a=1;a<=n;++a){s[a]=e-o[t+1-a],i[a]=o[t+a]-e;let l=0;for(let u=0;u<a;++u){const c=i[u+1],d=s[a-u],f=r[u]/(c+d);r[u]=l+c*f,l=d*f}r[a]=l}return r}function SO(t,e,n,o){const r=Cb(t,o,e),s=xO(r,o,t,e),i=new so(0,0,0,0);for(let a=0;a<=t;++a){const l=n[r-t+a],u=s[a],c=l.w*u;i.x+=l.x*c,i.y+=l.y*c,i.z+=l.z*c,i.w+=l.w*u}return i}function CO(t,e,n,o,r){const s=[];for(let d=0;d<=n;++d)s[d]=0;const i=[];for(let d=0;d<=o;++d)i[d]=s.slice(0);const a=[];for(let d=0;d<=n;++d)a[d]=s.slice(0);a[0][0]=1;const l=s.slice(0),u=s.slice(0);for(let d=1;d<=n;++d){l[d]=e-r[t+1-d],u[d]=r[t+d]-e;let f=0;for(let p=0;p<d;++p){const m=u[p+1],v=l[d-p];a[d][p]=m+v;const b=a[p][d-1]/a[d][p];a[p][d]=f+m*b,f=v*b}a[d][d]=f}for(let d=0;d<=n;++d)i[0][d]=a[d][n];for(let d=0;d<=n;++d){let f=0,p=1;const m=[];for(let v=0;v<=n;++v)m[v]=s.slice(0);m[0][0]=1;for(let v=1;v<=o;++v){let b=0;const g=d-v,y=n-v;d>=v&&(m[p][0]=m[f][0]/a[y+1][g],b=m[p][0]*a[g][y]);const _=g>=-1?1:-g,w=d-1<=y?v-1:n-d;for(let P=_;P<=w;++P)m[p][P]=(m[f][P]-m[f][P-1])/a[y+1][g+P],b+=m[p][P]*a[g+P][y];d<=y&&(m[p][v]=-m[f][v-1]/a[y+1][d],b+=m[p][v]*a[d][y]),i[v][d]=b;const x=f;f=p,p=x}}let c=n;for(let d=1;d<=o;++d){for(let f=0;f<=n;++f)i[d][f]*=c;c*=n-d}return i}function TO(t,e,n,o,r){const s=r<t?r:t,i=[],a=Cb(t,o,e),l=CO(a,o,t,s,e),u=[];for(let c=0;c<n.length;++c){const d=n[c].clone(),f=d.w;d.x*=f,d.y*=f,d.z*=f,u[c]=d}for(let c=0;c<=s;++c){const d=u[a-t].clone().multiplyScalar(l[c][0]);for(let f=1;f<=t;++f)d.add(u[a-t+f].clone().multiplyScalar(l[c][f]));i[c]=d}for(let c=s+1;c<=r+1;++c)i[c]=new so(0,0,0);return i}function EO(t,e){let n=1;for(let r=2;r<=t;++r)n*=r;let o=1;for(let r=2;r<=e;++r)o*=r;for(let r=2;r<=t-e;++r)o*=r;return n/o}function AO(t){const e=t.length,n=[],o=[];for(let s=0;s<e;++s){const i=t[s];n[s]=new K(i.x,i.y,i.z),o[s]=i.w}const r=[];for(let s=0;s<e;++s){const i=n[s].clone();for(let a=1;a<=s;++a)i.sub(r[s-a].clone().multiplyScalar(EO(s,a)*o[a]));r[s]=i.divideScalar(o[0])}return r}function MO(t,e,n,o,r){const s=TO(t,e,n,o,r);return AO(s)}class W2 extends wy{constructor(e,n,o,r,s){super();const i=n?n.length-1:0,a=o?o.length:0;this.degree=e,this.knots=n,this.controlPoints=[],this.startKnot=r||0,this.endKnot=s||i;for(let l=0;l<a;++l){const u=o[l];this.controlPoints[l]=new so(u.x,u.y,u.z,u.w)}}getPoint(e,n=new K){const o=n,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=SO(this.degree,this.knots,this.controlPoints,r);return s.w!==1&&s.divideScalar(s.w),o.set(s.x,s.y,s.z)}getTangent(e,n=new K){const o=n,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=MO(this.degree,this.knots,this.controlPoints,r,1);return o.copy(s[1]).normalize(),o}toJSON(){const e=super.toJSON();return e.degree=this.degree,e.knots=[...this.knots],e.controlPoints=this.controlPoints.map(n=>n.toArray()),e.startKnot=this.startKnot,e.endKnot=this.endKnot,e}fromJSON(e){return super.fromJSON(e),this.degree=e.degree,this.knots=[...e.knots],this.controlPoints=e.controlPoints.map(n=>new so(n[0],n[1],n[2],n[3])),this.startKnot=e.startKnot,this.endKnot=e.endKnot,this}}class $s{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const PO=new xm(-1,1,1,-1,0,1);class kO extends Mo{constructor(){super(),this.setAttribute("position",new nr([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new nr([0,2,0,0,2,0],2))}}const RO=new kO;class Ff{constructor(e){this._mesh=new ue(RO,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,PO)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}var Sn=Uint8Array,ms=Uint16Array,OO=Int32Array,Tb=new Sn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Eb=new Sn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),IO=new Sn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ab=function(t,e){for(var n=new ms(31),o=0;o<31;++o)n[o]=e+=1<<t[o-1];for(var r=new OO(n[30]),o=1;o<30;++o)for(var s=n[o];s<n[o+1];++s)r[s]=s-n[o]<<5|o;return{b:n,r}},Mb=Ab(Tb,2),Pb=Mb.b,DO=Mb.r;Pb[28]=258,DO[258]=28;var BO=Ab(Eb,0),qO=BO.b,yd=new ms(32768);for(var nt=0;nt<32768;++nt){var Uo=(nt&43690)>>1|(nt&21845)<<1;Uo=(Uo&52428)>>2|(Uo&13107)<<2,Uo=(Uo&61680)>>4|(Uo&3855)<<4,yd[nt]=((Uo&65280)>>8|(Uo&255)<<8)>>1}var Ti=(function(t,e,n){for(var o=t.length,r=0,s=new ms(e);r<o;++r)t[r]&&++s[t[r]-1];var i=new ms(e);for(r=1;r<e;++r)i[r]=i[r-1]+s[r-1]<<1;var a;if(n){a=new ms(1<<e);var l=15-e;for(r=0;r<o;++r)if(t[r])for(var u=r<<4|t[r],c=e-t[r],d=i[t[r]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)a[yd[d]>>l]=u}else for(a=new ms(o),r=0;r<o;++r)t[r]&&(a[r]=yd[i[t[r]-1]++]>>15-t[r]);return a}),ra=new Sn(288);for(var nt=0;nt<144;++nt)ra[nt]=8;for(var nt=144;nt<256;++nt)ra[nt]=9;for(var nt=256;nt<280;++nt)ra[nt]=7;for(var nt=280;nt<288;++nt)ra[nt]=8;var kb=new Sn(32);for(var nt=0;nt<32;++nt)kb[nt]=5;var FO=Ti(ra,9,1),LO=Ti(kb,5,1),pc=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Pn=function(t,e,n){var o=e/8|0;return(t[o]|t[o+1]<<8)>>(e&7)&n},hc=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},VO=function(t){return(t+7)/8|0},$O=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Sn(t.subarray(e,n))},NO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],In=function(t,e,n){var o=new Error(e||NO[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,In),!n)throw o;return o},jO=function(t,e,n,o){var r=t.length,s=0;if(!r||e.f&&!e.l)return n||new Sn(0);var i=!n,a=i||e.i!=2,l=e.i;i&&(n=new Sn(r*3));var u=function(go){var B=n.length;if(go>B){var $=new Sn(Math.max(B*2,go));$.set(n),n=$}},c=e.f||0,d=e.p||0,f=e.b||0,p=e.l,m=e.d,v=e.m,b=e.n,g=r*8;do{if(!p){c=Pn(t,d,1);var y=Pn(t,d+1,3);if(d+=3,y)if(y==1)p=FO,m=LO,v=9,b=5;else if(y==2){var P=Pn(t,d,31)+257,T=Pn(t,d+10,15)+4,M=P+Pn(t,d+5,31)+1;d+=14;for(var E=new Sn(M),S=new Sn(19),R=0;R<T;++R)S[IO[R]]=Pn(t,d+R*3,7);d+=T*3;for(var O=pc(S),I=(1<<O)-1,L=Ti(S,O,1),R=0;R<M;){var z=L[Pn(t,d,I)];d+=z&15;var _=z>>4;if(_<16)E[R++]=_;else{var W=0,H=0;for(_==16?(H=3+Pn(t,d,3),d+=2,W=E[R-1]):_==17?(H=3+Pn(t,d,7),d+=3):_==18&&(H=11+Pn(t,d,127),d+=7);H--;)E[R++]=W}}var Y=E.subarray(0,P),fe=E.subarray(P);v=pc(Y),b=pc(fe),p=Ti(Y,v,1),m=Ti(fe,b,1)}else In(1);else{var _=VO(d)+4,w=t[_-4]|t[_-3]<<8,x=_+w;if(x>r){l&&In(0);break}a&&u(f+w),n.set(t.subarray(_,x),f),e.b=f+=w,e.p=d=x*8,e.f=c;continue}if(d>g){l&&In(0);break}}a&&u(f+131072);for(var le=(1<<v)-1,we=(1<<b)-1,Se=d;;Se=d){var W=p[hc(t,d)&le],tt=W>>4;if(d+=W&15,d>g){l&&In(0);break}if(W||In(2),tt<256)n[f++]=tt;else if(tt==256){Se=d,p=null;break}else{var it=tt-254;if(tt>264){var R=tt-257,He=Tb[R];it=Pn(t,d,(1<<He)-1)+Pb[R],d+=He}var Fe=m[hc(t,d)&we],Ce=Fe>>4;Fe||In(3),d+=Fe&15;var fe=qO[Ce];if(Ce>3){var He=Eb[Ce];fe+=hc(t,d)&(1<<He)-1,d+=He}if(d>g){l&&In(0);break}a&&u(f+131072);var Le=f+it;if(f<fe){var De=s-fe,Xe=Math.min(fe,Le);for(De+f<0&&In(3);f<Xe;++f)n[f]=o[De+f]}for(;f<Le;++f)n[f]=n[f-fe]}}e.l=p,e.p=Se,e.b=f,e.f=c,p&&(c=1,e.m=v,e.d=m,e.n=b)}while(!c);return f!=n.length&&i?$O(n,0,f):n.subarray(0,f)},zO=new Sn(0),UO=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&In(6,"invalid zlib data"),(t[1]>>5&1)==1&&In(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function K2(t,e){return jO(t.subarray(UO(t),-4),{i:2},e,e)}var HO=typeof TextDecoder<"u"&&new TextDecoder,GO=0;try{HO.decode(zO,{stream:!0}),GO=1}catch{}const om={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class Tl{constructor(){this.textureUtils=null,this.pluginCallbacks=[],this.register(function(e){return new oI(e)}),this.register(function(e){return new rI(e)}),this.register(function(e){return new lI(e)}),this.register(function(e){return new uI(e)}),this.register(function(e){return new cI(e)}),this.register(function(e){return new dI(e)}),this.register(function(e){return new sI(e)}),this.register(function(e){return new iI(e)}),this.register(function(e){return new aI(e)}),this.register(function(e){return new fI(e)}),this.register(function(e){return new pI(e)}),this.register(function(e){return new hI(e)}),this.register(function(e){return new mI(e)}),this.register(function(e){return new vI(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}setTextureUtils(e){return this.textureUtils=e,this}parse(e,n,o,r){const s=new nI,i=[];for(let a=0,l=this.pluginCallbacks.length;a<l;a++)i.push(this.pluginCallbacks[a](s));s.setPlugins(i),s.setTextureUtils(this.textureUtils),s.writeAsync(e,n,r).catch(o)}parseAsync(e,n){const o=this;return new Promise(function(r,s){o.parse(e,r,s,n)})}}const Me={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},mc="KHR_mesh_quantization",hn={};hn[Ay]=Me.NEAREST;hn[My]=Me.NEAREST_MIPMAP_NEAREST;hn[Py]=Me.NEAREST_MIPMAP_LINEAR;hn[ky]=Me.LINEAR;hn[Ry]=Me.LINEAR_MIPMAP_NEAREST;hn[Oy]=Me.LINEAR_MIPMAP_LINEAR;hn[Iy]=Me.CLAMP_TO_EDGE;hn[Cc]=Me.REPEAT;hn[Dy]=Me.MIRRORED_REPEAT;const rm={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},WO=new eo,sm=12,KO=1179937895,YO=2,im=8,XO=1313821514,QO=5130562;function ci(t,e){return t.length===e.length&&t.every(function(n,o){return n===e[o]})}function ZO(t){return new TextEncoder().encode(t).buffer}function JO(t){return ci(t.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function eI(t,e,n){const o={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let r=e;r<e+n;r++)for(let s=0;s<t.itemSize;s++){let i;t.itemSize>4?i=t.array[r*t.itemSize+s]:(s===0?i=t.getX(r):s===1?i=t.getY(r):s===2?i=t.getZ(r):s===3&&(i=t.getW(r)),t.normalized===!0&&(i=er.normalize(i,t.array))),o.min[s]=Math.min(o.min[s],i),o.max[s]=Math.max(o.max[s],i)}return o}function Rb(t){return Math.ceil(t/4)*4}function vc(t,e=0){const n=Rb(t.byteLength);if(n!==t.byteLength){const o=new Uint8Array(n);if(o.set(new Uint8Array(t)),e!==0)for(let r=t.byteLength;r<n;r++)o[r]=e;return o.buffer}return t}function am(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function tI(t,e){if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){let n;return e==="image/jpeg"?n=.92:e==="image/webp"&&(n=.8),t.convertToBlob({type:e,quality:n})}else return new Promise(n=>t.toBlob(n,e))}class nI{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter r"+kl}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},this.textureUtils=null}setPlugins(e){this.plugins=e}setTextureUtils(e){this.textureUtils=e}async writeAsync(e,n,o={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},o),this.options.animations.length>0&&(this.options.trs=!0),await this.processInputAsync(e),await Promise.all(this.pending);const r=this,s=r.buffers,i=r.json;o=r.options;const a=r.extensionsUsed,l=r.extensionsRequired,u=new Blob(s,{type:"application/octet-stream"}),c=Object.keys(a),d=Object.keys(l);if(c.length>0&&(i.extensionsUsed=c),d.length>0&&(i.extensionsRequired=d),i.buffers&&i.buffers.length>0&&(i.buffers[0].byteLength=u.size),o.binary===!0){const f=new FileReader;f.readAsArrayBuffer(u),f.onloadend=function(){const p=vc(f.result),m=new DataView(new ArrayBuffer(im));m.setUint32(0,p.byteLength,!0),m.setUint32(4,QO,!0);const v=vc(ZO(JSON.stringify(i)),32),b=new DataView(new ArrayBuffer(im));b.setUint32(0,v.byteLength,!0),b.setUint32(4,XO,!0);const g=new ArrayBuffer(sm),y=new DataView(g);y.setUint32(0,KO,!0),y.setUint32(4,YO,!0);const _=sm+b.byteLength+v.byteLength+m.byteLength+p.byteLength;y.setUint32(8,_,!0);const w=new Blob([g,b,v,m,p],{type:"application/octet-stream"}),x=new FileReader;x.readAsArrayBuffer(w),x.onloadend=function(){n(x.result)}}}else if(i.buffers&&i.buffers.length>0){const f=new FileReader;f.readAsDataURL(u),f.onloadend=function(){const p=f.result;i.buffers[0].uri=p,n(i)}}else n(i)}serializeUserData(e,n){if(Object.keys(e.userData).length===0)return;const o=this.options,r=this.extensionsUsed;try{const s=JSON.parse(JSON.stringify(e.userData));if(o.includeCustomExtensions&&s.gltfExtensions){n.extensions===void 0&&(n.extensions={});for(const i in s.gltfExtensions)n.extensions[i]=s.gltfExtensions[i],r[i]=!0;delete s.gltfExtensions}Object.keys(s).length>0&&(n.extras=s)}catch(s){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+s.message)}}getUID(e,n=!1){if(this.uids.has(e)===!1){const r=new Map;r.set(!0,this.uid++),r.set(!1,this.uid++),this.uids.set(e,r)}return this.uids.get(e).get(n)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const o=new K;for(let r=0,s=e.count;r<s;r++)if(Math.abs(o.fromBufferAttribute(e,r).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const n=this.cache;if(n.attributesNormalized.has(e))return n.attributesNormalized.get(e);const o=e.clone(),r=new K;for(let s=0,i=o.count;s<i;s++)r.fromBufferAttribute(o,s),r.x===0&&r.y===0&&r.z===0?r.setX(1):r.normalize(),o.setXYZ(s,r.x,r.y,r.z);return n.attributesNormalized.set(e,o),o}applyTextureTransform(e,n){let o=!1;const r={};(n.offset.x!==0||n.offset.y!==0)&&(r.offset=n.offset.toArray(),o=!0),n.rotation!==0&&(r.rotation=n.rotation,o=!0),(n.repeat.x!==1||n.repeat.y!==1)&&(r.scale=n.repeat.toArray(),o=!0),o&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}async buildMetalRoughTextureAsync(e,n){if(e===n)return e;function o(p){return p.colorSpace===Cm?function(v){return v<.04045?v*.0773993808:Math.pow(v*.9478672986+.0521327014,2.4)}:function(v){return v}}e instanceof Au&&(e=await this.decompressTextureAsync(e)),n instanceof Au&&(n=await this.decompressTextureAsync(n));const r=e?e.image:null,s=n?n.image:null,i=Math.max(r?r.width:0,s?s.width:0),a=Math.max(r?r.height:0,s?s.height:0),l=am();l.width=i,l.height=a;const u=l.getContext("2d",{willReadFrequently:!0});u.fillStyle="#00ffff",u.fillRect(0,0,i,a);const c=u.getImageData(0,0,i,a);if(r){u.drawImage(r,0,0,i,a);const p=o(e),m=u.getImageData(0,0,i,a).data;for(let v=2;v<m.length;v+=4)c.data[v]=p(m[v]/256)*256}if(s){u.drawImage(s,0,0,i,a);const p=o(n),m=u.getImageData(0,0,i,a).data;for(let v=1;v<m.length;v+=4)c.data[v]=p(m[v]/256)*256}u.putImageData(c,0,0);const f=(e||n).clone();return f.source=new xy(l),f.colorSpace=Sy,f.channel=(e||n).channel,e&&n&&e.channel!==n.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),f}async decompressTextureAsync(e,n=1/0){if(this.textureUtils===null)throw new Error("THREE.GLTFExporter: setTextureUtils() must be called to process compressed textures.");return await this.textureUtils.decompress(e,n)}processBuffer(e){const n=this.json,o=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),o.push(e),0}processBufferView(e,n,o,r,s){const i=this.json;i.bufferViews||(i.bufferViews=[]);let a;switch(n){case Me.BYTE:case Me.UNSIGNED_BYTE:a=1;break;case Me.SHORT:case Me.UNSIGNED_SHORT:a=2;break;default:a=4}let l=e.itemSize*a;s===Me.ARRAY_BUFFER&&(l=Math.ceil(l/4)*4);const u=Rb(r*l),c=new DataView(new ArrayBuffer(u));let d=0;for(let m=o;m<o+r;m++){for(let v=0;v<e.itemSize;v++){let b;e.itemSize>4?b=e.array[m*e.itemSize+v]:(v===0?b=e.getX(m):v===1?b=e.getY(m):v===2?b=e.getZ(m):v===3&&(b=e.getW(m)),e.normalized===!0&&(b=er.normalize(b,e.array))),n===Me.FLOAT?c.setFloat32(d,b,!0):n===Me.INT?c.setInt32(d,b,!0):n===Me.UNSIGNED_INT?c.setUint32(d,b,!0):n===Me.SHORT?c.setInt16(d,b,!0):n===Me.UNSIGNED_SHORT?c.setUint16(d,b,!0):n===Me.BYTE?c.setInt8(d,b):n===Me.UNSIGNED_BYTE&&c.setUint8(d,b),d+=a}d%l!==0&&(d+=l-d%l)}const f={buffer:this.processBuffer(c.buffer),byteOffset:this.byteOffset,byteLength:u};return s!==void 0&&(f.target=s),s===Me.ARRAY_BUFFER&&(f.byteStride=l),this.byteOffset+=u,i.bufferViews.push(f),{id:i.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const n=this,o=n.json;return o.bufferViews||(o.bufferViews=[]),new Promise(function(r){const s=new FileReader;s.readAsArrayBuffer(e),s.onloadend=function(){const i=vc(s.result),a={buffer:n.processBuffer(i),byteOffset:n.byteOffset,byteLength:i.byteLength};n.byteOffset+=i.byteLength,r(o.bufferViews.push(a)-1)}})}processAccessor(e,n,o,r){const s=this.json,i={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let a;if(e.array.constructor===Float32Array)a=Me.FLOAT;else if(e.array.constructor===Int32Array)a=Me.INT;else if(e.array.constructor===Uint32Array)a=Me.UNSIGNED_INT;else if(e.array.constructor===Int16Array)a=Me.SHORT;else if(e.array.constructor===Uint16Array)a=Me.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)a=Me.BYTE;else if(e.array.constructor===Uint8Array)a=Me.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);if(o===void 0&&(o=0),(r===void 0||r===1/0)&&(r=e.count),r===0)return null;const l=eI(e,o,r);let u;n!==void 0&&(u=e===n.index?Me.ELEMENT_ARRAY_BUFFER:Me.ARRAY_BUFFER);const c=this.processBufferView(e,a,o,r,u),d={bufferView:c.id,byteOffset:c.byteOffset,componentType:a,count:r,max:l.max,min:l.min,type:i[e.itemSize]};return e.normalized===!0&&(d.normalized=!0),s.accessors||(s.accessors=[]),s.accessors.push(d)-1}processImage(e,n,o,r="image/png"){if(e!==null){const s=this,i=s.cache,a=s.json,l=s.options,u=s.pending;i.images.has(e)||i.images.set(e,{});const c=i.images.get(e),d=r+":flipY/"+o.toString();if(c[d]!==void 0)return c[d];a.images||(a.images=[]);const f={mimeType:r},p=am();p.width=Math.min(e.width,l.maxTextureSize),p.height=Math.min(e.height,l.maxTextureSize);const m=p.getContext("2d",{willReadFrequently:!0});if(o===!0&&(m.translate(0,p.height),m.scale(1,-1)),e.data!==void 0){n!==Cy&&console.error("GLTFExporter: Only RGBAFormat is supported.",n),(e.width>l.maxTextureSize||e.height>l.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const b=new Uint8ClampedArray(e.height*e.width*4);for(let g=0;g<b.length;g+=4)b[g+0]=e.data[g+0],b[g+1]=e.data[g+1],b[g+2]=e.data[g+2],b[g+3]=e.data[g+3];m.putImageData(new ImageData(b,e.width,e.height),0,0)}else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas)m.drawImage(e,0,0,p.width,p.height);else throw new Error("THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.");l.binary===!0?u.push(tI(p,r).then(b=>s.processBufferViewImage(b)).then(b=>{f.bufferView=b})):f.uri=Ty.getDataURL(p,r);const v=a.images.push(f)-1;return c[d]=v,v}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const n=this.json;n.samplers||(n.samplers=[]);const o={magFilter:hn[e.magFilter],minFilter:hn[e.minFilter],wrapS:hn[e.wrapS],wrapT:hn[e.wrapT]};return n.samplers.push(o)-1}async processTextureAsync(e){const o=this.options,r=this.cache,s=this.json;if(r.textures.has(e))return r.textures.get(e);s.textures||(s.textures=[]),e instanceof Au&&(e=await this.decompressTextureAsync(e,o.maxTextureSize));let i=e.userData.mimeType;i==="image/webp"&&(i="image/png");const a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,i)};e.name&&(a.name=e.name),await this._invokeAllAsync(async function(u){u.writeTexture&&await u.writeTexture(e,a)});const l=s.textures.push(a)-1;return r.textures.set(e,l),l}async processMaterialAsync(e){const n=this.cache,o=this.json;if(n.materials.has(e))return n.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;o.materials||(o.materials=[]);const r={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const s=e.color.toArray().concat([e.opacity]);if(ci(s,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=s),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=1),e.metalnessMap||e.roughnessMap){const a=await this.buildMetalRoughTextureAsync(e.metalnessMap,e.roughnessMap),l={index:await this.processTextureAsync(a),texCoord:a.channel};this.applyTextureTransform(l,a),r.pbrMetallicRoughness.metallicRoughnessTexture=l}if(e.map){const a={index:await this.processTextureAsync(e.map),texCoord:e.map.channel};this.applyTextureTransform(a,e.map),r.pbrMetallicRoughness.baseColorTexture=a}if(e.emissive){const a=e.emissive;if(Math.max(a.r,a.g,a.b)>0&&(r.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const u={index:await this.processTextureAsync(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(u,e.emissiveMap),r.emissiveTexture=u}}if(e.normalMap){const a={index:await this.processTextureAsync(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(a.scale=e.normalScale.x),this.applyTextureTransform(a,e.normalMap),r.normalTexture=a}if(e.aoMap){const a={index:await this.processTextureAsync(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(a.strength=e.aoMapIntensity),this.applyTextureTransform(a,e.aoMap),r.occlusionTexture=a}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===Mi&&(r.doubleSided=!0),e.name!==""&&(r.name=e.name),this.serializeUserData(e,r),await this._invokeAllAsync(async function(a){a.writeMaterialAsync&&await a.writeMaterialAsync(e,r)});const i=o.materials.push(r)-1;return n.materials.set(e,i),i}async processMeshAsync(e){const n=this.cache,o=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(let w=0,x=e.material.length;w<x;w++)r.push(e.material[w].uuid);else r.push(e.material.uuid);const s=r.join(":");if(n.meshes.has(s))return n.meshes.get(s);const i=e.geometry;let a;e.isLineSegments?a=Me.LINES:e.isLineLoop?a=Me.LINE_LOOP:e.isLine?a=Me.LINE_STRIP:e.isPoints?a=Me.POINTS:a=e.material.wireframe?Me.LINES:Me.TRIANGLES;const l={},u={},c=[],d=[],f={uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},p=i.getAttribute("normal");p!==void 0&&!this.isNormalizedNormalAttribute(p)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),i.setAttribute("normal",this.createNormalizedNormalAttribute(p)));let m=null;for(let w in i.attributes){if(w.slice(0,5)==="morph")continue;const x=i.attributes[w];if(w=f[w]||w.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(w)||(w="_"+w),n.attributes.has(this.getUID(x))){u[w]=n.attributes.get(this.getUID(x));continue}m=null;const T=x.array;w==="JOINTS_0"&&!(T instanceof Uint16Array)&&!(T instanceof Uint8Array)?(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new ln(new Uint16Array(T),x.itemSize,x.normalized)):(T instanceof Uint32Array||T instanceof Int32Array)&&!w.startsWith("_")&&(console.warn(`GLTFExporter: Attribute "${w}" converted to type FLOAT.`),m=Tl.Utils.toFloat32BufferAttribute(x));const M=this.processAccessor(m||x,i);M!==null&&(w.startsWith("_")||this.detectMeshQuantization(w,x),u[w]=M,n.attributes.set(this.getUID(x),M))}if(p!==void 0&&i.setAttribute("normal",p),Object.keys(u).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const w=[],x=[],P={};if(e.morphTargetDictionary!==void 0)for(const T in e.morphTargetDictionary)P[e.morphTargetDictionary[T]]=T;for(let T=0;T<e.morphTargetInfluences.length;++T){const M={};let E=!1;for(const S in i.morphAttributes){if(S!=="position"&&S!=="normal"){E||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),E=!0);continue}const R=i.morphAttributes[S][T],O=S.toUpperCase(),I=i.attributes[S];if(n.attributes.has(this.getUID(R,!0))){M[O]=n.attributes.get(this.getUID(R,!0));continue}const L=R.clone();if(!i.morphTargetsRelative)for(let z=0,W=R.count;z<W;z++)for(let H=0;H<R.itemSize;H++)H===0&&L.setX(z,R.getX(z)-I.getX(z)),H===1&&L.setY(z,R.getY(z)-I.getY(z)),H===2&&L.setZ(z,R.getZ(z)-I.getZ(z)),H===3&&L.setW(z,R.getW(z)-I.getW(z));M[O]=this.processAccessor(L,i),n.attributes.set(this.getUID(I,!0),M[O])}d.push(M),w.push(e.morphTargetInfluences[T]),e.morphTargetDictionary!==void 0&&x.push(P[T])}l.weights=w,x.length>0&&(l.extras={},l.extras.targetNames=x)}const v=Array.isArray(e.material);if(v&&i.groups.length===0)return null;let b=!1;if(v&&i.index===null){const w=[];for(let x=0,P=i.attributes.position.count;x<P;x++)w[x]=x;i.setIndex(w),b=!0}const g=v?e.material:[e.material],y=v?i.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let w=0,x=y.length;w<x;w++){const P={mode:a,attributes:u};if(this.serializeUserData(i,P),d.length>0&&(P.targets=d),i.index!==null){let M=this.getUID(i.index);(y[w].start!==void 0||y[w].count!==void 0)&&(M+=":"+y[w].start+":"+y[w].count),n.attributes.has(M)?P.indices=n.attributes.get(M):(P.indices=this.processAccessor(i.index,i,y[w].start,y[w].count),n.attributes.set(M,P.indices)),P.indices===null&&delete P.indices}const T=await this.processMaterialAsync(g[y[w].materialIndex]);T!==null&&(P.material=T),c.push(P)}b===!0&&i.setIndex(null),l.primitives=c,o.meshes||(o.meshes=[]),await this._invokeAllAsync(function(w){w.writeMesh&&w.writeMesh(e,l)});const _=o.meshes.push(l)-1;return n.meshes.set(s,_),_}detectMeshQuantization(e,n){if(this.extensionsUsed[mc])return;let o;switch(n.array.constructor){case Int8Array:o="byte";break;case Uint8Array:o="unsigned byte";break;case Int16Array:o="short";break;case Uint16Array:o="unsigned short";break;default:return}n.normalized&&(o+=" normalized");const r=e.split("_",1)[0];om[r]&&om[r].includes(o)&&(this.extensionsUsed[mc]=!0,this.extensionsRequired[mc]=!0)}processCamera(e){const n=this.json;n.cameras||(n.cameras=[]);const o=e.isOrthographicCamera,r={type:o?"orthographic":"perspective"};return o?r.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:er.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(r.name=e.type),n.cameras.push(r)-1}processAnimation(e,n){const o=this.json,r=this.nodeMap;o.animations||(o.animations=[]),e=Tl.Utils.mergeMorphTargetTracks(e.clone(),n);const s=e.tracks,i=[],a=[];for(let u=0;u<s.length;++u){const c=s[u],d=sl.parseTrackName(c.name);let f=sl.findNode(n,d.nodeName);const p=rm[d.propertyName];if(d.objectName==="bones"&&(f.isSkinnedMesh===!0?f=f.skeleton.getBoneByName(d.objectIndex):f=void 0),!f||!p){console.warn('THREE.GLTFExporter: Could not export animation track "%s".',c.name);continue}const m=1;let v=c.values.length/c.times.length;p===rm.morphTargetInfluences&&(v/=f.morphTargetInfluences.length);let b;c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(b="CUBICSPLINE",v/=3):c.getInterpolation()===Ey?b="STEP":b="LINEAR",a.push({input:this.processAccessor(new ln(c.times,m)),output:this.processAccessor(new ln(c.values,v)),interpolation:b}),i.push({sampler:a.length-1,target:{node:r.get(f),path:p}})}const l={name:e.name||"clip_"+o.animations.length,samplers:a,channels:i};return this.serializeUserData(e,l),o.animations.push(l),o.animations.length-1}processSkin(e){const n=this.json,o=this.nodeMap,r=n.nodes[o.get(e)],s=e.skeleton;if(s===void 0)return null;const i=e.skeleton.bones[0];if(i===void 0)return null;const a=[],l=new Float32Array(s.bones.length*16),u=new Kt;for(let d=0;d<s.bones.length;++d)a.push(o.get(s.bones[d])),u.copy(s.boneInverses[d]),u.multiply(e.bindMatrix).toArray(l,d*16);return n.skins===void 0&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new ln(l,16)),joints:a,skeleton:o.get(i)}),r.skin=n.skins.length-1}async processNodeAsync(e){const n=this.json,o=this.options,r=this.nodeMap;n.nodes||(n.nodes=[]);const s={};if(o.trs){const a=e.quaternion.toArray(),l=e.position.toArray(),u=e.scale.toArray();ci(a,[0,0,0,1])||(s.rotation=a),ci(l,[0,0,0])||(s.translation=l),ci(u,[1,1,1])||(s.scale=u)}else e.matrixAutoUpdate&&e.updateMatrix(),JO(e.matrix)===!1&&(s.matrix=e.matrix.elements);if(e.name!==""&&(s.name=String(e.name)),this.serializeUserData(e,s),e.isMesh||e.isLine||e.isPoints){const a=await this.processMeshAsync(e);a!==null&&(s.mesh=a)}else e.isCamera&&(s.camera=this.processCamera(e));e.isSkinnedMesh&&this.skins.push(e);const i=n.nodes.push(s)-1;if(r.set(e,i),e.children.length>0){const a=[];for(let l=0,u=e.children.length;l<u;l++){const c=e.children[l];if(c.visible||o.onlyVisible===!1){const d=await this.processNodeAsync(c);d!==null&&a.push(d)}}a.length>0&&(s.children=a)}return await this._invokeAllAsync(function(a){a.writeNode&&a.writeNode(e,s)}),i}async processSceneAsync(e){const n=this.json,o=this.options;n.scenes||(n.scenes=[],n.scene=0);const r={};e.name!==""&&(r.name=e.name),n.scenes.push(r);const s=[];for(let i=0,a=e.children.length;i<a;i++){const l=e.children[i];if(l.visible||o.onlyVisible===!1){const u=await this.processNodeAsync(l);u!==null&&s.push(u)}}s.length>0&&(r.nodes=s),this.serializeUserData(e,r)}async processObjectsAsync(e){const n=new Sc;n.name="AuxScene";for(let o=0;o<e.length;o++)n.children.push(e[o]);await this.processSceneAsync(n)}async processInputAsync(e){const n=this.options;e=e instanceof Array?e:[e],await this._invokeAllAsync(function(r){r.beforeParse&&r.beforeParse(e)});const o=[];for(let r=0;r<e.length;r++)e[r]instanceof Sc?await this.processSceneAsync(e[r]):o.push(e[r]);o.length>0&&await this.processObjectsAsync(o);for(let r=0;r<this.skins.length;++r)this.processSkin(this.skins[r]);for(let r=0;r<n.animations.length;++r)this.processAnimation(n.animations[r],e[0]);await this._invokeAllAsync(function(r){r.afterParse&&r.afterParse(e)})}async _invokeAllAsync(e){for(let n=0,o=this.plugins.length;n<o;n++)await e(this.plugins[n])}}class oI{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,n){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const o=this.writer,r=o.json,s=o.extensionsUsed,i={};e.name&&(i.name=e.name),i.color=e.color.toArray(),i.intensity=e.intensity,e.isDirectionalLight?i.type="directional":e.isPointLight?(i.type="point",e.distance>0&&(i.range=e.distance)):e.isSpotLight&&(i.type="spot",e.distance>0&&(i.range=e.distance),i.spot={},i.spot.innerConeAngle=(1-e.penumbra)*e.angle,i.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),s[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},s[this.name]=!0);const a=r.extensions[this.name].lights;a.push(i),n.extensions=n.extensions||{},n.extensions[this.name]={light:a.length-1}}}class rI{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}async writeMaterialAsync(e,n){if(!e.isMeshBasicMaterial)return;const r=this.writer.extensionsUsed;n.extensions=n.extensions||{},n.extensions[this.name]={},r[this.name]=!0,n.pbrMetallicRoughness.metallicFactor=0,n.pbrMetallicRoughness.roughnessFactor=.9}}class sI{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.clearcoat===0)return;const o=this.writer,r=o.extensionsUsed,s={};if(s.clearcoatFactor=e.clearcoat,e.clearcoatMap){const i={index:await o.processTextureAsync(e.clearcoatMap),texCoord:e.clearcoatMap.channel};o.applyTextureTransform(i,e.clearcoatMap),s.clearcoatTexture=i}if(s.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const i={index:await o.processTextureAsync(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};o.applyTextureTransform(i,e.clearcoatRoughnessMap),s.clearcoatRoughnessTexture=i}if(e.clearcoatNormalMap){const i={index:await o.processTextureAsync(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};e.clearcoatNormalScale.x!==1&&(i.scale=e.clearcoatNormalScale.x),o.applyTextureTransform(i,e.clearcoatNormalMap),s.clearcoatNormalTexture=i}n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class iI{constructor(e){this.writer=e,this.name="KHR_materials_dispersion"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.dispersion===0)return;const r=this.writer.extensionsUsed,s={};s.dispersion=e.dispersion,n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class aI{constructor(e){this.writer=e,this.name="KHR_materials_iridescence"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.iridescence===0)return;const o=this.writer,r=o.extensionsUsed,s={};if(s.iridescenceFactor=e.iridescence,e.iridescenceMap){const i={index:await o.processTextureAsync(e.iridescenceMap),texCoord:e.iridescenceMap.channel};o.applyTextureTransform(i,e.iridescenceMap),s.iridescenceTexture=i}if(s.iridescenceIor=e.iridescenceIOR,s.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],s.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){const i={index:await o.processTextureAsync(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};o.applyTextureTransform(i,e.iridescenceThicknessMap),s.iridescenceThicknessTexture=i}n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class lI{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const o=this.writer,r=o.extensionsUsed,s={};if(s.transmissionFactor=e.transmission,e.transmissionMap){const i={index:await o.processTextureAsync(e.transmissionMap),texCoord:e.transmissionMap.channel};o.applyTextureTransform(i,e.transmissionMap),s.transmissionTexture=i}n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class uI{constructor(e){this.writer=e,this.name="KHR_materials_volume"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const o=this.writer,r=o.extensionsUsed,s={};if(s.thicknessFactor=e.thickness,e.thicknessMap){const i={index:await o.processTextureAsync(e.thicknessMap),texCoord:e.thicknessMap.channel};o.applyTextureTransform(i,e.thicknessMap),s.thicknessTexture=i}e.attenuationDistance!==1/0&&(s.attenuationDistance=e.attenuationDistance),s.attenuationColor=e.attenuationColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class cI{constructor(e){this.writer=e,this.name="KHR_materials_ior"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.ior===1.5)return;const r=this.writer.extensionsUsed,s={};s.ior=e.ior,n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class dI{constructor(e){this.writer=e,this.name="KHR_materials_specular"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.specularIntensity===1&&e.specularColor.equals(WO)&&!e.specularIntensityMap&&!e.specularColorMap)return;const o=this.writer,r=o.extensionsUsed,s={};if(e.specularIntensityMap){const i={index:await o.processTextureAsync(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};o.applyTextureTransform(i,e.specularIntensityMap),s.specularTexture=i}if(e.specularColorMap){const i={index:await o.processTextureAsync(e.specularColorMap),texCoord:e.specularColorMap.channel};o.applyTextureTransform(i,e.specularColorMap),s.specularColorTexture=i}s.specularFactor=e.specularIntensity,s.specularColorFactor=e.specularColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class fI{constructor(e){this.writer=e,this.name="KHR_materials_sheen"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.sheen==0)return;const o=this.writer,r=o.extensionsUsed,s={};if(e.sheenRoughnessMap){const i={index:await o.processTextureAsync(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};o.applyTextureTransform(i,e.sheenRoughnessMap),s.sheenRoughnessTexture=i}if(e.sheenColorMap){const i={index:await o.processTextureAsync(e.sheenColorMap),texCoord:e.sheenColorMap.channel};o.applyTextureTransform(i,e.sheenColorMap),s.sheenColorTexture=i}s.sheenRoughnessFactor=e.sheenRoughness,s.sheenColorFactor=e.sheenColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class pI{constructor(e){this.writer=e,this.name="KHR_materials_anisotropy"}async writeMaterialAsync(e,n){if(!e.isMeshPhysicalMaterial||e.anisotropy==0)return;const o=this.writer,r=o.extensionsUsed,s={};if(e.anisotropyMap){const i={index:await o.processTextureAsync(e.anisotropyMap)};o.applyTextureTransform(i,e.anisotropyMap),s.anisotropyTexture=i}s.anisotropyStrength=e.anisotropy,s.anisotropyRotation=e.anisotropyRotation,n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class hI{constructor(e){this.writer=e,this.name="KHR_materials_emissive_strength"}async writeMaterialAsync(e,n){if(!e.isMeshStandardMaterial||e.emissiveIntensity===1)return;const r=this.writer.extensionsUsed,s={};s.emissiveStrength=e.emissiveIntensity,n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class mI{constructor(e){this.writer=e,this.name="EXT_materials_bump"}async writeMaterialAsync(e,n){if(!e.isMeshStandardMaterial||e.bumpScale===1&&!e.bumpMap)return;const o=this.writer,r=o.extensionsUsed,s={};if(e.bumpMap){const i={index:await o.processTextureAsync(e.bumpMap),texCoord:e.bumpMap.channel};o.applyTextureTransform(i,e.bumpMap),s.bumpTexture=i}s.bumpFactor=e.bumpScale,n.extensions=n.extensions||{},n.extensions[this.name]=s,r[this.name]=!0}}class vI{constructor(e){this.writer=e,this.name="EXT_mesh_gpu_instancing"}writeNode(e,n){if(!e.isInstancedMesh)return;const o=this.writer,r=e,s=new Float32Array(r.count*3),i=new Float32Array(r.count*4),a=new Float32Array(r.count*3),l=new Kt,u=new K,c=new Ft,d=new K;for(let p=0;p<r.count;p++)r.getMatrixAt(p,l),l.decompose(u,c,d),u.toArray(s,p*3),c.toArray(i,p*4),d.toArray(a,p*3);const f={TRANSLATION:o.processAccessor(new ln(s,3)),ROTATION:o.processAccessor(new ln(i,4)),SCALE:o.processAccessor(new ln(a,3))};r.instanceColor&&(f._COLOR_0=o.processAccessor(r.instanceColor)),n.extensions=n.extensions||{},n.extensions[this.name]={attributes:f},o.extensionsUsed[this.name]=!0,o.extensionsRequired[this.name]=!0}}Tl.Utils={insertKeyframe:function(t,e){const o=t.getValueSize(),r=new t.TimeBufferType(t.times.length+1),s=new t.ValueBufferType(t.values.length+o),i=t.createInterpolant(new t.ValueBufferType(o));let a;if(t.times.length===0){r[0]=e;for(let l=0;l<o;l++)s[l]=0;a=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<.001)return 0;r[0]=e,r.set(t.times,1),s.set(i.evaluate(e),0),s.set(t.values,o),a=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<.001)return t.times.length-1;r[r.length-1]=e,r.set(t.times,0),s.set(t.values,0),s.set(i.evaluate(e),t.values.length),a=r.length-1}else for(let l=0;l<t.times.length;l++){if(Math.abs(t.times[l]-e)<.001)return l;if(t.times[l]<e&&t.times[l+1]>e){r.set(t.times.slice(0,l+1),0),r[l+1]=e,r.set(t.times.slice(l+1),l+2),s.set(t.values.slice(0,(l+1)*o),0),s.set(i.evaluate(e),(l+1)*o),s.set(t.values.slice((l+1)*o),(l+2)*o),a=l+1;break}}return t.times=r,t.values=s,a},mergeMorphTargetTracks:function(t,e){const n=[],o={},r=t.tracks;for(let s=0;s<r.length;++s){let i=r[s];const a=sl.parseTrackName(i.name),l=sl.findNode(e,a.nodeName);if(a.propertyName!=="morphTargetInfluences"||a.propertyIndex===void 0){n.push(i);continue}if(i.createInterpolant!==i.InterpolantFactoryMethodDiscrete&&i.createInterpolant!==i.InterpolantFactoryMethodLinear){if(i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),i=i.clone(),i.setInterpolation(By)}const u=l.morphTargetInfluences.length,c=l.morphTargetDictionary[a.propertyIndex];if(c===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+a.propertyIndex);let d;if(o[l.uuid]===void 0){d=i.clone();const p=new d.ValueBufferType(u*d.times.length);for(let m=0;m<d.times.length;m++)p[m*u+c]=d.values[m];d.name=(a.nodeName||"")+".morphTargetInfluences",d.values=p,o[l.uuid]=d,n.push(d);continue}const f=i.createInterpolant(new i.ValueBufferType(1));d=o[l.uuid];for(let p=0;p<d.times.length;p++)d.values[p*u+c]=f.evaluate(d.times[p]);for(let p=0;p<i.times.length;p++){const m=this.insertKeyframe(d,i.times[p]);d.values[m*u+c]=i.values[p]}}return t.tracks=n,t},toFloat32BufferAttribute:function(t){const e=new ln(new Float32Array(t.count*t.itemSize),t.itemSize,!1);if(!t.normalized&&!t.isInterleavedBufferAttribute)return e.array.set(t.array),e;for(let n=0,o=t.count;n<o;n++)for(let r=0;r<t.itemSize;r++)e.setComponent(n,r,t.getComponent(n,r));return e}};class El extends qy{constructor(e,n={}){const o=n.font;if(o===void 0)super();else{const r=o.generateShapes(e,n.size,n.direction);n.depth===void 0&&(n.depth=50),n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n)}this.type="TextGeometry"}}class gI extends On{constructor(e,n){const o=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],r=new Mo;r.setAttribute("position",new nr(o,3)),r.computeBoundingSphere();const s=new Am({fog:!1});super(r,s),this.light=e,this.color=n,this.type="RectAreaLightHelper";const i=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new Mo;a.setAttribute("position",new nr(i,3)),a.computeBoundingSphere(),this.add(new ue(a,new Fr({side:Ed,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);const e=this.material.color,n=Math.max(e.r,e.g,e.b);n>1&&e.multiplyScalar(1/n),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}function Y2(t,e){if(e===Fy)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Xf||e===Ly){let n=t.getIndex();if(n===null){const i=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)i.push(l);t.setIndex(i),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const o=n.count-2,r=[];if(e===Xf)for(let i=1;i<=o;i++)r.push(n.getX(0)),r.push(n.getX(i)),r.push(n.getX(i+1));else for(let i=0;i<o;i++)i%2===0?(r.push(n.getX(i)),r.push(n.getX(i+1)),r.push(n.getX(i+2))):(r.push(n.getX(i+2)),r.push(n.getX(i+1)),r.push(n.getX(i)));r.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const Ei={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class Lf extends $s{constructor(e,n="tDiffuse"){super(),this.textureID=n,this.uniforms=null,this.material=null,e instanceof xo?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ni.clone(e.uniforms),this.material=new xo({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new Ff(this.material)}render(e,n,o){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=o.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class lm extends $s{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,o){const r=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let i,a;this.inverse?(i=0,a=1):(i=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),s.buffers.stencil.setFunc(r.ALWAYS,i,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(o),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(r.EQUAL,1,4294967295),s.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),s.buffers.stencil.setLocked(!0)}}class bI extends $s{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Ob{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const o=e.getSize(new ke);this._width=o.width,this._height=o.height,n=new Bn(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Zn}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Lf(Ei),this.copyPass.material.blending=Ec,this.clock=new Em}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let o=!1;for(let r=0,s=this.passes.length;r<s;r++){const i=this.passes[r];if(i.enabled!==!1){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,o),i.needsSwap){if(o){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}lm!==void 0&&(i instanceof lm?o=!0:i instanceof bI&&(o=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new ke);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const o=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(o,r),this.renderTarget2.setSize(o,r);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(o,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class To extends $s{constructor(e,n,o,r){super(),this.renderScene=n,this.renderCamera=o,this.selectedObjects=r!==void 0?r:[],this.visibleEdgeColor=new eo(1,1,1),this.hiddenEdgeColor=new eo(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.patternTexture=null,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this._selectionCache=new Set,this.resolution=e!==void 0?new ke(e.x,e.y):new ke(256,256);const s=Math.round(this.resolution.x/this.downSampleRatio),i=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new Bn(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new Vy,this.depthMaterial.side=Mi,this.depthMaterial.depthPacking=$y,this.depthMaterial.blending=Ec,this.prepareMaskMaterial=this._getPrepareMaskMaterial(),this.prepareMaskMaterial.side=Mi,this.prepareMaskMaterial.fragmentShader=c(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new Bn(this.resolution.x,this.resolution.y,{type:Zn}),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new Bn(s,i,{type:Zn}),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new Bn(s,i,{type:Zn}),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new Bn(Math.round(s/2),Math.round(i/2),{type:Zn}),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this._getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new Bn(s,i,{type:Zn}),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new Bn(Math.round(s/2),Math.round(i/2),{type:Zn}),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const a=4,l=4;this.separableBlurMaterial1=this._getSeparableBlurMaterial(a),this.separableBlurMaterial1.uniforms.texSize.value.set(s,i),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this._getSeparableBlurMaterial(l),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(s/2),Math.round(i/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=l,this.overlayMaterial=this._getOverlayMaterial();const u=Ei;this.copyUniforms=Ni.clone(u.uniforms),this.materialCopy=new xo({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:Ec,depthTest:!1,depthWrite:!1}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new eo,this.oldClearAlpha=1,this._fsQuad=new Ff(null),this.tempPulseColor1=new eo,this.tempPulseColor2=new eo,this.textureMatrix=new Kt;function c(d,f){const p=f.isPerspectiveCamera?"perspective":"orthographic";return d.replace(/DEPTH_TO_VIEW_Z/g,p+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose(),this.depthMaterial.dispose(),this.prepareMaskMaterial.dispose(),this.edgeDetectionMaterial.dispose(),this.separableBlurMaterial1.dispose(),this.separableBlurMaterial2.dispose(),this.overlayMaterial.dispose(),this.materialCopy.dispose(),this._fsQuad.dispose()}setSize(e,n){this.renderTargetMaskBuffer.setSize(e,n),this.renderTargetDepthBuffer.setSize(e,n);let o=Math.round(e/this.downSampleRatio),r=Math.round(n/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(o,r),this.renderTargetBlurBuffer1.setSize(o,r),this.renderTargetEdgeBuffer1.setSize(o,r),this.separableBlurMaterial1.uniforms.texSize.value.set(o,r),o=Math.round(o/2),r=Math.round(r/2),this.renderTargetBlurBuffer2.setSize(o,r),this.renderTargetEdgeBuffer2.setSize(o,r),this.separableBlurMaterial2.uniforms.texSize.value.set(o,r)}render(e,n,o,r,s){if(this.selectedObjects.length>0){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,s&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this._updateSelectionCache(),this._changeVisibilityOfSelectedObjects(!1);const a=this.renderScene.background,l=this.renderScene.overrideMaterial;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this._changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this._updateTextureMatrix(),this._changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this._changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this._selectionCache.clear(),this.renderScene.background=a,this.renderScene.overrideMaterial=l,this._fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this._fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const u=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(u),this.tempPulseColor2.multiplyScalar(u)}this._fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this._fsQuad.render(e),this._fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=To.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this._fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=To.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this._fsQuad.render(e),this._fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=To.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this._fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=To.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this._fsQuad.render(e),this._fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,s&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(o),this._fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}this.renderToScreen&&(this._fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=o.texture,e.setRenderTarget(null),this._fsQuad.render(e))}_updateSelectionCache(){const e=this._selectionCache;function n(o){o.isMesh&&e.add(o)}e.clear();for(let o=0;o<this.selectedObjects.length;o++)this.selectedObjects[o].traverse(n)}_changeVisibilityOfSelectedObjects(e){const n=this._visibilityCache;for(const o of this._selectionCache)e===!0?o.visible=n.get(o):(n.set(o,o.visible),o.visible=e)}_changeVisibilityOfNonSelectedObjects(e){const n=this._visibilityCache,o=this._selectionCache;function r(s){if(s.isPoints||s.isLine||s.isLine2)e===!0?s.visible=n.get(s):(n.set(s,s.visible),s.visible=e);else if((s.isMesh||s.isSprite)&&!o.has(s)){const i=s.visible;(e===!1||n.get(s)===!0)&&(s.visible=e),n.set(s,i)}}this.renderScene.traverse(r)}_updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}_getPrepareMaskMaterial(){return new xo({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new ke(.5,.5)},textureMatrix:{value:null}},vertexShader:`#include <batching_pars_vertex>
				#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <batching_vertex>
					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;

					vec4 worldPosition = vec4( transformed, 1.0 );

					#ifdef USE_INSTANCING

						worldPosition = instanceMatrix * worldPosition;

					#endif

					worldPosition = modelMatrix * worldPosition;

					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}_getEdgeDetectionMaterial(){return new xo({uniforms:{maskTexture:{value:null},texSize:{value:new ke(.5,.5)},visibleEdgeColor:{value:new K(1,1,1)},hiddenEdgeColor:{value:new K(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}_getSeparableBlurMaterial(e){return new xo({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new ke(.5,.5)},direction:{value:new ke(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float sigma = kernelRadius/2.0;
					float weightSum = gaussianPdf(0.0, sigma);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float x = kernelRadius * float(i) / float(MAX_RADIUS);
						float w = gaussianPdf(x, sigma);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}_getOverlayMaterial(){return new xo({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:Mm,depthTest:!1,depthWrite:!1,transparent:!0})}}To.BlurDirectionX=new ke(1,0);To.BlurDirectionY=new ke(0,1);class Ib extends $s{constructor(e,n,o=null,r=null,s=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=o,this.clearColor=r,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this.isRenderPass=!0,this._oldClearColor=new eo}render(e,n,o){const r=e.autoClear;e.autoClear=!1;let s,i;this.overrideMaterial!==null&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:o),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=i),e.autoClear=r}}class yI extends $s{constructor(e,n,o=0,r=0){super(),this.scene=e,this.camera=n,this.sampleLevel=4,this.unbiased=!0,this.stencilBuffer=!1,this.clearColor=o,this.clearAlpha=r,this._sampleRenderTarget=null,this._oldClearColor=new eo,this._copyUniforms=Ni.clone(Ei.uniforms),this._copyMaterial=new xo({uniforms:this._copyUniforms,vertexShader:Ei.vertexShader,fragmentShader:Ei.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,premultipliedAlpha:!0,blending:Mm}),this._fsQuad=new Ff(this._copyMaterial)}dispose(){this._sampleRenderTarget&&(this._sampleRenderTarget.dispose(),this._sampleRenderTarget=null),this._copyMaterial.dispose(),this._fsQuad.dispose()}setSize(e,n){this._sampleRenderTarget&&this._sampleRenderTarget.setSize(e,n)}render(e,n,o){this._sampleRenderTarget||(this._sampleRenderTarget=new Bn(o.width,o.height,{type:Zn,stencilBuffer:this.stencilBuffer}),this._sampleRenderTarget.texture.name="SSAARenderPass.sample");const r=_I[Math.max(0,Math.min(this.sampleLevel,5))],s=e.autoClear;e.autoClear=!1,e.getClearColor(this._oldClearColor);const i=e.getClearAlpha(),a=1/r.length,l=1/32;this._copyUniforms.tDiffuse.value=this._sampleRenderTarget.texture;const u={fullWidth:o.width,fullHeight:o.height,offsetX:0,offsetY:0,width:o.width,height:o.height},c=Object.assign({},this.camera.view);c.enabled&&Object.assign(u,c);for(let d=0;d<r.length;d++){const f=r[d];this.camera.setViewOffset&&this.camera.setViewOffset(u.fullWidth,u.fullHeight,u.offsetX+f[0]*.0625,u.offsetY+f[1]*.0625,u.width,u.height);let p=a;if(this.unbiased){const m=-.5+(d+.5)/r.length;p+=l*m}this._copyUniforms.opacity.value=p,e.setClearColor(this.clearColor,this.clearAlpha),e.setRenderTarget(this._sampleRenderTarget),e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(this.renderToScreen?null:n),d===0&&(e.setClearColor(0,0),e.clear()),this._fsQuad.render(e)}this.camera.setViewOffset&&c.enabled?this.camera.setViewOffset(c.fullWidth,c.fullHeight,c.offsetX,c.offsetY,c.width,c.height):this.camera.clearViewOffset&&this.camera.clearViewOffset(),e.autoClear=s,e.setClearColor(this._oldClearColor,i)}}const _I=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];class Db extends yI{constructor(e,n,o,r){super(e,n,o,r),this.sampleLevel=0,this.accumulate=!1,this.accumulateIndex=-1,this._sampleRenderTarget=null,this._holdRenderTarget=null}render(e,n,o,r){if(this.accumulate===!1){super.render(e,n,o,r),this.accumulateIndex=-1;return}const s=wI[5];this._sampleRenderTarget===null&&(this._sampleRenderTarget=new Bn(o.width,o.height,{type:Zn}),this._sampleRenderTarget.texture.name="TAARenderPass.sample"),this._holdRenderTarget===null&&(this._holdRenderTarget=new Bn(o.width,o.height,{type:Zn}),this._holdRenderTarget.texture.name="TAARenderPass.hold"),this.accumulateIndex===-1&&(super.render(e,this._holdRenderTarget,o,r),this.accumulateIndex=0);const i=e.autoClear;e.autoClear=!1,e.getClearColor(this._oldClearColor);const a=e.getClearAlpha(),l=1/s.length;if(this.accumulateIndex>=0&&this.accumulateIndex<s.length){this._copyUniforms.opacity.value=l,this._copyUniforms.tDiffuse.value=n.texture;const c=Math.pow(2,this.sampleLevel);for(let d=0;d<c;d++){const f=this.accumulateIndex,p=s[f];if(this.camera.setViewOffset&&this.camera.setViewOffset(o.width,o.height,p[0]*.0625,p[1]*.0625,o.width,o.height),e.setRenderTarget(n),e.setClearColor(this.clearColor,this.clearAlpha),e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(this._sampleRenderTarget),this.accumulateIndex===0&&(e.setClearColor(0,0),e.clear()),this._fsQuad.render(e),this.accumulateIndex++,this.accumulateIndex>=s.length)break}this.camera.clearViewOffset&&this.camera.clearViewOffset()}e.setClearColor(this.clearColor,this.clearAlpha);const u=this.accumulateIndex*l;u>0&&(this._copyUniforms.opacity.value=1,this._copyUniforms.tDiffuse.value=this._sampleRenderTarget.texture,e.setRenderTarget(n),e.clear(),this._fsQuad.render(e)),u<1&&(this._copyUniforms.opacity.value=1-u,this._copyUniforms.tDiffuse.value=this._holdRenderTarget.texture,e.setRenderTarget(n),this._fsQuad.render(e)),e.autoClear=i,e.setClearColor(this._oldClearColor,a)}dispose(){super.dispose(),this._holdRenderTarget&&this._holdRenderTarget.dispose()}}const wI=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]],Bb={name:"GammaCorrectionShader",uniforms:{tDiffuse:{value:null}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 tex = texture2D( tDiffuse, vUv );

			gl_FragColor = sRGBTransferOETF( tex );

		}`};function xI({cameraRef:t,controlsRef:e,gizmoRef:n,renderer:o,transformControlsRef:r,helperScene:s}){e.value=new yk(t.value,o.domElement),r.value=new pO(t.value,o.domElement);const i=r.value.getHelper();i.name="TransformHelper",s.add(i),e.value.enablePan=!0,e.value.screenSpacePanning=!0,e.value.enableZoom=!1,e.value.mouseButtons={LEFT:null,MIDDLE:U.MOUSE.ROTATE,RIGHT:null},e.value.touches={ONE:U.TOUCH.ROTATE,TWO:U.TOUCH.PAN},n.value=new fO(t.value,o,SI()),n.value.attachControls(e.value),pe(t,a=>{!e.value||!n.value||(e.value.object=a,n.value.camera=a)})}function SI(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--color-axis-x"),n=t.getPropertyValue("--color-axis-y"),o=t.getPropertyValue("--color-axis-z");return{container:".gizmo-wrapper",className:"gizmo",size:100,placement:"top-right",lineWidth:3,resolution:128,x:{color:e,hover:{labelColor:"#fff",color:e}},y:{color:n,hover:{labelColor:"#fff",color:n}},z:{color:o,hover:{labelColor:"#fff",color:o}}}}const dn=V(null),vo=()=>({toast:{info:(n,o)=>{if(!dn.value){console.warn("Toast instance not initialized");return}return dn.value.addToast({message:n,type:"info",...o})},success:(n,o)=>{if(!dn.value){console.warn("Toast instance not initialized");return}return dn.value.addToast({message:n,type:"success",...o})},warning:(n,o)=>{if(!dn.value){console.warn("Toast instance not initialized");return}return dn.value.addToast({message:n,type:"warning",...o})},error:(n,o)=>{if(!dn.value){console.warn("Toast instance not initialized");return}return dn.value.addToast({message:n,type:"error",...o})},remove:n=>{if(!dn.value){console.warn("Toast instance not initialized");return}dn.value.removeToast(n)},clear:()=>{if(!dn.value){console.warn("Toast instance not initialized");return}dn.value.clearAllToasts()}},setToastInstance:n=>{dn.value=n}}),sa=bu("progress",()=>{const t=V([]);function e(s,i,a){const l={id:s,filename:i,percentage:0,loaded:0,total:a,startTime:Date.now()};t.value.push(l)}function n(s,i){const a=t.value.find(d=>d.id===s);if(!a)return;a.loaded=i,a.percentage=i/a.total*100;const l=Date.now()-a.startTime,u=i/l,c=a.total-i;a.estimatedTimeRemaining=c/u}function o(s){const i=t.value.findIndex(a=>a.id===s);i!==-1&&t.value.splice(i,1)}function r(){return t.value}return{loadingItems:t,startLoading:e,updateProgress:n,finishLoading:o,getActiveLoadings:r}});async function CI({url:t,format:e,filename:n,onProgress:o,textureUrlMap:r}){const s=(e||t.split(".").pop()||"").toLowerCase(),i=sa(),a=`model-${Date.now()}-${Math.random().toString(36).slice(2)}`;try{const l=o,u=c=>{c.lengthComputable&&(i.loadingItems.find(d=>d.id===a)?i.updateProgress(a,c.loaded):i.startLoading(a,n,c.total)),l?.(c)};switch(s){case"gltf":case"glb":{const{GLTFLoader:c}=await de(async()=>{const{GLTFLoader:g}=await import("./loaders-CpMhInZO.js").then(y=>y.G);return{GLTFLoader:g}},__vite__mapDeps([0,1])),{DRACOLoader:d}=await de(async()=>{const{DRACOLoader:g}=await import("./loaders-CpMhInZO.js").then(y=>y.D);return{DRACOLoader:g}},__vite__mapDeps([0,1])),{MeshoptDecoder:f}=await de(async()=>{const{MeshoptDecoder:g}=await Promise.resolve().then(()=>j2);return{MeshoptDecoder:g}},void 0);let p;r&&(p=new Ny,p.setURLModifier(g=>{for(const[y,_]of Object.entries(r))if(g.includes(y)||g.endsWith(y))return _;return g}));const m=new c(p),v=new d;return v.setDecoderPath("/draco/"),m.setDRACOLoader(v),m.setMeshoptDecoder(f),(await m.loadAsync(t,u)).scene}case"obj":{const{OBJLoader:c}=await de(async()=>{const{OBJLoader:f}=await import("./loaders-CpMhInZO.js").then(p=>p.O);return{OBJLoader:f}},__vite__mapDeps([0,1]));return await new c().loadAsync(t,u)}case"fbx":{const{FBXLoader:c}=await de(async()=>{const{FBXLoader:f}=await import("./loaders-CpMhInZO.js").then(p=>p.a);return{FBXLoader:f}},__vite__mapDeps([0,1]));return await new c().loadAsync(t,u)}default:throw new Error(`Unsupported format: ${s}`)}}catch(l){const u=l;return console.error(`Error loading a model (${t}):`,u.name,u.message),vo().toast.error("",{title:"Error loading a model",message:u.message}),null}finally{i.finishLoading(a),t.startsWith("blob:")&&URL.revokeObjectURL(t)}}function TI(t){const e=new U.Raycaster,n=new U.Vector2;return e.firstHitOnly=!0,Pt(t,"pointermove",o=>{const r=o.target;r&&(n.x=o.offsetX/r.clientWidth*2-1,n.y=-(o.offsetY/r.clientHeight)*2+1)}),{raycaster:e,pointer:n}}let _d=null;function EI(t){_d=new U.PMREMGenerator(t),_d.compileEquirectangularShader()}function qb({canvas:t}){const e=new U.WebGLRenderer({canvas:t,alpha:!0,precision:"highp",powerPreference:"high-performance"}),{clientWidth:n,clientHeight:o}=t;return e.setPixelRatio(window.devicePixelRatio),e.setSize(n,o,!1),e.toneMapping=U.ACESFilmicToneMapping,e.outputColorSpace=U.SRGBColorSpace,e.toneMappingExposure=1,e.shadowMap.enabled=!0,e.shadowMap.type=U.PCFSoftShadowMap,e.autoClear=!1,EI(e),e}function AI({camera:t,canvas:e,gizmo:n,scene:o}){const r=qb({canvas:e}),s=new Ob(r);s.setPixelRatio(window.devicePixelRatio);const i=new Ib(o,t.value);s.addPass(i);const a=new Db(o,t.value);a.sampleLevel=2,s.addPass(a);const l=new To(new U.Vector2(e.clientWidth,e.clientHeight),o,t.value);l.edgeStrength=5,l.edgeThickness=1,l.edgeGlow=0,l.visibleEdgeColor.set("#ffaa00"),l.hiddenEdgeColor.set("#ffaa00"),s.addPass(l);const u=new Lf(Bb);s.addPass(u),pe(t,d=>{i.camera=d,l.renderCamera=d,a.camera=d});function c(){const{width:d,height:f}=r.getSize(new U.Vector2),{clientWidth:p,clientHeight:m}=e;(d!==p||f!==m)&&(r.setSize(p,m,!1),s.setSize(p,m),r.setPixelRatio(window.devicePixelRatio),t.value instanceof U.PerspectiveCamera&&(t.value.aspect=p/m),t.value.updateProjectionMatrix(),n.value?.update())}return{renderer:r,composer:s,outlinePass:l,handleResize:c}}function MI({camera:t,canvas:e,scene:n}){const o=qb({canvas:e}),r=new Ob(o);r.setPixelRatio(window.devicePixelRatio);const s=new Ib(n,t);r.addPass(s);const i=new Db(n,t);i.sampleLevel=2,r.addPass(i);const a=new Lf(Bb);return r.addPass(a),{renderer:o,composer:r}}function um(t){const{far:e,near:n}=t;if(t.type==="Perspective"){const{aspect:a,fov:l}=t;return new U.PerspectiveCamera(l,a,n,e)}const{left:o,right:r,bottom:s,top:i}=t;return new U.OrthographicCamera(o,r,i,s,n,e)}function PI(){const t=um({type:"Perspective",fov:39.6,near:.1,far:1e3}),e=um({type:"Orthographic",near:-1e3,far:1e3}),n=V(t);n.value.position.set(4,4,4),n.value.lookAt(0,0,0);function o(){n.value instanceof U.PerspectiveCamera?(e.position.copy(n.value.position),e.quaternion.copy(n.value.quaternion),e.scale.copy(n.value.scale),n.value=e):(t.position.copy(n.value.position),t.quaternion.copy(n.value.quaternion),t.scale.copy(n.value.scale),n.value=t),n.value.updateProjectionMatrix()}return{perspectiveCamera:t,orthographicCamera:e,activeCamera:n,switchCamera:o}}function kI(t){t.traverse(e=>{e instanceof U.Light&&e.shadow.map&&e.shadow.map.dispose(),e instanceof U.Mesh&&(e.geometry&&e.geometry.dispose(),(Array.isArray(e.material)?e.material:[e.material]).forEach(o=>{if(o){for(const r in o){const s=o[r];s&&s.isTexture&&s.dispose()}o.dispose()}}))}),t.parent&&t.removeFromParent()}function Fb({type:t,parameters:e}){let n;switch(t){case"point":n=new U.PointLight(e?.color,e?.intensity??10,e?.distance,e?.decay);break;case"sun":n=new U.DirectionalLight(e?.color,e?.intensity??10),n.target.name="DirectionalLightTarget",n.target.position.set(0,0,-1),n.add(n.target);break;case"spot":n=new U.SpotLight(e?.color,e?.intensity??10,e?.distance,e?.angle),n.target.name="SpotLightTarget",n.target.position.set(0,0,-1),n.add(n.target);break;case"area":n=new U.RectAreaLight(e?.color,e?.intensity??10,e?.width,e?.height);break}return n.shadow&&(n.shadow.bias=-.001,n.shadow.normalBias=.02),n.name=t,n}function cm(t){let e;switch(!0){case t instanceof U.PointLight:e=new U.PointLightHelper(t,.5);break;case t instanceof U.DirectionalLight:e=new U.DirectionalLightHelper(t,1);break;case t instanceof U.SpotLight:e=new U.SpotLightHelper(t);break;case t instanceof U.RectAreaLight:e=new gI(t);break}if(e)return e.light.name=t.type,e.name=`${t.type}Helper`,e.userData={isHelper:!0},e.traverse(n=>{n.userData.skipRaycast=!0}),e}var Ai=function(){var t=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(c){c.preventDefault(),o(++t%e.children.length)},!1);function n(c){return e.appendChild(c.dom),c}function o(c){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===c?"block":"none";t=c}var r=(performance||Date).now(),s=r,i=0,a=n(new Ai.Panel("FPS","#0ff","#002")),l=n(new Ai.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=n(new Ai.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:e,addPanel:n,showPanel:o,begin:function(){r=(performance||Date).now()},end:function(){i++;var c=(performance||Date).now();if(l.update(c-r,200),c>=s+1e3&&(a.update(i*1e3/(c-s),100),s=c,i=0,u)){var d=performance.memory;u.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){r=this.end()},domElement:e,setMode:o}};Ai.Panel=function(t,e,n){var o=1/0,r=0,s=Math.round,i=s(window.devicePixelRatio||1),a=80*i,l=48*i,u=3*i,c=2*i,d=3*i,f=15*i,p=74*i,m=30*i,v=document.createElement("canvas");v.width=a,v.height=l,v.style.cssText="width:80px;height:48px";var b=v.getContext("2d");return b.font="bold "+9*i+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=n,b.fillRect(0,0,a,l),b.fillStyle=e,b.fillText(t,u,c),b.fillRect(d,f,p,m),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(d,f,p,m),{dom:v,update:function(g,y){o=Math.min(o,g),r=Math.max(r,g),b.fillStyle=n,b.globalAlpha=1,b.fillRect(0,0,a,f),b.fillStyle=e,b.fillText(s(g)+" "+t+" ("+s(o)+"-"+s(r)+")",u,c),b.drawImage(v,d+i,f,p-i,m,d,f,p-i,m),b.fillRect(d+p-i,f,i,m),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(d+p-i,f,i,s((1-g/y)*m))}}};function RI(){const t=new Ai;t.dom.style.position="absolute",t.dom.style.top="initial",t.dom.style.bottom="0px";const e=V({memory:"",geometries:0,textures:0});function n(o){o&&o.appendChild(t.dom)}return{monitor:e,initStats:n,stats:t}}const OI=new jy().setPath("/textures/world/");async function II(t){const e=sa(),n=`env-${Date.now()}-${Math.random().toString(36).slice(2)}`;try{const r=await OI.loadAsync(`${t}.exr`,o);return r.mapping=U.EquirectangularReflectionMapping,_d?.fromEquirectangular(r).texture??null}catch{return vo().toast.error("Error when loading world texture"),null}finally{e.finishLoading(n)}function o(r){r.lengthComputable&&(e.loadingItems.find(s=>s.id===n)?e.updateProgress(n,r.loaded):e.startLoading(n,`${t}.exr`,r.total))}}const ia=bu("shading",()=>{let t=null;const e=DI(),n=V("solid"),o=je(null),r=new Map,s=q(()=>n.value);let i=[];function a(S){return!!S.userData.isShadable}function l(){t&&t.traverse(S=>{S instanceof U.Mesh&&S.material&&a(S)&&c(S)})}function u(S){S.traverse(R=>{R instanceof U.Mesh&&R.material&&!r.has(R.uuid)&&a(R)&&(c(R),p(R,n.value))})}function c(S){if(!S.material)return;const O=(Array.isArray(S.material)?S.material:[S.material]).map(I=>I.clone());r.set(S.uuid,{original:Array.isArray(S.material)?O:O[0],current:S.material})}function d(S){!t||S===s.value||(n.value=S,S==="solid"?e.forEach(R=>t?.add(R)):e.forEach(R=>t?.remove(R)),S==="materialPreview"?t.environment=o.value:t.environment=null,x(S==="rendered"),S==="export"?(t.traverse(R=>{R.userData.isHelper&&(R.visible=!1,i.push(R))}),d("rendered")):(i.forEach(R=>{R.visible=!0}),i=[]),t.traverse(R=>{R instanceof U.Mesh&&p(R,S)}))}function f(S){o.value=S}function p(S,R){const O=r.get(S.uuid);if(!O)return;let I;switch(R){case"wireframe":I=m(O.original);break;case"solid":I=b(O.original);break;case"materialPreview":I=y(O.original);break;case"rendered":I=O.original;break;default:return}S.material=I,O.current=I}function m(S){return Array.isArray(S)?S.map(R=>v(R)):v(S)}function v(S){return new U.MeshBasicMaterial({color:0,wireframe:!0,transparent:S.transparent,opacity:S.opacity})}function b(S){return Array.isArray(S)?S.map(R=>g(R)):g(S)}function g(S){return new U.MeshLambertMaterial({color:13421772,flatShading:!0,transparent:S.transparent,opacity:S.opacity})}function y(S){return Array.isArray(S)?S.map(R=>_(R)):_(S)}function _(S){return S instanceof U.MeshStandardMaterial||S instanceof U.MeshPhysicalMaterial?S.clone():new U.MeshStandardMaterial({color:S.color||16777215,map:S.map,roughness:.5,metalness:0,transparent:S.transparent,opacity:S.opacity})}function w(S){t=S,e.forEach(R=>t?.add(R)),l(),II("forest").then(R=>{R&&(f(R),d(n.value))})}function x(S){t&&t.traverse(R=>{"light"in R&&R.userData.isSceneLight&&(R.light.visible=S)})}function P(S){return r.get(S.uuid)}function T(S,R){const O=r.get(S.uuid);if(!O||Array.isArray(O.original))return;const I=O.original;if(M(I,R.prop,R.value),n.value==="materialPreview"&&O.current!==O.original&&!Array.isArray(O.current)){const L=O.current;R.prop in L&&M(L,R.prop,R.value)}O.current instanceof U.Material&&(O.current.needsUpdate=!0)}function M(S,R,O){const I=S[R];I instanceof U.Color&&O instanceof U.Color||I instanceof U.Vector2&&O instanceof U.Vector2||I instanceof U.Vector3&&O instanceof U.Vector3||I instanceof U.Vector4&&O instanceof U.Vector4?I.copy(O):S[R]=O}function E(S,R){const O=r.get(S.uuid);O&&(O.current=R,O.original=R,p(S,n.value))}return{init:w,cacheNewObjectMaterials:u,setEnvironmentMap:f,setMode:d,shadingMode:s,getMaterial:P,updateMaterial:T,changeMaterial:E}});function DI(){const t=new U.AmbientLight(16777215,1);t.name="SolidModeAmbientLight";const e=new U.DirectionalLight(16777215,.8);e.name="SolidModeMainLight",e.position.set(5,5,5);const n=new U.DirectionalLight(16777215,.3);n.name="SolidModeFillLight",n.position.set(-5,-5,-5);const o=[t,e,n];return o.forEach(r=>{r.userData={isHelper:!0}}),o}const gc=new Map([["plane",0],["cube",0],["circle",0],["sphere",0],["icosphere",0],["cylinder",0],["cone",0],["torus",0]]);function Lb(t){let e;switch(t){case"plane":e=new U.PlaneGeometry;break;case"cube":e=new U.BoxGeometry;break;case"circle":e=new U.CircleGeometry;break;case"sphere":e=new U.SphereGeometry;break;case"icosphere":e=new U.IcosahedronGeometry;break;case"cylinder":e=new U.CylinderGeometry;break;case"cone":e=new U.ConeGeometry;break;case"torus":e=new U.TorusGeometry;break;default:throw new Error(`Unsupported geometry type: ${t}`)}const n=new U.MeshPhysicalMaterial,o=new U.Mesh(e,n);gc.set(t,(gc.get(t)??0)+1);const r=gc.get(t)??0;return o.name=`${t}.${r.toString().padStart(3,"0")}`,o}function Vb(t,e,n){try{const o=n?.mimeType||"application/octet-stream",r=t instanceof Blob?t:new Blob([t],{type:o}),s=URL.createObjectURL(r),i=document.createElement("a");return i.href=s,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),setTimeout(()=>{document.body.removeChild(i),URL.revokeObjectURL(s)},100),{success:!0,error:null}}catch(o){const r=o;return console.error(`Error downloading a file
`,r),{success:!1,error:r}}}async function BI(t){return new Promise(e=>{const n=document.createElement("input");n.type="file",t&&(n.accept=t),document.body.appendChild(n);try{n.addEventListener("change",o=>{const s=o.target.files?.[0];if(!s){e({data:null,error:null});return}const i=URL.createObjectURL(s);e({data:{url:i,filename:s.name,cleanup:()=>URL.revokeObjectURL(i)},error:null})}),n.click()}catch(o){const r=o;console.error(`Error uploading a file
`,r),e({data:null,error:r})}finally{n.remove()}})}const{toast:qI}=vo(),FI=t=>t instanceof U.PointLight||t instanceof U.DirectionalLight||t instanceof U.SpotLight;async function LI(t){try{const e=new U.Scene;t.children.forEach(r=>{if(!r.userData.isHelper){if(r instanceof U.Light&&!FI(r))return;e.add(r.clone(!0))}});const o=await new Tl().parseAsync(e,{binary:!0});Vb(o,"model.glb",{mimeType:"model/gltf-binary"})}catch(e){const n=e;console.error("Export error:",n.message),qI.error("",{title:"Failed to export scene",message:n.message})}}const ft=bu("three",()=>{const t=new U.Scene,e=new U.Scene;t.background=new U.Color("#3D3D3D");const n=ia(),o=VR(t),r=[],s=[],i=q(()=>t.children);t.addEventListener("childadded",()=>{Qo(i)}),t.addEventListener("childremoved",()=>{Qo(i)});function a(){Qo(i)}const{activeCamera:l,switchCamera:u}=PI(),c=je(),d=je(),f=je(),p=V("translate");function m(I){f.value?.setMode(I),p.value=I}pe(l,I=>{!c.value||!d.value||!f.value||(c.value.object=I,d.value.camera=I,f.value.camera=I)});const v=je(),b=je(),g=V(null),{monitor:y,stats:_}=RI();function w(I){if("memory"in performance){const z=(performance.memory.usedJSHeapSize/1048576).toFixed(2);y.value.memory=z}const L=I.info.memory;y.value.geometries=L.geometries,y.value.textures=L.textures}function x(){const I=Fb({type:"point"});I.power=1e3,I.position.set(4,5,1),M(I);const L=Lb("cube");T(L)}async function P(I){if(!I.value)return;const L=I.value;if(n.init(t),!(l.value instanceof U.PerspectiveCamera))return;l.value.aspect=L.clientWidth/L.clientHeight;const{renderer:z,composer:W,handleResize:H}=AI({canvas:L,scene:t,camera:l,gizmo:d});xI({cameraRef:l,transformControlsRef:f,controlsRef:c,gizmoRef:d,renderer:z,helperScene:e}),v.value=W.passes.find(Ce=>Ce instanceof To),b.value=(Ce,Le)=>{if(!v.value||!Ce)return;const De=t.getObjectByProperty("uuid",Ce);if(!(!De||Le&&!De.userData.isSelectable)){if(De instanceof U.Light){f.value?.attach(De),g.value=De;const Xe=t.getObjectByProperty("light",De);Xe&&(v.value.selectedObjects=[Xe]);return}if("light"in De){const Xe=De.light;f.value?.attach(Xe),v.value.selectedObjects=[De],g.value=Xe;return}f.value?.attach(De),v.value.selectedObjects=[De],g.value=De}},f.value?.addEventListener("objectChange",()=>{Qo(g)}),f.value?.addEventListener("object-changed",Ce=>{const Le=Ce.target.object;if(!Le){v.value&&(v.value.selectedObjects=[]);return}if("light"in Le){f.value?.attach(Le.light),g.value=Le.light;return}Le.userData.skipRaycast&&Le.parent&&(f.value?.attach(Le.parent),g.value=Le.parent)});const{pointer:Y,raycaster:fe}=TI(I);let le=!1;f.value?.addEventListener("dragging-changed",Ce=>{le=!Ce.value}),Pt(I,"click",()=>{if(!v.value)return;if(le)return le=!1;fe.setFromCamera(Y,l.value);const Ce=fe.intersectObjects(r,!0);if(!Ce[0]){f.value?.detach();return}b.value?.(Ce[0].object.uuid,!0)}),x();const Se=1e3/30;let tt=0;const it=new U.Clock;let He=0;z.setAnimationLoop(Fe);function Fe(Ce){const Le=Ce-tt;if(Le<Se)return;tt=Ce-Le%Se;const De=it.getDelta();He+=De,H(),o.update(l.value),c.value?.update(De),_.update(),s.forEach(Xe=>{"update"in Xe&&Xe.update()}),W.render(De),d.value?.render(),z.clearDepth(),z.render(e,l.value),He>1&&(He=0,w(z))}}function T(I){I.traverse(L=>{if(L.castShadow=!0,L.receiveShadow=!0,L.userData.isSelectable=!0,L instanceof U.Mesh&&(L.userData.isShadable=!0,L.material.dithering=!0),L instanceof U.Light){const z=cm(L);if(!z)return;I.add(z),n.shadingMode!=="rendered"&&(z.light.visible=!1)}}),bb(I),t.add(I),r.push(I),n.cacheNewObjectMaterials(I),g.value=I,f.value?.attach(I),v.value&&(v.value.selectedObjects=[I])}function M(I){const L=cm(I);L&&(L.userData.isSelectable=!0,L.userData.isSceneLight=!0,I.userData.isSelectable=!0,I.userData.isSceneLight=!0,I instanceof U.RectAreaLight||(I.castShadow=!0),t.add(I),t.add(L),n.shadingMode!=="rendered"&&(I.visible=!1),r.push(L),s.push(L),g.value=I,f.value?.attach(I),v.value&&(v.value.selectedObjects=[L]))}function E(I){if(f.value?.detach(),I instanceof U.Light){const L=[I];t.traverse(z=>{if("light"in z&&z.light.uuid===I.uuid){L.push(z);const W=s.findIndex(H=>z.uuid===H.uuid);if(W<0)return;s.splice(W,1)}}),L.forEach(z=>{t.remove(z),z instanceof U.Light&&z.shadow.map&&z.shadow.map.dispose()})}g.value===I&&(g.value=null),v.value&&(v.value.selectedObjects=v.value.selectedObjects.filter(L=>L!==I)),kI(I)}async function S(I){const L=await CI(I);if(!L)return;const z=I.filename.split(".")[0]||"Model";L.name=z,T(L)}function R(I,L){const z=t.getObjectByProperty("uuid",I);z&&(z.visible=L,Qo(i))}function O(){const I=n.shadingMode;n.setMode("export"),LI(t),n.setMode(I)}return{initScene:P,activeCamera:l,switchCamera:u,importModel:S,outlinePass:v,selectedObject:g,controls:c,addModelToScene:T,setTransformMode:m,currentTransformMode:p,deleteFromScene:E,transformControls:f,addLightToScene:M,monitor:y,selectObject:b,raycasterObjects:r,sceneChildren:i,objectVisibilityUpdate:R,updateScene:a,exportScene:O,scene:t}}),Dn=gn({about:!1,modelsLibrary:!1,textureLibrary:!1,renderImage:!1}),$b=gn({about:null,modelsLibrary:null,textureLibrary:null,renderImage:null});function Vf(){const t=o=>Dn[o];function e(o,r){Dn[o]=!0,$b[o]=r??null}function n(o){Dn[o]=!1}return{open:e,close:n,isOpen:t}}const VI={class:"p-1 text-xl flex items-center gap-1 bg-header-background text-ui-text-text"},$I={class:"flex gap-3 p-3 grow overflow-hidden"},NI={class:"flex flex-col flex-1"},jI={class:"relative flex grow justify-center items-center border border-ui-box-outline rounded overflow-hidden"},zI={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-black/50"},UI=["disabled"],HI={class:"flex gap-4 text-sm text-ui-menu-bg-text mt-1"},GI={class:"flex flex-col max-w-xs w-full"},WI={class:"flex gap-2 text-ui-text-text text-sm justify-end mt-1"},KI=["disabled"],YI=["disabled"],XI=F({__name:"ModalRenderImage",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),{close:n}=Vf(),{toast:o}=vo(),r=ft(),s=ia(),i=V({width:1920,height:1080,selectedFormat:"webp",quality:100,background:!0}),a=gn({resolution:"",format:"",renderTime:0}),l=V(!1),u=V(1920),c=V(1080),d=lo("canvasRef"),f=lo("previewRef"),p=q(()=>!l.value);function m(y){const _=new U.Scene;return _.background=y.background?.clone()??null,_.environment=y.environment??null,_.fog=y.fog?.clone()??null,y.children.forEach(w=>{if(!w.userData.isHelper){const x=w.clone(!0);_.add(x)}}),_}function v(y){if(y instanceof U.OrthographicCamera){const w=new U.OrthographicCamera;return w.copy(y,!0),w}const _=new U.PerspectiveCamera;return _.copy(y,!0),_.aspect=u.value/c.value,_}async function b(y){const _=s.shadingMode;l.value=!0;const w=d.value;if(!w){l.value=!1;return}const{width:x,height:P}=i.value;u.value=x,c.value=P,setTimeout(()=>{try{s.setMode("export");const T=m(r.scene);i.value.background||(T.background=null);const M=v(r.activeCamera);M instanceof U.PerspectiveCamera&&(M.aspect=x/P),w.width=x,w.height=P;const{composer:E,renderer:S}=MI({scene:T,camera:M,canvas:w});S.setSize(x,P,!1),E.setSize(x,P);const R=performance.now();E.render();const O=performance.now();y||(a.resolution=`${i.value.width}x${i.value.height}`,a.format=i.value.selectedFormat,a.renderTime=Number(((O-R)/1e3).toFixed(2)),f.value?.src&&URL.revokeObjectURL(f.value.src),w.toBlob(I=>{!I||!f.value||(f.value.src=URL.createObjectURL(I))},`image/${i.value.selectedFormat}`,i.value.quality/100))}catch(T){console.error(`Render failed:
`,T);const M=T;o.error("",{title:"Image render error",message:M.message})}finally{s.setMode(_),l.value=!1}},10)}async function g(){const y=d.value;if(y){await b(!0);try{const _=await new Promise(P=>{y.toBlob(T=>{P(T)},`image/${i.value.selectedFormat}`,i.value.quality/100)});if(!_)return;const x=`render_${`${i.value.width}x${i.value.height}`}.${i.value.selectedFormat}`;Vb(_,x,{mimeType:`image/${i.value.selectedFormat}`})}catch(_){console.error("Save failed:",_)}}}return(y,_)=>{const w=Ct,x=dk,P=mo,T=zr,M=Ls,E=vu;return k(),D(E,{modelValue:e.value,"onUpdate:modelValue":_[3]||(_[3]=S=>e.value=S),title:"Render Image",class:"w-5xl bg-window-bg block-border flex flex-col h-2/3",root:{modal:!1},resize:"","outside-interaction":""},{default:C(()=>[j("h1",VI,[A(w,{name:"ui/render-image"}),_[4]||(_[4]=Te(" Render Image ",-1))]),j("div",$I,[j("div",NI,[j("div",jI,[j("canvas",{ref_key:"canvasRef",ref:d,class:"max-w-full max-h-full m-auto opacity-0 hidden"},null,512),j("img",{ref_key:"previewRef",ref:f,class:"max-w-full max-h-full m-auto block object-contain"},null,512),l.value?(k(),Q("div",zI,[..._[5]||(_[5]=[j("div",{class:"flex items-center gap-2 text-white"},[j("div",{class:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),j("span",null,"Rendering...")],-1)])])):ie("",!0),_[6]||(_[6]=j("div",{class:"absolute top-2 left-2 text-xs bg-black/50 px-2 py-1 rounded text-white"}," Preview ",-1)),j("button",{class:"btn absolute top-2 right-2 text-xs px-2 py-1 rounded text-white",disabled:l.value,onClick:_[0]||(_[0]=S=>b())}," Render Preview ",8,UI)]),j("div",HI,[j("div",null,[_[7]||(_[7]=j("b",null,"Resolution:",-1)),Te(" "+ge(a.resolution),1)]),j("div",null,[_[8]||(_[8]=j("b",null,"Format:",-1)),Te(" "+ge(a.format),1)]),j("div",null,[_[9]||(_[9]=j("b",null,"Render Time:",-1)),Te(" "+ge(a.renderTime)+"s",1)])])]),j("div",GI,[A(M,null,{default:C(()=>[A(T,{collapsible:"","default-value":["image-settings"],type:"multiple",class:"space-y-1 mr-2.5"},{default:C(()=>[A(P,{label:"Image settings",item:{value:"image-settings"}},{default:C(()=>[A(x,{modelValue:i.value,"onUpdate:modelValue":_[1]||(_[1]=S=>i.value=S)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),j("div",WI,[j("button",{class:"btn",disabled:l.value,onClick:_[2]||(_[2]=S=>h(n)("renderImage"))},"Close",8,KI),j("button",{class:"btn",disabled:!p.value,onClick:g},"Save Image",8,YI)])])])]),_:1},8,["modelValue"])}}}),QI=["src","alt"],ZI={key:0},JI=["href"],eD={key:1},Nb=F({__name:"LibraryAssetDescription",props:{asset:{},authors:{}},setup(t){return(e,n)=>(k(),Q(he,null,[j("img",{src:t.asset.thumbnail_url,alt:t.asset.name,class:"block mx-2 h-40 object-contain"},null,8,QI),j("div",null,ge(t.asset.name),1),t.authors?(k(),Q("div",ZI,[n[1]||(n[1]=j("b",null,"Authors: ",-1)),(k(!0),Q(he,null,lt(t.authors,o=>(k(),Q(he,{key:o.name},[o.link?(k(),Q("a",{key:0,href:o.link,class:"hover:underline text-blue-500",target:"_blank",rel:"author external"},ge(o.name),9,JI)):(k(),Q(he,{key:1},[Te(ge(o.name),1)],64)),Te(" ("+ge(o.responsibility)+") ",1),n[0]||(n[0]=j("br",null,null,-1))],64))),128))])):ie("",!0),t.asset.description?(k(),Q("div",eD,[n[2]||(n[2]=j("b",null,"Description:",-1)),Te(" "+ge(t.asset.description),1)])):ie("",!0),j("div",null,[n[3]||(n[3]=j("b",null,"Categories:",-1)),Te(" "+ge(t.asset.categories.join(", ")),1)]),j("div",null,[n[4]||(n[4]=j("b",null,"Tags:",-1)),Te(" "+ge(t.asset.tags.join(", ")),1)])],64))}}),Ns=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},tD={},nD={class:"rounded text-xs"};function oD(t,e){return k(),Q("div",nD,[...e[0]||(e[0]=[M0('<div class="font-semibold mb-1">License Information</div><div class="mb-2"> All assets from Poly Haven are licensed under <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="external license" target="_blank" class="hover:underline text-blue-500 font-semibold"> CC0 (Public Domain) </a></div><div class="text-gray-400 mb-1"> This means you can use them for any purpose, including commercial projects, without attribution. </div><a href="https://polyhaven.com/license" rel="external license" target="_blank" class="hover:underline text-blue-500"> Learn more about Poly Haven&#39;s license </a>',4)])])}const jb=Ns(tD,[["render",oD]]),{toast:oi}=vo(),ri=WP({baseUrl:"https://api.polyhaven.com",options:{async beforeFetch({options:t}){return t.headers={...t.headers,Accept:"application/json"},{options:t}}},fetchOptions:{mode:"cors"}});function zb(){const t=V([]),e=je([]),n=V(""),o=V([]),r=V(!1),s=V(!1),i=V(!1),a=V(!1),l=je(),u=V([]),c=q(()=>{const T=new Set(t.value.flatMap(M=>M.tags));return Array.from(T).map(M=>M.trim()).sort()}),d=q(()=>t.value.filter(T=>{const M=T.name.toLowerCase().includes(n.value.toLowerCase()),E=T.tags.join(" ").toLowerCase().includes(n.value.toLowerCase()),S=o.value.length>0?o.value.some(R=>T.categories.includes(R)):!0;return(M||E)&&S}));async function f(T){r.value=!0;const M=new URLSearchParams({type:T}),{data:E,error:S}=await ri(`/assets?${M.toString()}`).json();E.value&&(t.value=Object.entries(E.value).map(([R,O])=>({...O,id:R}))),S.value&&oi.error("",{title:"API Error",message:"Failed to load assets"}),r.value=!1}async function p(T){s.value=!0;const{data:M,error:E}=await ri(`/info/${T}`).get().json();return E.value&&oi.error("",{title:"API Error",message:"Failed to load asset details"}),s.value=!1,M.value}async function m(T){const{data:M,error:E}=await ri(`/author/${T}`).get().json();return E.value&&oi.error("",{title:"API Error",message:"Failed to load author info"}),M.value}async function v(T){a.value=!0;const{data:M,error:E}=await ri(`/categories/${T}`).get().json();M.value&&(e.value=Object.entries(M.value).map(([S,R])=>({title:S,count:R})).filter(S=>S.title!=="all").sort((S,R)=>S.title.localeCompare(R.title))),E.value&&oi.error("",{title:"API Error",message:"Failed to fetch categories"}),a.value=!1}async function b(T){i.value=!0;const{data:M,error:E}=await ri(`/files/${T}`).get().json();return E.value&&oi.error("",{title:"API Error",message:"Failed to load asset files"}),i.value=!1,M.value}function g(T,M){const E=Object.keys(T.authors).map(S=>({id:S,responsibility:T.authors[S]}));u.value=[],E.forEach(S=>{m(S.id).then(R=>{R&&u.value.push({...R,responsibility:S.responsibility||""})}).catch(()=>{})}),p(T.id).then(S=>{S&&(l.value={...S,id:T.id})}).catch(()=>{}),b(T.id).then(S=>{S&&M(S)}).catch(()=>{})}function y({files:T,format:M,resolution:E}){if(!T||typeof T!="object")return null;const S=T[E];if(!S||typeof S!="object")return null;const R=S[M];if(!R||typeof R!="object")return null;const O={};if(R.include)for(const[I,L]of Object.entries(R.include)){const z=I.split("/").pop();z&&L.url&&(O[z]=L.url,O[I]=L.url)}return{url:R.url,textureUrlMap:O}}return{assets:t,search:n,categories:e,assetsTags:c,fetchAssets:f,fetchCategories:v,fetchAssetInfo:p,fetchAssetAuthor:m,fetchAssetFiles:b,getModelData:y,filteredAssets:d,categoriesFilter:o,isLoadingAssets:r,isLoadingCategories:a,isLoadingFiles:i,isLoadingInfo:s,isHDRI:T=>T.type===0,isTexture:T=>T.type===1,isModel:T=>T.type===2,getAssetTypeName:T=>({0:"hdris",1:"textures",2:"models"})[T],selectedAsset:l,selectedAssetAuthors:u,selectAsset:g}}function Ub(t){const e=["Bytes","KB","MB","GB"];if(t<=0)return"n/a";const n=parseInt(Math.floor(Math.log(t)/Math.log(1024)).toString(),10);return n===0?`${t} ${e[n]})`:n>3?`${(t/1024**3).toFixed(1)} ${e[3]}`:`${(t/1024**n).toFixed(1)} ${e[n]}`}const rD={class:"p-1 text-xl flex items-center gap-1 bg-header-background"},sD={class:"flex grow overflow-hidden gap-2 p-2"},iD={class:"bg-header-background flex flex-col gap-2 basis-[20%] shrink-0"},aD={class:"h-[300px] bg-ui-box-inner border border-ui-box-outline rounded-ui-box p-2 pr-0 text-sm flex flex-col gap-1"},lD={class:"overflow-hidden bg-ui-box-inner rounded grow"},uD={class:"flex gap-1 flex-wrap p-1"},cD=["onClick"],dD={class:"w-full h-28 p-1"},fD=["src","alt"],pD={class:"text-xs text-center h-10 flex items-center justify-center overflow-hidden text-ellipsis"},hD={key:0,class:"bg-header-background flex flex-col basis-[25%] shrink-0"},mD={class:"flex flex-col gap-1 p-2 text-sm"},vD={key:2},gD=F({__name:"ModalTextureLibrary",props:Os({callback:{type:[Function,null]}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),n=t,{assets:o,search:r,categories:s,fetchAssets:i,fetchCategories:a,filteredAssets:l,categoriesFilter:u,selectedAsset:c,selectAsset:d,selectedAssetAuthors:f}=zb();pe(e,M=>{!M||o.value.length>0||(a("textures"),i("textures"))});function p(){P.value&&(n.callback?.(P.value),e.value=!1)}const m=new Map([["AO","AO"],["rough_ao","Rough AO"],["arm","AO/Rough/Metal"],["Diffuse","Diffuse"],["Displacement","Displacement"],["nor_dx","Normal (DX)"],["nor_gl","Normal (GL)"],["rough","Rough"],["bump","Bump"],["spec","Spec"],["spec_ior","Spec Ior"],["anisotropy_rotation","Anisotropy Rotation"],["anisotropy_strength","Anisotropy Strength"]]),v=V(),b=V(),g=je([]),y=V(),_=q(()=>!b.value||!v.value?[]:Object.keys(v.value[b.value]??{}).map(M=>({label:M,value:M}))),w=V(),x=q(()=>!b.value||!y.value||!v.value||!v.value[b.value]?.[y.value]?[]:Object.keys(v.value?.[b.value]?.[y.value]??{}).map(M=>({label:M,value:M}))),P=q(()=>{if(!b.value||!y.value||!w.value||!v.value)return;const M=b.value,E=y.value,S=w.value;return v.value[M]?.[E]?.[S]});function T(M){v.value=M,g.value=Object.keys(M).map(E=>["blend","gltf","mtlx"].includes(E)?{value:"",label:""}:{value:E,label:m.get(E)||E}).filter(E=>!!E.value)}return(M,E)=>{const S=Ct,R=Ur,O=mt,I=Ls,L=jb,z=Nb,W=Vs,H=vu;return k(),D(H,{modelValue:e.value,"onUpdate:modelValue":E[5]||(E[5]=Y=>e.value=Y),title:"Models Library",class:"w-7xl h-[75dvh] text-ui-text-text block-border bg-window-bg flex flex-col",resize:""},{default:C(()=>[j("h1",rD,[A(S,{name:"ui/asset-browser"}),E[6]||(E[6]=Te(" Asset Browser ",-1))]),j("div",sD,[j("div",iD,[j("div",aD,[E[7]||(E[7]=j("h2",null,"Categories",-1)),A(I,null,{default:C(()=>[A(h(ug),{modelValue:h(u),"onUpdate:modelValue":E[0]||(E[0]=Y=>Re(u)?u.value=Y:null)},{default:C(()=>[(k(!0),Q(he,null,lt(h(s),Y=>(k(),Q("div",{key:"category_"+Y.title,class:"flex flex-col gap-1"},[A(O,{label:Y.title,reverse:"",class:"items-center"},{default:C(()=>[A(R,{value:Y.title},null,8,["value"])]),_:2},1032,["label"])]))),128))]),_:1},8,["modelValue"])]),_:1})]),Oo(j("input",{"onUpdate:modelValue":E[1]||(E[1]=Y=>Re(r)?r.value=Y:null),type:"text",class:"input",placeholder:"Search textures"},null,512),[[Yl,h(r)]]),A(L,{class:"mt-auto"})]),j("div",lD,[A(I,null,{default:C(()=>[j("div",uD,[(k(!0),Q(he,null,lt(h(l),Y=>(k(),Q("div",{key:"asset_"+Y.id,class:En(["w-32 rounded p-1 cursor-pointer hover:bg-gray-500",{"bg-browser-selected":h(c)?.name===Y.name}]),onClick:fe=>h(d)(Y,T)},[j("div",dD,[j("img",{src:Y.thumbnail_url,alt:Y.name,class:"object-contain object-center size-full",loading:"lazy"},null,8,fD)]),j("div",pD,ge(Y.name),1)],10,cD))),128))])]),_:1})]),h(c)?(k(),Q("div",hD,[A(I,null,{default:C(()=>[j("div",mD,[A(z,{asset:h(c),authors:h(f)},null,8,["asset","authors"]),A(W,{modelValue:b.value,"onUpdate:modelValue":E[2]||(E[2]=Y=>b.value=Y),class:"z-10 mt-2",items:g.value,placeholder:"Map type"},null,8,["modelValue","items"]),b.value?(k(),D(W,{key:0,modelValue:y.value,"onUpdate:modelValue":E[3]||(E[3]=Y=>y.value=Y),class:"z-10",items:_.value,placeholder:"Resolution"},null,8,["modelValue","items"])):ie("",!0),y.value?(k(),D(W,{key:1,modelValue:w.value,"onUpdate:modelValue":E[4]||(E[4]=Y=>w.value=Y),class:"z-10",items:x.value,placeholder:"Format"},null,8,["modelValue","items"])):ie("",!0),P.value?(k(),Q("div",vD,[E[8]||(E[8]=j("b",null,"Size: ",-1)),Te(ge(h(Ub)(P.value.size)),1)])):ie("",!0)])]),_:1}),j("button",{type:"button",class:"btn mt-auto",onClick:p},"Import Texture")])):ie("",!0)])]),_:1},8,["modelValue"])}}}),bD={class:"p-1 text-xl flex items-center gap-1 bg-header-background"},yD={class:"flex grow gap-2 p-2 overflow-hidden"},_D={class:"bg-header-background flex flex-col gap-2 basis-[20%] shrink-0"},wD={class:"h-[300px] bg-ui-box-inner border border-ui-box-outline rounded-ui-box p-2 pr-0 text-sm flex flex-col gap-1"},xD={class:"overflow-hidden bg-ui-box-inner rounded grow"},SD={class:"flex gap-1 flex-wrap p-1"},CD=["onClick"],TD={class:"w-full h-28 p-1"},ED=["src","alt"],AD={class:"text-xs text-center h-10 flex items-center justify-center overflow-hidden text-ellipsis"},MD={key:0,class:"bg-header-background flex flex-col basis-[25%] shrink-0"},PD={class:"flex flex-col gap-1 p-2 text-sm"},kD=F({__name:"ModalModelsLibrary",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),{assets:n,search:o,categories:r,fetchAssets:s,fetchCategories:i,filteredAssets:a,categoriesFilter:l,getModelData:u,selectedAsset:c,selectedAssetAuthors:d,selectAsset:f}=zb();pe(e,w=>{!w||n.value.length>0||(i("models"),s("models"))});const p=V(),m=je([]),v=V(),b=q(()=>{if(!v.value||!p.value)return null;const w=p.value[v.value]?.gltf;if(!w)return null;const x=w.include?Object.values(w.include):[],P=w.size+x.reduce((T,M)=>M.size+T,0);return{size:Ub(P)}});function g(w){if("gltf"in w){const x=w.gltf;if(!x)return;p.value=x,m.value=Object.keys(x).map(P=>({value:P,label:P})),v.value=m.value[0]?.value}}const y=ft();function _(){if(!v.value||!c.value||!p.value)return;const w=u({format:"gltf",resolution:v.value,files:p.value});w&&y.importModel({...w,format:"gltf",filename:c.value.name}),e.value=!1}return(w,x)=>{const P=Ct,T=Ur,M=mt,E=Ls,S=jb,R=Nb,O=Vs,I=vu;return k(),D(I,{modelValue:e.value,"onUpdate:modelValue":x[3]||(x[3]=L=>e.value=L),title:"Models Library",class:"w-7xl h-[75dvh] text-ui-text-text block-border bg-window-bg flex flex-col",resize:""},{default:C(()=>[j("h1",bD,[A(P,{name:"ui/asset-browser"}),x[4]||(x[4]=Te(" Asset Browser ",-1))]),j("div",yD,[j("div",_D,[j("div",wD,[x[5]||(x[5]=j("h2",null,"Categories",-1)),A(E,null,{default:C(()=>[A(h(ug),{modelValue:h(l),"onUpdate:modelValue":x[0]||(x[0]=L=>Re(l)?l.value=L:null)},{default:C(()=>[(k(!0),Q(he,null,lt(h(r),L=>(k(),Q("div",{key:"category_"+L.title,class:"flex flex-col gap-1"},[A(M,{label:L.title,reverse:"",class:"items-center"},{default:C(()=>[A(T,{value:L.title},null,8,["value"])]),_:2},1032,["label"])]))),128))]),_:1},8,["modelValue"])]),_:1})]),Oo(j("input",{"onUpdate:modelValue":x[1]||(x[1]=L=>Re(o)?o.value=L:null),type:"text",class:"input",placeholder:"Search models"},null,512),[[Yl,h(o)]]),A(S,{class:"mt-auto"})]),j("div",xD,[A(E,null,{default:C(()=>[j("div",SD,[(k(!0),Q(he,null,lt(h(a),L=>(k(),Q("div",{key:"asset_"+L.id,class:En(["w-32 rounded p-1 cursor-pointer hover:bg-gray-500",{"bg-browser-selected":h(c)?.name===L.name}]),onClick:z=>h(f)(L,g)},[j("div",TD,[j("img",{src:L.thumbnail_url,alt:L.name,class:"object-contain object-center size-full",loading:"lazy"},null,8,ED)]),j("div",AD,ge(L.name),1)],10,CD))),128))])]),_:1})]),h(c)?(k(),Q("div",MD,[A(E,null,{default:C(()=>[j("div",PD,[A(R,{asset:h(c),authors:h(d)},null,8,["asset","authors"]),A(M,{label:"Resolution",class:"z-10 mt-2"},{default:C(()=>[A(O,{modelValue:v.value,"onUpdate:modelValue":x[2]||(x[2]=L=>v.value=L),class:"z-10",items:m.value},null,8,["modelValue","items"])]),_:1}),j("div",null,[x[6]||(x[6]=j("b",null,"Size: ",-1)),Te(ge(b.value?.size),1)])])]),_:1}),j("button",{type:"button",class:"btn mt-auto",onClick:_},"Import model")])):ie("",!0)])]),_:1},8,["modelValue"])}}}),Hb="/favicon.svg",Gb="0.7.1",RD={class:"flex max-w-xl flex-col text-ui-menu-bg-text"},OD={class:"flex items-center gap-4 p-4"},ID={class:"text-sm"},DD={class:"flex flex-1 justify-between gap-2.5 p-4"},BD={class:"flex w-[200px] flex-col justify-end gap-1 text-sm *:rounded *:p-0.5 *:leading-none **:inline-block *:hover:bg-gray-500/50"},qD={href:"https://www.blender.org/",target:"_blank"},FD={href:"https://threejs.org/",target:"_blank"},LD={href:"https://vuejs.org/",target:"_blank"},VD={href:"https://github.com/zabastx/vue-mixeur",target:"_blank"},$D=F({__name:"ModalAbout",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(t,{expose:e}){const n=Ot(t,"modelValue");return e({open:()=>n.value=!0,close:()=>n.value=!1}),(o,r)=>{const s=Ct,i=vu;return k(),D(i,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=a=>n.value=a),title:"About Mixeur",class:"max-w-xl bg-editor-border"},{default:C(()=>[j("div",RD,[j("div",OD,[r[2]||(r[2]=j("img",{class:"inline-block size-[1em] scale-125 text-5xl",src:Hb,alt:"","aria-hidden":""},null,-1)),j("div",null,[r[1]||(r[1]=j("h1",{class:"text-2xl font-bold text-white"},"Vue Mixeur",-1)),j("p",ID,"Version "+ge(h(Gb)),1)])]),j("div",DD,[r[7]||(r[7]=j("div",{class:"w-full max-w-xs space-y-4"},[j("p",{class:"text-sm"},"A Blender-like web-based 3D editor built with Vue.js and Three.js"),j("div",null,[j("h3",{class:"mb-2 text-sm font-semibold"},"Credits"),j("div",{class:"space-y-1 text-xs"},[j("div",null,[j("b",null,"Inspired by:"),Te(" Blender")]),j("div",null,[j("b",null,"Built with:"),Te(" Vue.js, Three.js")])])]),j("p",{class:"text-xs"},"Licensed under MIT License")],-1)),j("div",BD,[j("a",qD,[A(s,{name:"misc/url"}),r[3]||(r[3]=Te(" Blender ",-1))]),j("a",FD,[A(s,{name:"misc/url"}),r[4]||(r[4]=Te(" Three.js ",-1))]),j("a",LD,[A(s,{name:"misc/url"}),r[5]||(r[5]=Te(" Vue.js ",-1))]),j("a",VD,[A(s,{name:"misc/url"}),r[6]||(r[6]=Te(" GitHub repository ",-1))])])])])]),_:1},8,["modelValue"])}}}),ND=F({__name:"ModalCollection",setup(t){return(e,n)=>{const o=$D,r=kD,s=gD,i=XI;return k(),Q(he,null,[A(o,{modelValue:h(Dn).about,"onUpdate:modelValue":n[0]||(n[0]=a=>h(Dn).about=a)},null,8,["modelValue"]),A(r,{modelValue:h(Dn).modelsLibrary,"onUpdate:modelValue":n[1]||(n[1]=a=>h(Dn).modelsLibrary=a)},null,8,["modelValue"]),A(s,{modelValue:h(Dn).textureLibrary,"onUpdate:modelValue":n[2]||(n[2]=a=>h(Dn).textureLibrary=a),callback:h($b).textureLibrary},null,8,["modelValue","callback"]),A(i,{modelValue:h(Dn).renderImage,"onUpdate:modelValue":n[3]||(n[3]=a=>h(Dn).renderImage=a)},null,8,["modelValue"])],64)}}}),jD={class:"flex justify-center p-1"},zD={class:"flex flex-col gap-1"},UD=F({__name:"ObjectVisibility",setup(t){const e=ft(),n=q(()=>e.selectedObject);return(o,r)=>{const s=Ur,i=mt;return k(),Q("div",jD,[j("div",zD,[A(i,{reverse:"",label:"Selectable"},{default:C(()=>[A(s,{modelValue:n.value.userData.isSelectable,"onUpdate:modelValue":r[0]||(r[0]=a=>n.value.userData.isSelectable=a)},null,8,["modelValue"])]),_:1}),A(i,{reverse:"",label:"Frustum Culled"},{default:C(()=>[A(s,{modelValue:n.value.frustumCulled,"onUpdate:modelValue":r[1]||(r[1]=a=>n.value.frustumCulled=a)},null,8,["modelValue"])]),_:1}),"isLight"in n.value?ie("",!0):(k(),Q(he,{key:0},[A(i,{reverse:"",label:"Cast shadow"},{default:C(()=>[A(s,{modelValue:n.value.castShadow,"onUpdate:modelValue":r[2]||(r[2]=a=>n.value.castShadow=a)},null,8,["modelValue"])]),_:1}),A(i,{reverse:"",label:"Receive shadow"},{default:C(()=>[A(s,{modelValue:n.value.receiveShadow,"onUpdate:modelValue":r[3]||(r[3]=a=>n.value.receiveShadow=a)},null,8,["modelValue"])]),_:1})],64))])])}}}),HD={key:0,class:"flex flex-col items-end gap-0.5"},GD=F({__name:"TransformScale",setup(t){const e=ft(),n={minimumFractionDigits:3};return(o,r)=>{const s=_n,i=mt;return h(e).selectedObject?(k(),Q("div",HD,[A(i,{label:"Scale X"},{default:C(()=>[A(s,{modelValue:h(e).selectedObject.scale.x,"onUpdate:modelValue":r[0]||(r[0]=a=>h(e).selectedObject.scale.x=a),step:.01,"format-options":n},null,8,["modelValue"])]),_:1}),A(i,{label:"Y"},{default:C(()=>[A(s,{modelValue:h(e).selectedObject.scale.y,"onUpdate:modelValue":r[1]||(r[1]=a=>h(e).selectedObject.scale.y=a),"format-options":n,step:.01},null,8,["modelValue"])]),_:1}),A(i,{label:"Z"},{default:C(()=>[A(s,{modelValue:h(e).selectedObject.scale.z,"onUpdate:modelValue":r[2]||(r[2]=a=>h(e).selectedObject.scale.z=a),"format-options":n,step:.01},null,8,["modelValue"])]),_:1})])):ie("",!0)}}}),WD={class:"flex flex-col items-end gap-0.5"},KD=F({__name:"TransformRotation",setup(t){const e=ft(),n=q({get(){return U.MathUtils.radToDeg(e.selectedObject.rotation.x)},set(i){e.selectedObject&&(e.selectedObject.rotation.x=U.MathUtils.degToRad(i))}}),o=q({get(){return U.MathUtils.radToDeg(e.selectedObject.rotation.y)},set(i){e.selectedObject&&(e.selectedObject.rotation.y=U.MathUtils.degToRad(i))}}),r=q({get(){return U.MathUtils.radToDeg(e.selectedObject.rotation.z)},set(i){e.selectedObject&&(e.selectedObject.rotation.z=U.MathUtils.degToRad(i))}}),s={style:"unit",unitDisplay:"narrow",unit:"degree"};return(i,a)=>{const l=_n,u=mt;return k(),Q("div",WD,[A(u,{label:"Rotation X"},{default:C(()=>[A(l,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),label:"Rotation X","format-options":s},null,8,["modelValue"])]),_:1}),A(u,{label:"Y"},{default:C(()=>[A(l,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=c=>o.value=c),label:"Y","format-options":s},null,8,["modelValue"])]),_:1}),A(u,{label:"Z"},{default:C(()=>[A(l,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=c=>r.value=c),label:"Z","format-options":s},null,8,["modelValue"])]),_:1})])}}}),YD={key:0,class:"flex flex-col items-end gap-0.5"},XD=F({__name:"TransformLocation",setup(t){const e=ft();return(n,o)=>{const r=_n,s=mt;return h(e).selectedObject?(k(),Q("div",YD,[A(s,{label:"Location X"},{default:C(()=>[A(r,{modelValue:h(e).selectedObject.position.x,"onUpdate:modelValue":o[0]||(o[0]=i=>h(e).selectedObject.position.x=i),step:.01,label:"Location X"},null,8,["modelValue"])]),_:1}),A(s,{label:"Y"},{default:C(()=>[A(r,{modelValue:h(e).selectedObject.position.y,"onUpdate:modelValue":o[1]||(o[1]=i=>h(e).selectedObject.position.y=i),step:.01,label:"Y"},null,8,["modelValue"])]),_:1}),A(s,{label:"Z"},{default:C(()=>[A(r,{modelValue:h(e).selectedObject.position.z,"onUpdate:modelValue":o[2]||(o[2]=i=>h(e).selectedObject.position.z=i),step:.01,label:"Z"},null,8,["modelValue"])]),_:1})])):ie("",!0)}}}),QD={class:"p-1"},ZD=F({__name:"ObjectProperties",setup(t){const e=ft();return(n,o)=>{const r=mt,s=XD,i=KD,a=GD,l=mo,u=UD,c=zr;return h(e).selectedObject?(k(),Q(he,{key:0},[A(r,{label:"Name",class:"mb-2.5 text-sm"},{default:C(()=>[Oo(j("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>h(e).selectedObject.name=d),type:"text",class:"input",onChange:o[1]||(o[1]=(...d)=>h(e).updateScene&&h(e).updateScene(...d))},null,544),[[Yl,h(e).selectedObject.name]])]),_:1}),A(c,{collapsible:"",type:"multiple",class:"flex gap-0.5 flex-col"},{default:C(()=>[A(l,{label:"Transform",item:{value:"transform"}},{default:C(()=>[j("div",QD,[A(s),A(i,{class:"my-2"}),A(a)])]),_:1}),A(l,{label:"Visibility",item:{value:"visibility"}},{default:C(()=>[A(u)]),_:1})]),_:1})],64)):ie("",!0)}}});function Wb(t,e){return(Math.round(t/e*1e3)/1e3).toPrecision(3)}const JD={class:"border border-ui-slider-outline rounded"},eB={class:"flex justify-between items-center text-ui-slider-text text-xs h-full relative z-1 p-1"},tB=F({__name:"ColorPickerRgb",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),n=q({set(a){e.value={...e.value,r:a[0]}},get(){return[e.value.r||0]}}),o=q({set(a){e.value={...e.value,g:a[0]}},get(){return[e.value.g||0]}}),r=q({set(a){e.value={...e.value,b:a[0]}},get(){return[e.value.b||0]}}),s=q({set(a){e.value={...e.value,a:a[0]}},get(){return[e.value.a||0]}}),i=[{prop:"red",title:"Red",value:n,min:0,max:255,step:1},{prop:"green",title:"Green",value:o,min:0,max:255,step:1},{prop:"blue",title:"Blue",value:r,min:0,max:255,step:1},{prop:"alpha",title:"Alpha",value:s,min:0,max:1,step:.001}];return(a,l)=>{const u=Af;return k(),Q("div",JD,[(k(),Q(he,null,lt(i,c=>A(u,{key:c.prop,modelValue:c.value.value,"onUpdate:modelValue":d=>c.value.value=d,root:{min:c.min,max:c.max,step:c.step},group:""},{default:C(()=>[j("div",eB,[j("span",null,ge(c.title),1),j("span",null,ge(h(Wb)(c.value.value[0]||0,c.max)),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","root"])),64))])}}}),nB={class:"border border-ui-slider-outline rounded"},oB={class:"flex justify-between items-center text-ui-slider-text text-xs h-full relative z-1 p-1"},rB=F({__name:"ColorPickerHsv",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),n=q({set(a){e.value={...e.value,h:a[0]}},get(){return[e.value.h||0]}}),o=q({set(a){e.value={...e.value,s:a[0]}},get(){return[e.value.s||0]}}),r=q({set(a){e.value={...e.value,v:a[0]}},get(){return[e.value.v||0]}}),s=q({set(a){e.value={...e.value,a:a[0]}},get(){return[e.value.a||0]}}),i=[{prop:"hue",title:"Hue",value:n,min:0,max:360,step:1},{prop:"saturation",title:"Saturation",value:o,min:0,max:100,step:1},{prop:"value",title:"Value",value:r,min:0,max:100,step:1},{prop:"alpha",title:"Alpha",value:s,min:0,max:1,step:.001}];return(a,l)=>{const u=Af;return k(),Q("div",nB,[(k(),Q(he,null,lt(i,c=>A(u,{key:c.prop,modelValue:c.value.value,"onUpdate:modelValue":d=>c.value.value=d,root:{min:c.min,max:c.max,step:c.step},group:""},{default:C(()=>[j("div",oB,[j("span",null,ge(c.title),1),j("span",null,ge(h(Wb)(c.value.value[0]||0,c.max)),1)])]),_:2},1032,["modelValue","onUpdate:modelValue","root"])),64))])}}});var at,Al,Kb,wd,Yb,tr={},$f=[],sB=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function Jo(t,e){for(var n in e)t[n]=e[n];return t}function Xb(t){var e=t.parentNode;e&&e.removeChild(t)}function Ye(t,e,n){var o,r,s,i,a=arguments;if(e=Jo({},e),arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(n!=null&&(e.children=n),t!=null&&t.defaultProps!=null)for(r in t.defaultProps)e[r]===void 0&&(e[r]=t.defaultProps[r]);return i=e.key,(s=e.ref)!=null&&delete e.ref,i!=null&&delete e.key,xd(t,e,i,s)}function xd(t,e,n,o){var r={type:t,props:e,key:n,ref:o,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return at.vnode&&at.vnode(r),r}function wu(t){return t.children}function iB(t){if(t==null||typeof t=="boolean")return null;if(typeof t=="string"||typeof t=="number")return xd(null,t,null,null);if(t.__e!=null||t.__c!=null){var e=xd(t.type,t.props,t.key,null);return e.__e=t.__e,e}return t}function Cs(t,e){this.props=t,this.context=e}function Ml(t,e){if(e==null)return t.__p?Ml(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ml(t):null}function Qb(t){var e,n;if((t=t.__p)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Qb(t)}}function bc(t){(!t.__d&&(t.__d=!0)&&Al.push(t)===1||wd!==at.debounceRendering)&&(wd=at.debounceRendering,(at.debounceRendering||Kb)(aB))}function aB(){var t,e,n,o,r,s,i,a;for(Al.sort(function(l,u){return u.__v.__b-l.__v.__b});t=Al.pop();)t.__d&&(n=void 0,o=void 0,s=(r=(e=t).__v).__e,i=e.__P,a=e.u,e.u=!1,i&&(n=[],o=jf(i,r,Jo({},r),e.__n,i.ownerSVGElement!==void 0,null,n,a,s??Ml(r)),Jb(n,r),o!=s&&Qb(r)))}function Zb(t,e,n,o,r,s,i,a,l){var u,c,d,f,p,m,v,b=n&&n.__k||$f,g=b.length;if(a==tr&&(a=s!=null?s[0]:g?Ml(n,0):null),u=0,e.__k=Nf(e.__k,function(y){if(y!=null){if(y.__p=e,y.__b=e.__b+1,(d=b[u])===null||d&&y.key==d.key&&y.type===d.type)b[u]=void 0;else for(c=0;c<g;c++){if((d=b[c])&&y.key==d.key&&y.type===d.type){b[c]=void 0;break}d=null}if(f=jf(t,y,d=d||tr,o,r,s,i,null,a,l),(c=y.ref)&&d.ref!=c&&(v||(v=[])).push(c,y.__c||f,y),f!=null){if(m==null&&(m=f),y.l!=null)f=y.l,y.l=null;else if(s==d||f!=a||f.parentNode==null){e:if(a==null||a.parentNode!==t)t.appendChild(f);else{for(p=a,c=0;(p=p.nextSibling)&&c<g;c+=2)if(p==f)break e;t.insertBefore(f,a)}e.type=="option"&&(t.value="")}a=f.nextSibling,typeof e.type=="function"&&(e.l=f)}}return u++,y}),e.__e=m,s!=null&&typeof e.type!="function")for(u=s.length;u--;)s[u]!=null&&Xb(s[u]);for(u=g;u--;)b[u]!=null&&ty(b[u],b[u]);if(v)for(u=0;u<v.length;u++)ey(v[u],v[++u],v[++u])}function Nf(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var o=0;o<t.length;o++)Nf(t[o],e,n);else n.push(e?e(iB(t)):t);return n}function lB(t,e,n,o,r){var s;for(s in n)s in e||fm(t,s,null,n[s],o);for(s in e)r&&typeof e[s]!="function"||s==="value"||s==="checked"||n[s]===e[s]||fm(t,s,e[s],n[s],o)}function dm(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&sB.test(e)===!1?n+"px":n??""}function fm(t,e,n,o,r){var s,i,a,l,u;if(!((e=r?e==="className"?"class":e:e==="class"?"className":e)==="key"||e==="children"))if(e==="style")if(s=t.style,typeof n=="string")s.cssText=n;else{if(typeof o=="string"&&(s.cssText="",o=null),o)for(i in o)n&&i in n||dm(s,i,"");if(n)for(a in n)o&&n[a]===o[a]||dm(s,a,n[a])}else e[0]==="o"&&e[1]==="n"?(l=e!==(e=e.replace(/Capture$/,"")),u=e.toLowerCase(),e=(u in t?u:e).slice(2),n?(o||t.addEventListener(e,pm,l),(t.t||(t.t={}))[e]=n):t.removeEventListener(e,pm,l)):e!=="list"&&e!=="tagName"&&e!=="form"&&!r&&e in t?t[e]=n??"":typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1?t.removeAttribute(e):t.setAttribute(e,n))}function pm(t){return this.t[t.type](at.event?at.event(t):t)}function jf(t,e,n,o,r,s,i,a,l,u){var c,d,f,p,m,v,b,g,y,_,w=e.type;if(e.constructor!==void 0)return null;(c=at.__b)&&c(e);try{e:if(typeof w=="function"){if(g=e.props,y=(c=w.contextType)&&o[c.__c],_=c?y?y.props.value:c.__p:o,n.__c?b=(d=e.__c=n.__c).__p=d.__E:("prototype"in w&&w.prototype.render?e.__c=d=new w(g,_):(e.__c=d=new Cs(g,_),d.constructor=w,d.render=cB),y&&y.sub(d),d.props=g,d.state||(d.state={}),d.context=_,d.__n=o,f=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),w.getDerivedStateFromProps!=null&&Jo(d.__s==d.state?d.__s=Jo({},d.__s):d.__s,w.getDerivedStateFromProps(g,d.__s)),f)w.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&i.push(d);else{if(w.getDerivedStateFromProps==null&&a==null&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(g,_),!a&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(g,d.__s,_)===!1){for(d.props=g,d.state=d.__s,d.__d=!1,d.__v=e,e.__e=l!=null?l!==n.__e?l:n.__e:null,e.__k=n.__k,c=0;c<e.__k.length;c++)e.__k[c]&&(e.__k[c].__p=e);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(g,d.__s,_)}for(p=d.props,m=d.state,d.context=_,d.props=g,d.state=d.__s,(c=at.__r)&&c(e),d.__d=!1,d.__v=e,d.__P=t,c=d.render(d.props,d.state,d.context),e.__k=Nf(c!=null&&c.type==wu&&c.key==null?c.props.children:c),d.getChildContext!=null&&(o=Jo(Jo({},o),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(v=d.getSnapshotBeforeUpdate(p,m)),Zb(t,e,n,o,r,s,i,l,u),d.base=e.__e;c=d.__h.pop();)d.__s&&(d.state=d.__s),c.call(d);f||p==null||d.componentDidUpdate==null||d.componentDidUpdate(p,m,v),b&&(d.__E=d.__p=null)}else e.__e=uB(n.__e,e,n,o,r,s,i,u);(c=at.diffed)&&c(e)}catch(x){at.__e(x,e,n)}return e.__e}function Jb(t,e){for(var n;n=t.pop();)try{n.componentDidMount()}catch(o){at.__e(o,n.__v)}at.__c&&at.__c(e)}function uB(t,e,n,o,r,s,i,a){var l,u,c,d,f=n.props,p=e.props;if(r=e.type==="svg"||r,t==null&&s!=null){for(l=0;l<s.length;l++)if((u=s[l])!=null&&(e.type===null?u.nodeType===3:u.localName===e.type)){t=u,s[l]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(p);t=r?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),s=null}return e.type===null?f!==p&&(s!=null&&(s[s.indexOf(t)]=null),t.data=p):e!==n&&(s!=null&&(s=$f.slice.call(t.childNodes)),c=(f=n.props||tr).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,a||(d||c)&&(d&&c&&d.__html==c.__html||(t.innerHTML=d&&d.__html||"")),lB(t,p,f,r,a),e.__k=e.props.children,d||Zb(t,e,n,o,e.type!=="foreignObject"&&r,s,i,tr,a),a||("value"in p&&p.value!==void 0&&p.value!==t.value&&(t.value=p.value==null?"":p.value),"checked"in p&&p.checked!==void 0&&p.checked!==t.checked&&(t.checked=p.checked))),t}function ey(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){at.__e(o,n)}}function ty(t,e,n){var o,r,s;if(at.unmount&&at.unmount(t),(o=t.ref)&&ey(o,null,e),n||typeof t.type=="function"||(n=(r=t.__e)!=null),t.__e=t.l=null,(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){at.__e(i,e)}o.base=o.__P=null}if(o=t.__k)for(s=0;s<o.length;s++)o[s]&&ty(o[s],e,n);r!=null&&Xb(r)}function cB(t,e,n){return this.constructor(t,n)}function dB(t,e,n){var o,r,s;at.__p&&at.__p(t,e),r=(o=n===Yb)?null:e.__k,t=Ye(wu,null,[t]),s=[],jf(e,e.__k=t,r||tr,tr,e.ownerSVGElement!==void 0,r?null:$f.slice.call(e.childNodes),s,!1,tr,o),Jb(s,t)}at={},Cs.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=Jo({},this.state));(typeof t!="function"||(t=t(n,this.props)))&&Jo(n,t),t!=null&&this.__v&&(this.u=!1,e&&this.__h.push(e),bc(this))},Cs.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,bc(this))},Cs.prototype.render=wu,Al=[],Kb=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wd=at.debounceRendering,at.__e=function(t,e,n){for(var o;e=e.__p;)if((o=e.__c)&&!o.__p)try{if(o.constructor&&o.constructor.getDerivedStateFromError!=null)o.setState(o.constructor.getDerivedStateFromError(t));else{if(o.componentDidCatch==null)continue;o.componentDidCatch(t)}return bc(o.__E=o)}catch(r){t=r}throw t},Yb=tr;function fB(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pB(t,e,n){return e&&fB(t.prototype,e),t}function sn(){return sn=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var o=e[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},sn.apply(this,arguments)}var hB="[-\\+]?\\d+%?",mB="[-\\+]?\\d*\\.\\d+%?",Mr="(?:"+mB+")|(?:"+hB+")",ny="[\\s|\\(]+("+Mr+")[,|\\s]+("+Mr+")[,|\\s]+("+Mr+")\\s*\\)?",oy="[\\s|\\(]+("+Mr+")[,|\\s]+("+Mr+")[,|\\s]+("+Mr+")[,|\\s]+("+Mr+")\\s*\\)?",vB=new RegExp("rgb"+ny),gB=new RegExp("rgba"+oy),bB=new RegExp("hsl"+ny),yB=new RegExp("hsla"+oy),xu="^(?:#?|0x?)",Pr="([0-9a-fA-F]{1})",kr="([0-9a-fA-F]{2})",_B=new RegExp(xu+Pr+Pr+Pr+"$"),wB=new RegExp(xu+Pr+Pr+Pr+Pr+"$"),xB=new RegExp(xu+kr+kr+kr+"$"),SB=new RegExp(xu+kr+kr+kr+kr+"$"),CB=2e3,TB=4e4,Ga=Math.log,is=Math.round,si=Math.floor;function xn(t,e,n){return Math.min(Math.max(t,e),n)}function nn(t,e){var n=t.indexOf("%")>-1,o=parseFloat(t);return n?e/100*o:o}function on(t){return parseInt(t,16)}function Cr(t){return t.toString(16).padStart(2,"0")}var vs=(function(){function t(n,o){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=o,this.initialValue=sn({},this.$)}var e=t.prototype;return e.set=function(o){if(typeof o=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(o)?this.hexString=o:/^rgba?/.test(o)?this.rgbString=o:/^hsla?/.test(o)&&(this.hslString=o);else if(typeof o=="object")o instanceof t?this.hsva=o.hsva:"r"in o&&"g"in o&&"b"in o?this.rgb=o:"h"in o&&"s"in o&&"v"in o?this.hsv=o:"h"in o&&"s"in o&&"l"in o?this.hsl=o:"kelvin"in o&&(this.kelvin=o.kelvin);else throw new Error("Invalid color value")},e.setChannel=function(o,r,s){var i;this[o]=sn({},this[o],(i={},i[r]=s,i))},e.reset=function(){this.hsva=this.initialValue},e.clone=function(){return new t(this)},e.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(o){var r=o.h/60,s=o.s/100,i=o.v/100,a=si(r),l=r-a,u=i*(1-s),c=i*(1-l*s),d=i*(1-(1-l)*s),f=a%6,p=[i,c,u,u,d,i][f],m=[d,i,i,c,u,u][f],v=[u,u,d,i,i,c][f];return{r:xn(p*255,0,255),g:xn(m*255,0,255),b:xn(v*255,0,255)}},t.rgbToHsv=function(o){var r=o.r/255,s=o.g/255,i=o.b/255,a=Math.max(r,s,i),l=Math.min(r,s,i),u=a-l,c=0,d=a,f=a===0?0:u/a;switch(a){case l:c=0;break;case r:c=(s-i)/u+(s<i?6:0);break;case s:c=(i-r)/u+2;break;case i:c=(r-s)/u+4;break}return{h:c*60%360,s:xn(f*100,0,100),v:xn(d*100,0,100)}},t.hsvToHsl=function(o){var r=o.s/100,s=o.v/100,i=(2-r)*s,a=i<=1?i:2-i,l=a<1e-9?0:r*s/a;return{h:o.h,s:xn(l*100,0,100),l:xn(i*50,0,100)}},t.hslToHsv=function(o){var r=o.l*2,s=o.s*(r<=100?r:200-r)/100,i=r+s<1e-9?0:2*s/(r+s);return{h:o.h,s:xn(i*100,0,100),v:xn((r+s)/2,0,100)}},t.kelvinToRgb=function(o){var r=o/100,s,i,a;return r<66?(s=255,i=-155.25485562709179-.44596950469579133*(i=r-2)+104.49216199393888*Ga(i),a=r<20?0:-254.76935184120902+.8274096064007395*(a=r-10)+115.67994401066147*Ga(a)):(s=351.97690566805693+.114206453784165*(s=r-55)-40.25366309332127*Ga(s),i=325.4494125711974+.07943456536662342*(i=r-50)-28.0852963507957*Ga(i),a=255),{r:xn(si(s),0,255),g:xn(si(i),0,255),b:xn(si(a),0,255)}},t.rgbToKelvin=function(o){for(var r=o.r,s=o.b,i=.4,a=CB,l=TB,u;l-a>i;){u=(l+a)*.5;var c=t.kelvinToRgb(u);c.b/c.r>=s/r?l=u:a=u}return u},pB(t,[{key:"hsv",get:function(){var o=this.$;return{h:o.h,s:o.s,v:o.v}},set:function(o){var r=this.$;if(o=sn({},r,o),this.onChange){var s={h:!1,v:!1,s:!1,a:!1};for(var i in r)s[i]=o[i]!=r[i];this.$=o,(s.h||s.s||s.v||s.a)&&this.onChange(this,s)}else this.$=o}},{key:"hsva",get:function(){return sn({},this.$)},set:function(o){this.hsv=o}},{key:"hue",get:function(){return this.$.h},set:function(o){this.hsv={h:o}}},{key:"saturation",get:function(){return this.$.s},set:function(o){this.hsv={s:o}}},{key:"value",get:function(){return this.$.v},set:function(o){this.hsv={v:o}}},{key:"alpha",get:function(){return this.$.a},set:function(o){this.hsv=sn({},this.hsv,{a:o})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(o){this.rgb=t.kelvinToRgb(o)}},{key:"red",get:function(){var o=this.rgb;return o.r},set:function(o){this.rgb=sn({},this.rgb,{r:o})}},{key:"green",get:function(){var o=this.rgb;return o.g},set:function(o){this.rgb=sn({},this.rgb,{g:o})}},{key:"blue",get:function(){var o=this.rgb;return o.b},set:function(o){this.rgb=sn({},this.rgb,{b:o})}},{key:"rgb",get:function(){var o=t.hsvToRgb(this.$),r=o.r,s=o.g,i=o.b;return{r:is(r),g:is(s),b:is(i)}},set:function(o){this.hsv=sn({},t.rgbToHsv(o),{a:o.a===void 0?1:o.a})}},{key:"rgba",get:function(){return sn({},this.rgb,{a:this.alpha})},set:function(o){this.rgb=o}},{key:"hsl",get:function(){var o=t.hsvToHsl(this.$),r=o.h,s=o.s,i=o.l;return{h:is(r),s:is(s),l:is(i)}},set:function(o){this.hsv=sn({},t.hslToHsv(o),{a:o.a===void 0?1:o.a})}},{key:"hsla",get:function(){return sn({},this.hsl,{a:this.alpha})},set:function(o){this.hsl=o}},{key:"rgbString",get:function(){var o=this.rgb;return"rgb("+o.r+", "+o.g+", "+o.b+")"},set:function(o){var r,s,i,a,l=1;if((r=vB.exec(o))?(s=nn(r[1],255),i=nn(r[2],255),a=nn(r[3],255)):(r=gB.exec(o))&&(s=nn(r[1],255),i=nn(r[2],255),a=nn(r[3],255),l=nn(r[4],1)),r)this.rgb={r:s,g:i,b:a,a:l};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var o=this.rgba;return"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")"},set:function(o){this.rgbString=o}},{key:"hexString",get:function(){var o=this.rgb;return"#"+Cr(o.r)+Cr(o.g)+Cr(o.b)},set:function(o){var r,s,i,a,l=255;if((r=_B.exec(o))?(s=on(r[1])*17,i=on(r[2])*17,a=on(r[3])*17):(r=wB.exec(o))?(s=on(r[1])*17,i=on(r[2])*17,a=on(r[3])*17,l=on(r[4])*17):(r=xB.exec(o))?(s=on(r[1]),i=on(r[2]),a=on(r[3])):(r=SB.exec(o))&&(s=on(r[1]),i=on(r[2]),a=on(r[3]),l=on(r[4])),r)this.rgb={r:s,g:i,b:a,a:l/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var o=this.rgba;return"#"+Cr(o.r)+Cr(o.g)+Cr(o.b)+Cr(si(o.a*255))},set:function(o){this.hexString=o}},{key:"hslString",get:function(){var o=this.hsl;return"hsl("+o.h+", "+o.s+"%, "+o.l+"%)"},set:function(o){var r,s,i,a,l=1;if((r=bB.exec(o))?(s=nn(r[1],360),i=nn(r[2],100),a=nn(r[3],100)):(r=yB.exec(o))&&(s=nn(r[1],360),i=nn(r[2],100),a=nn(r[3],100),l=nn(r[4],1)),r)this.hsl={h:s,s:i,l:a,a:l};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var o=this.hsla;return"hsla("+o.h+", "+o.s+"%, "+o.l+"%, "+o.a+")"},set:function(o){this.hslString=o}}]),t})(),EB={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function zf(t){var e,n=t.width,o=t.sliderSize,r=t.borderWidth,s=t.handleRadius,i=t.padding,a=t.sliderShape,l=t.layoutDirection==="horizontal";return o=(e=o)!=null?e:i*2+s*2,a==="circle"?{handleStart:t.padding+t.handleRadius,handleRange:n-i*2-s*2,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-r/2}:{handleStart:o/2,handleRange:n-o,radius:o/2,x:0,y:0,width:l?o:n,height:l?n:o}}function AB(t,e){var n=e.hsva,o=e.rgb;switch(t.sliderType){case"red":return o.r/2.55;case"green":return o.g/2.55;case"blue":return o.b/2.55;case"alpha":return n.a*100;case"kelvin":var r=t.minTemperature,s=t.maxTemperature,i=s-r,a=(e.kelvin-r)/i*100;return Math.max(0,Math.min(a,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}function MB(t,e,n){var o=zf(t),r=o.handleRange,s=o.handleStart,i;t.layoutDirection==="horizontal"?i=-1*n+r+s:i=e-s,i=Math.max(Math.min(i,r),0);var a=Math.round(100/r*i);switch(t.sliderType){case"kelvin":var l=t.minTemperature,u=t.maxTemperature,c=u-l;return l+c*(a/100);case"alpha":return a/100;case"hue":return a*3.6;case"red":case"blue":case"green":return a*2.55;default:return a}}function PB(t,e){var n=zf(t),o=n.width,r=n.height,s=n.handleRange,i=n.handleStart,a=t.layoutDirection==="horizontal",l=AB(t,e),u=a?o/2:r/2,c=i+l/100*s;return a&&(c=-1*c+s+i*2),{x:a?u:c,y:a?c:u}}function kB(t,e){var n=e.hsv,o=e.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+o.g+","+o.b+")"],[100,"rgb(255,"+o.g+","+o.b+")"]];case"green":return[[0,"rgb("+o.r+",0,"+o.b+")"],[100,"rgb("+o.r+",255,"+o.b+")"]];case"blue":return[[0,"rgb("+o.r+","+o.g+",0)"],[100,"rgb("+o.r+","+o.g+",255)"]];case"alpha":return[[0,"rgba("+o.r+","+o.g+","+o.b+",0)"],[100,"rgb("+o.r+","+o.g+","+o.b+")"]];case"kelvin":for(var r=[],s=t.minTemperature,i=t.maxTemperature,a=8,l=i-s,u=s,c=0;u<i;u+=l/a,c+=1){var d=vs.kelvinToRgb(u),f=d.r,p=d.g,m=d.b;r.push([100/a*c,"rgb("+f+","+p+","+m+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var v=vs.hsvToHsl({h:n.h,s:0,v:n.v}),b=vs.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"],[100,"hsl("+b.h+","+b.s+"%,"+b.l+"%)"]];default:var g=vs.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]]}}var ry=Math.PI*2,RB=function(e,n){return(e%n+n)%n},sy=function(e,n){return Math.sqrt(e*e+n*n)};function iy(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function OB(t,e,n){var o=Su(t),r=o.cx,s=o.cy,i=t.width/2;return sy(r-e,s-n)<i}function Su(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function ay(t,e,n){var o=t.wheelAngle,r=t.wheelDirection;return n&&r==="clockwise"?e=o+e:r==="clockwise"?e=360-o+e:n&&r==="anticlockwise"?e=o+180-e:r==="anticlockwise"&&(e=o-e),RB(e,360)}function IB(t,e){var n=e.hsv,o=Su(t),r=o.cx,s=o.cy,i=iy(t),a=(180+ay(t,n.h,!0))*(ry/360),l=n.s/100*i,u=t.wheelDirection==="clockwise"?-1:1;return{x:r+l*Math.cos(a)*u,y:s+l*Math.sin(a)*u}}function hm(t,e,n){var o=Su(t),r=o.cx,s=o.cy,i=iy(t);e=r-e,n=s-n;var a=ay(t,Math.atan2(-n,-e)*(360/ry)),l=Math.min(sy(e,n),i);return{h:Math.round(a),s:Math.round(100/i*l)}}function Uf(t){var e=t.width,n=t.boxHeight,o=t.padding,r=t.handleRadius;return{width:e,height:n??e,radius:o+r}}function mm(t,e,n){var o=Uf(t),r=o.width,s=o.height,i=o.radius,a=i,l=r-i*2,u=s-i*2,c=(e-a)/l*100,d=(n-a)/u*100;return{s:Math.max(0,Math.min(c,100)),v:Math.max(0,Math.min(100-d,100))}}function DB(t,e){var n=Uf(t),o=n.width,r=n.height,s=n.radius,i=e.hsv,a=s,l=o-s*2,u=r-s*2;return{x:a+i.s/100*l,y:a+(u-i.v/100*u)}}function BB(t,e){var n=e.hue;return[[[0,"#fff"],[100,"hsl("+n+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var yc;function qB(t){yc||(yc=document.getElementsByTagName("base"));var e=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(e),o=/iPhone|iPod|iPad/i.test(e),r=window.location;return(n||o)&&yc.length>0?r.protocol+"//"+r.host+r.pathname+r.search+t:t}function ly(t,e,n,o){for(var r=0;r<o.length;r++){var s=o[r].x-e,i=o[r].y-n,a=Math.sqrt(s*s+i*i);if(a<t.handleRadius)return r}return null}function Hf(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function Sd(t,e,n){return t+"-gradient("+e+", "+n.map(function(o){var r=o[0],s=o[1];return s+" "+r+"%"}).join(",")+")"}function Gt(t){return typeof t=="string"?t:t+"px"}var FB={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},vm=["mousemove","touchmove","mouseup","touchend"],Cu=(function(t){function e(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(o){var r=this.handleEvent.bind(this),s={onMouseDown:r,ontouchstart:r},i=o.layoutDirection==="horizontal",a=o.margin===null?o.sliderMargin:o.margin,l={overflow:"visible",display:i?"inline-block":"block"};return o.index>0&&(l[i?"marginLeft":"marginTop"]=a),Ye(wu,null,o.children(this.uid,s,l))},e.prototype.handleEvent=function(o){var r=this,s=this.props.onInput,i=this.base.getBoundingClientRect();o.preventDefault();var a=o.touches?o.changedTouches[0]:o,l=a.clientX-i.left,u=a.clientY-i.top;switch(o.type){case"mousedown":case"touchstart":var c=s(l,u,0);c!==!1&&vm.forEach(function(d){document.addEventListener(d,r,{passive:!1})});break;case"mousemove":case"touchmove":s(l,u,1);break;case"mouseup":case"touchend":s(l,u,2),vm.forEach(function(d){document.removeEventListener(d,r,{passive:!1})});break}},e})(Cs);function qr(t){var e=t.r,n=t.url,o=e,r=e;return Ye("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+Gt(t.x)+", "+Gt(t.y)+")",willChange:"transform",top:Gt(-e),left:Gt(-e),width:Gt(e*2),height:Gt(e*2),position:"absolute",overflow:"visible"}},n&&Ye("use",Object.assign({xlinkHref:qB(n)},t.props)),!n&&Ye("circle",{cx:o,cy:r,r:e,fill:"none","stroke-width":2,stroke:"#000"}),!n&&Ye("circle",{cx:o,cy:r,r:e-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}qr.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function Pl(t){var e=t.activeIndex,n=e!==void 0&&e<t.colors.length?t.colors[e]:t.color,o=zf(t),r=o.width,s=o.height,i=o.radius,a=PB(t,n),l=kB(t,n);function u(c,d,f){var p=MB(t,c,d);t.parent.inputActive=!0,n[t.sliderType]=p,t.onInput(f,t.id)}return Ye(Cu,Object.assign({},t,{onInput:u}),function(c,d,f){return Ye("div",Object.assign({},d,{className:"IroSlider",style:Object.assign({},{position:"relative",width:Gt(r),height:Gt(s),borderRadius:Gt(i),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},f)}),Ye("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:Gt(i),background:Sd("linear",t.layoutDirection==="horizontal"?"to top":"to right",l)},Hf(t))}),Ye(qr,{isActive:!0,index:n.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:a.x,y:a.y}))})}Pl.defaultProps=Object.assign({},EB);function LB(t){var e=Uf(t),n=e.width,o=e.height,r=e.radius,s=t.colors,i=t.parent,a=t.activeIndex,l=a!==void 0&&a<t.colors.length?t.colors[a]:t.color,u=BB(t,l),c=s.map(function(f){return DB(t,f)});function d(f,p,m){if(m===0){var v=ly(t,f,p,c);v!==null?i.setActiveColor(v):(i.inputActive=!0,l.hsv=mm(t,f,p),t.onInput(m,t.id))}else m===1&&(i.inputActive=!0,l.hsv=mm(t,f,p));t.onInput(m,t.id)}return Ye(Cu,Object.assign({},t,{onInput:d}),function(f,p,m){return Ye("div",Object.assign({},p,{className:"IroBox",style:Object.assign({},{width:Gt(n),height:Gt(o),position:"relative"},m)}),Ye("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:Gt(r)},Hf(t),{background:Sd("linear","to bottom",u[1])+","+Sd("linear","to right",u[0])})}),s.filter(function(v){return v!==l}).map(function(v){return Ye(qr,{isActive:!1,index:v.index,fill:v.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:c[v.index].x,y:c[v.index].y})}),Ye(qr,{isActive:!0,index:l.index,fill:l.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:c[l.index].x,y:c[l.index].y}))})}var VB="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",$B="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function uy(t){var e=Su(t),n=e.width,o=t.colors;t.borderWidth;var r=t.parent,s=t.color,i=s.hsv,a=o.map(function(c){return IB(t,c)}),l={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function u(c,d,f){if(f===0){if(!OB(t,c,d))return!1;var p=ly(t,c,d,a);p!==null?r.setActiveColor(p):(r.inputActive=!0,s.hsv=hm(t,c,d),t.onInput(f,t.id))}else f===1&&(r.inputActive=!0,s.hsv=hm(t,c,d));t.onInput(f,t.id)}return Ye(Cu,Object.assign({},t,{onInput:u}),function(c,d,f){return Ye("div",Object.assign({},d,{className:"IroWheel",style:Object.assign({},{width:Gt(n),height:Gt(n),position:"relative"},f)}),Ye("div",{className:"IroWheelHue",style:Object.assign({},l,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:t.wheelDirection==="clockwise"?VB:$B})}),Ye("div",{className:"IroWheelSaturation",style:Object.assign({},l,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&Ye("div",{className:"IroWheelLightness",style:Object.assign({},l,{background:"#000",opacity:1-i.v/100})}),Ye("div",{className:"IroWheelBorder",style:Object.assign({},l,Hf(t))}),o.filter(function(p){return p!==s}).map(function(p){return Ye(qr,{isActive:!1,index:p.index,fill:p.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:a[p.index].x,y:a[p.index].y})}),Ye(qr,{isActive:!0,index:s.index,fill:s.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:a[s.index].x,y:a[s.index].y}))})}function NB(t){var e=function(n,o){var r,s=document.createElement("div");dB(Ye(t,Object.assign({},{ref:function(a){return r=a}},o)),s);function i(){var a=n instanceof Element?n:document.querySelector(n);a.appendChild(r.base),r.onMount(a)}return document.readyState!=="loading"?i():document.addEventListener("DOMContentLoaded",i),r};return e.prototype=t.prototype,Object.assign(e,t),e.__component=t,e}var cy=(function(t){function e(n){var o=this;t.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id;var r=n.colors.length>0?n.colors:[n.color];r.forEach(function(s){return o.addColor(s)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addColor=function(o,r){r===void 0&&(r=this.colors.length);var s=new vs(o,this.onColorChange.bind(this));this.colors.splice(r,0,s),this.colors.forEach(function(i,a){return i.index=a}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",s)},e.prototype.removeColor=function(o){var r=this.colors.splice(o,1)[0];r.unbind(),this.colors.forEach(function(s,i){return s.index=i}),this.state&&this.setState({colors:this.colors}),r.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",r)},e.prototype.setActiveColor=function(o){this.color=this.colors[o],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},e.prototype.setColors=function(o,r){var s=this;r===void 0&&(r=0),this.colors.forEach(function(i){return i.unbind()}),this.colors=[],o.forEach(function(i){return s.addColor(i)}),this.setActiveColor(r),this.emit("color:setAll",this.colors)},e.prototype.on=function(o,r){var s=this,i=this.events;(Array.isArray(o)?o:[o]).forEach(function(a){(i[a]||(i[a]=[])).push(r),s.deferredEvents[a]&&(s.deferredEvents[a].forEach(function(l){r.apply(null,l)}),s.deferredEvents[a]=[])})},e.prototype.off=function(o,r){var s=this;(Array.isArray(o)?o:[o]).forEach(function(i){var a=s.events[i];a&&a.splice(a.indexOf(r),1)})},e.prototype.emit=function(o){for(var r=this,s=[],i=arguments.length-1;i-- >0;)s[i]=arguments[i+1];var a=this.activeEvents,l=a.hasOwnProperty(o)?a[o]:!1;if(!l){a[o]=!0;var u=this.events[o]||[];u.forEach(function(c){return c.apply(r,s)}),a[o]=!1}},e.prototype.deferredEmit=function(o){for(var r,s=[],i=arguments.length-1;i-- >0;)s[i]=arguments[i+1];var a=this.deferredEvents;(r=this).emit.apply(r,[o].concat(s)),(a[o]||(a[o]=[])).push(s)},e.prototype.setOptions=function(o){this.setState(o)},e.prototype.resize=function(o){this.setOptions({width:o})},e.prototype.reset=function(){this.colors.forEach(function(o){return o.reset()}),this.setState({colors:this.colors})},e.prototype.onMount=function(o){this.el=o,this.deferredEmit("mount",this)},e.prototype.onColorChange=function(o,r){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",o,r)),this.emit("color:change",o,r)},e.prototype.emitInputEvent=function(o,r){o===0?this.emit("input:start",this.color,r):o===1?this.emit("input:move",this.color,r):o===2&&this.emit("input:end",this.color,r)},e.prototype.render=function(o,r){var s=this,i=r.layout;return Array.isArray(i)||(i=[{component:uy},{component:Pl}],r.transparency&&i.push({component:Pl,options:{sliderType:"alpha"}})),Ye("div",{class:"IroColorPicker",id:r.id,style:{display:r.display}},i.map(function(a,l){var u=a.component,c=a.options;return Ye(u,Object.assign({},r,c,{ref:void 0,onInput:s.emitInputEvent.bind(s),parent:s,index:l}))}))},e})(Cs);cy.defaultProps=Object.assign({},FB,{colors:[],display:"block",id:null,layout:"default",margin:null});var jB=NB(cy),Cd;(function(t){t.version="5.5.2",t.Color=vs,t.ColorPicker=jB,(function(e){e.h=Ye,e.ComponentBase=Cu,e.Handle=qr,e.Slider=Pl,e.Wheel=uy,e.Box=LB})(t.ui||(t.ui={}))})(Cd||(Cd={}));var _c=Cd;const zB={class:"flex flex-col gap-2"},UB={class:"flex items-center justify-between text-ui-menu-bg-text gap-2 text-xs"},HB=["value"],GB=F({__name:"ColorPicker",props:{modelValue:{required:!0},modelModifiers:{},alpha:{},alphaModifiers:{}},emits:["update:modelValue","update:alpha"],setup(t){const e=Ot(t,"modelValue"),n=Ot(t,"alpha"),o=lo("pickerRef"),r=V(),s=V("RGB"),{toast:i}=vo(),a=q({set(f){if(r.value)try{r.value.color.hex8String=f}catch(p){const m=p;i.error(m.message)}},get(){return r.value?r.value.color.hex8String:"#fff"}});pe(r,f=>{f&&(e.value=f.color.hexString,n.value=f.color.alpha)},{deep:!0});function l(f){const p=f.target;a.value=p.value}Ee(()=>{o.value&&(r.value=new _c.ColorPicker(o.value,{color:e.value,layoutDirection:"horizontal",width:150,sliderSize:10,padding:0,layout:[{component:_c.ui.Wheel},{component:_c.ui.Slider,options:{sliderType:"value"}}]}),r.value?.on("color:change",()=>{Qo(r)}))});const{isSupported:u,open:c}=zP();function d(){c().then(f=>{f&&(a.value=f.sRGBHex)}).catch(()=>{})}return(f,p)=>{const m=TE,v=xE,b=rB,g=tB,y=Ct;return k(),Q("div",zB,[j("div",{ref_key:"pickerRef",ref:o},null,512),A(v,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=_=>s.value=_),class:"rounded overflow-hidden grid grid-cols-2 text-xs text-ui-radio-text"},{default:C(()=>[(k(),Q(he,null,lt(["RGB","HSV"],_=>A(m,{key:_,value:_,class:"bg-ui-radio-inner data-[state='checked']:bg-ui-radio-inner-selected data-[state='checked']:text-ui-radio-text-selected p-0.5"},{default:C(()=>[Te(ge(_),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),r.value?(k(),Q(he,{key:0},[s.value==="HSV"?(k(),D(b,{key:0,modelValue:r.value.color.hsva,"onUpdate:modelValue":p[1]||(p[1]=_=>r.value.color.hsva=_)},null,8,["modelValue"])):ie("",!0),s.value==="RGB"?(k(),D(g,{key:1,modelValue:r.value.color.rgba,"onUpdate:modelValue":p[2]||(p[2]=_=>r.value.color.rgba=_)},null,8,["modelValue"])):ie("",!0),j("div",UB,[p[3]||(p[3]=j("span",null,"Hex",-1)),j("input",{type:"text",class:"input w-[100px]",value:a.value,onChange:l},null,40,HB),h(u)?(k(),Q("button",{key:0,type:"button",class:"btn text-[1.25em] p-0.5",onClick:d},[A(y,{name:"misc/eye-dropper"})])):ie("",!0)])],64)):ie("",!0)])}}}),pr=F({__name:"InputColor",props:{hex:{required:!0},hexModifiers:{},alpha:{},alphaModifiers:{}},emits:["update:hex","update:alpha"],setup(t){const e=Ot(t,"hex"),n=Ot(t,"alpha");return(o,r)=>{const s=GB;return k(),D(h(_a).Root,null,{default:C(()=>[A(h(_a).Trigger,{class:"inline-grid rounded grid-cols-2 grid-rows-1 w-full checkerboard h-full overflow-hidden",style:pt({"--color-value":e.value,"--alpha":n.value})},{default:C(()=>[...r[2]||(r[2]=[j("div",{class:"bg-(--color-value)"},null,-1),j("div",{class:"bg-(--color-value) opacity-(--alpha)"},null,-1)])]),_:1},8,["style"]),A(h(_a).Portal,null,{default:C(()=>[A(h(_a).Content,{"avoid-collisions":"","position-strategy":"absolute",class:"bg-ui-menu-bg-inner rounded p-2"},{default:C(()=>[A(s,{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=i=>e.value=i),alpha:n.value,"onUpdate:alpha":r[1]||(r[1]=i=>n.value=i)},null,8,["modelValue","alpha"])]),_:1})]),_:1})]),_:1})}}}),WB={class:"text-xs flex flex-col items-end gap-1 p-2"},KB={class:"flex flex-col items-end gap-1 p-2"},YB=F({__name:"LightDataProperties",setup(t){const e=ft(),n=q(()=>e.selectedObject?e.selectedObject:null),o=q({set(l){const u=e.selectedObject;u&&u instanceof U.Light&&u.color.set(new U.Color(l))},get(){return"#"+n.value?.color.getHexString()||""}}),r=q({set(l){n.value instanceof U.SpotLight&&(n.value.angle=er.degToRad(l))},get(){return n.value instanceof U.SpotLight?er.radToDeg(n.value.angle):0}});function s(l){return l instanceof U.RectAreaLight}function i(l){return l instanceof U.SpotLight}const a=new Map([["bias",{title:"Shadow map bias",text:"How much to add or subtract from the normalized depth when deciding whether a surface is in shadow"}],["normalBias",{title:"Shadow map normal bias",text:"Defines how much the position used to query the shadow map is offset along the object normal. Increasing this value can be used to reduce shadow acne especially in large scenes where light shines onto geometry at a shallow angle. The cost is that shadows may appear distorted."}],["intensity",{text:"The intensity of the shadow"}]]);return(l,u)=>{const c=pr,d=mt,f=_n,p=mo,m=zr;return k(),D(m,{collapsible:"",type:"multiple"},{default:C(()=>[n.value?(k(),D(p,{key:0,label:"Light",item:{value:"light"}},{default:C(()=>[j("div",WB,[A(d,{label:"Color","input-width":"150px"},{default:C(()=>[A(c,{hex:o.value,"onUpdate:hex":u[0]||(u[0]=v=>o.value=v)},null,8,["hex"])]),_:1}),"power"in n.value?(k(),D(d,{key:0,label:"Power","input-width":"150px"},{default:C(()=>[A(f,{modelValue:n.value.power,"onUpdate:modelValue":u[1]||(u[1]=v=>n.value.power=v),min:0,step:.1},null,8,["modelValue"])]),_:1})):(k(),D(d,{key:1,label:"Strength","input-width":"150px"},{default:C(()=>[A(f,{modelValue:n.value.intensity,"onUpdate:modelValue":u[2]||(u[2]=v=>n.value.intensity=v),step:.1},null,8,["modelValue"])]),_:1})),"distance"in n.value?(k(),D(d,{key:2,label:"Distance","input-width":"150px"},{default:C(()=>[A(f,{modelValue:n.value.distance,"onUpdate:modelValue":u[3]||(u[3]=v=>n.value.distance=v),min:0,step:.1},null,8,["modelValue"])]),_:1})):ie("",!0),s(n.value)?(k(),Q(he,{key:3},[A(d,{label:"Width","input-width":"150px"},{default:C(()=>[A(f,{modelValue:n.value.width,"onUpdate:modelValue":u[4]||(u[4]=v=>n.value.width=v),step:.1,min:0},null,8,["modelValue"])]),_:1}),A(d,{label:"Height","input-width":"150px"},{default:C(()=>[A(f,{modelValue:n.value.height,"onUpdate:modelValue":u[5]||(u[5]=v=>n.value.height=v),step:.1,min:0},null,8,["modelValue"])]),_:1})],64)):ie("",!0),i(n.value)?(k(),D(d,{key:4,label:"Angle","input-width":"150px"},{default:C(()=>[A(f,{modelValue:r.value,"onUpdate:modelValue":u[6]||(u[6]=v=>r.value=v),step:.1,min:0,max:h(er).radToDeg(Math.PI/2),"format-options":{unit:"degree",unitDisplay:"narrow",style:"unit"}},null,8,["modelValue","max"])]),_:1})):ie("",!0)])]),_:1})):ie("",!0),n.value?.shadow?(k(),D(p,{key:1,modelValue:n.value.castShadow,"onUpdate:modelValue":u[10]||(u[10]=v=>n.value.castShadow=v),item:{value:"shadow"},label:"Shadow",class:"w-full mt-1","show-checkbox":""},{default:C(()=>[j("div",KB,[A(d,{label:"Bias","input-width":"150px",tooltip:h(a).get("bias")},{default:C(()=>[A(f,{modelValue:n.value.shadow.bias,"onUpdate:modelValue":u[7]||(u[7]=v=>n.value.shadow.bias=v),step:1e-4,"format-options":{minimumFractionDigits:4}},null,8,["modelValue"])]),_:1},8,["tooltip"]),A(d,{label:"Normal Bias","input-width":"150px",tooltip:h(a).get("normalBias")},{default:C(()=>[A(f,{modelValue:n.value.shadow.normalBias,"onUpdate:modelValue":u[8]||(u[8]=v=>n.value.shadow.normalBias=v),step:1e-4,"format-options":{minimumFractionDigits:4}},null,8,["modelValue"])]),_:1},8,["tooltip"]),A(d,{label:"Intensity","input-width":"150px",tooltip:h(a).get("intensity")},{default:C(()=>[A(f,{modelValue:n.value.shadow.intensity,"onUpdate:modelValue":u[9]||(u[9]=v=>n.value.shadow.intensity=v),min:0,max:1,step:.01,"format-options":{style:"percent"}},null,8,["modelValue"])]),_:1},8,["tooltip"])])]),_:1},8,["modelValue"])):ie("",!0)]),_:1})}}});async function dy(t){const e=sa(),n=`font-${Date.now()}-${Math.random().toString(36).slice(2)}`,o=new zy;try{const s=XB.get(t)||t;return await o.loadAsync(s,r)}catch{return vo().toast.error("Error when loading world texture"),null}finally{e.finishLoading(n)}function r(s){s.lengthComputable&&(e.loadingItems.find(i=>i.id===n)?e.updateProgress(n,s.loaded):e.startLoading(n,t,s.total))}}const XB=new Map([["gentilis-bold","/fonts/gentilis_bold.typeface.json"],["gentilis-regular","/fonts/gentilis_regular.typeface.json"],["helvetiker-regular","/fonts/helvetiker_regular.typeface.json"],["helvetiker-bold","/fonts/helvetiker_bold.typeface.json"],["optimer-regular","/fonts/optimer_regular.typeface.json"],["optimer-bold","/fonts/optimer_bold.typeface.json"]]),wc=[{value:"helvetiker-regular",label:"Helvetiker Regular"},{value:"optimer-regular",label:"Optimer Regular"},{value:"gentilis-regular",label:"Gentilis Regular"},{value:"helvetiker-bold",label:"Helvetiker Bold"},{value:"optimer-bold",label:"Optimer Bold"},{value:"gentilis-bold",label:"Gentilis Bold"}];async function QB(){const t=await dy("helvetiker-regular");if(!t)return;const e=fy({text:"Text",params:{font:t,size:2,depth:1}}),n=new U.Mesh(e,new U.MeshPhysicalMaterial);return n.name="Text",n}function fy(t){return new El(t.text,t.params)}const ZB={class:"flex flex-col items-end gap-1 text-xs pr-2"},JB={class:"w-[150px]"},eq=F({__name:"TextDataProperties",setup(t){const e=ft(),n=gn({text:"",font:wc.find(i=>{const a=r()?.font?.value;return i.value===a})?.value,depth:1,size:2,bevelEnabled:!1,bevelSize:8,bevelThickness:10,bevelOffset:0,bevelSegments:3});s();async function o(){if(!n.text||!n.font)return;const i=e.selectedObject;if(i&&i instanceof U.Mesh&&i.geometry instanceof El){const a=await dy(n.font);if(!a)return;i.geometry.dispose();const l=fy({text:n.text,params:{font:a,size:n.size,depth:n.depth,bevelEnabled:n.bevelEnabled,bevelOffset:n.bevelOffset,bevelSegments:n.bevelSegments,bevelSize:n.bevelSize,bevelThickness:n.bevelThickness}});i.geometry=l,bb(i)}}function r(){const i=e.selectedObject;if(i&&i instanceof U.Mesh&&i.geometry instanceof El){const a=i.geometry.parameters.options,l=wc.find(b=>b.value===a.font.data.original_font_information.postscript_name?.toLowerCase()),{bevelThickness:u,bevelSize:c,bevelEnabled:d,depth:f,size:p,bevelOffset:m,bevelSegments:v}=a;return{font:l,geometry:{bevelEnabled:d,bevelSize:c,bevelThickness:u,depth:f,size:p,bevelOffset:m,bevelSegments:v}}}return null}function s(){const i=r();i&&(n.depth=i.geometry.depth||1,n.size=i.geometry.size||2,n.bevelEnabled=i.geometry.bevelEnabled||!1,n.bevelSize=i.geometry.bevelSize||8,n.bevelThickness=i.geometry.bevelThickness||10,n.bevelOffset=i.geometry.bevelOffset||0,n.bevelSegments=i.geometry.bevelSegments||3)}return(i,a)=>{const l=mt,u=Vs,c=_n,d=Ur,f=mo,p=zr;return k(),D(p,{collapsible:"",type:"multiple"},{default:C(()=>[A(f,{label:"Text",item:{value:"text"}},{default:C(()=>[j("div",ZB,[A(l,{label:"Text"},{default:C(()=>[Oo(j("input",{"onUpdate:modelValue":a[0]||(a[0]=m=>n.text=m),type:"text",class:"input w-[150px]"},null,512),[[Yl,n.text]])]),_:1}),A(l,{label:"Font"},{default:C(()=>[A(u,{modelValue:n.font,"onUpdate:modelValue":a[1]||(a[1]=m=>n.font=m),class:"w-[150px]",items:h(wc),placeholder:"Select font"},null,8,["modelValue","items"])]),_:1}),A(l,{label:"Size"},{default:C(()=>[A(c,{modelValue:n.size,"onUpdate:modelValue":a[2]||(a[2]=m=>n.size=m),step:1,class:"w-[150px]"},null,8,["modelValue"])]),_:1}),A(l,{label:"Depth"},{default:C(()=>[A(c,{modelValue:n.depth,"onUpdate:modelValue":a[3]||(a[3]=m=>n.depth=m),step:1,class:"w-[150px]"},null,8,["modelValue"])]),_:1}),A(l,{label:"Bevel enabled"},{default:C(()=>[j("div",JB,[A(d,{modelValue:n.bevelEnabled,"onUpdate:modelValue":a[4]||(a[4]=m=>n.bevelEnabled=m)},null,8,["modelValue"])])]),_:1}),n.bevelEnabled?(k(),Q(he,{key:0},[A(l,{label:"Bevel size"},{default:C(()=>[A(c,{modelValue:n.bevelSize,"onUpdate:modelValue":a[5]||(a[5]=m=>n.bevelSize=m),class:"w-[150px]"},null,8,["modelValue"])]),_:1}),A(l,{label:"Bevel thickness"},{default:C(()=>[A(c,{modelValue:n.bevelThickness,"onUpdate:modelValue":a[6]||(a[6]=m=>n.bevelThickness=m),class:"w-[150px]"},null,8,["modelValue"])]),_:1}),A(l,{label:"Bevel offset"},{default:C(()=>[A(c,{modelValue:n.bevelOffset,"onUpdate:modelValue":a[7]||(a[7]=m=>n.bevelOffset=m),class:"w-[150px]"},null,8,["modelValue"])]),_:1}),A(l,{label:"Bevel segments"},{default:C(()=>[A(c,{modelValue:n.bevelSegments,"onUpdate:modelValue":a[8]||(a[8]=m=>n.bevelSegments=m),class:"w-[150px]"},null,8,["modelValue"])]),_:1})],64)):ie("",!0),j("button",{type:"button",class:"btn text-sm mt-2",onClick:o},"Apply")])]),_:1})]),_:1})}}});async function tq({url:t,filename:e,size:n}){const o=sa(),r=`model-${Date.now()}-${Math.random().toString(36).slice(2)}`;try{const s=new U.TextureLoader;o.startLoading(r,e,n??0);const i=await s.loadAsync(t);return i.name=e,i}catch(s){const i=s;return console.error(`Error loading a texture (${t}):`,i.name,i.message),vo().toast.error("",{title:"Error loading a texture",message:i.message}),null}finally{o.finishLoading(r),t.startsWith("blob:")&&URL.revokeObjectURL(t)}}function nq(t){return typeof t!="object"||t===null?!1:"url"in t&&typeof t.url=="string"&&"md5"in t&&typeof t.md5=="string"&&"size"in t&&typeof t.size=="number"}const oq={class:"group"},rq={class:"rounded border border-ui-menu-outline bg-ui-menu-inner px-1 py-0.5 text-ui-menu-text grid grid-cols-[1fr_auto] gap-1",tabindex:"0"},sq=["title"],iq={class:"hidden grid-cols-2 group-focus-within:grid"},hr=F({__name:"InputTexture",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Ot(t,"modelValue"),{open:n,onChange:o}=ZP({multiple:!1,accept:"image/*"});o(async a=>{const l=a?.[0];if(!l)return;const u=URL.createObjectURL(l),d=await new U.TextureLoader().loadAsync(u);URL.revokeObjectURL(u),d.name=l.name;const f=e.value;e.value=d,f&&f.dispose()});const{open:r}=Vf();function s(){r("textureLibrary",async a=>{if(!nq(a))return;const l=a.url.match(/[^/]+$/)?.[0]??"Texture",u=await tq({url:a.url,filename:l,size:a.size});e.value=u})}function i(){if(e.value){const a=e.value;e.value=null,a.dispose()}}return(a,l)=>(k(),Q("div",oq,[j("div",rq,[j("span",{class:"overflow-hidden text-ellipsis",title:e.value?.name},ge(e.value?.name||"None"),9,sq),e.value?(k(),Q("button",{key:0,type:"button",class:"cursor-pointer px-1",onClick:i},"x")):ie("",!0)]),j("div",iq,[j("button",{type:"button",class:"btn",onClick:s},"Library"),j("button",{type:"button",class:"btn",onClick:l[0]||(l[0]=u=>h(n)())},"File")])]))}});function $o(){const t=ft(),e=ia(),n=V(0),o=q(()=>t.selectedObject instanceof U.Mesh?t.selectedObject:null),r=q(()=>{if(o.value){const l=e.getMaterial(o.value)?.original;if(l instanceof U.Material)return l}return null});function s(l){const u=o.value;u&&(e.updateMaterial(u,l),n.value++)}function i(l){if(r.value)return n.value,r.value[l]}function a(l){const u=o.value;u&&e.changeMaterial(u,l)}return{material:r,getMaterialProp:i,updateMaterialProp:s,manualTrigger:n,changeMaterial:a,selectedObject:o}}const aq={class:"flex flex-col items-end gap-1 panel-content"},Tu=F({__name:"EmissionProperties",setup(t){const{updateMaterialProp:e,getMaterialProp:n}=$o(),o=q({set(i){e({prop:"emissive",value:new U.Color(i)})},get(){return`#${n("emissive")?.getHexString()}`}}),r=q({set(i){e({prop:"emissiveMap",value:i})},get(){return n("emissiveMap")}}),s=q({set(i){e({prop:"emissiveIntensity",value:i})},get(){return n("emissiveIntensity")}});return(i,a)=>{const l=pr,u=mt,c=hr,d=_n;return k(),Q("div",aq,[A(u,{"input-width":"150px",label:"Color"},{default:C(()=>[A(l,{hex:o.value,"onUpdate:hex":a[0]||(a[0]=f=>o.value=f)},null,8,["hex"])]),_:1}),A(u,{"input-width":"150px",label:"Map"},{default:C(()=>[A(c,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=f=>r.value=f)},null,8,["modelValue"])]),_:1}),A(u,{"input-width":"150px",label:"Intensity"},{default:C(()=>[A(d,{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=f=>s.value=f),min:0,step:.01},null,8,["modelValue"])]),_:1})])}}}),lq={key:0},uq={class:"flex flex-col items-end gap-1 p-1 pr-3"},cq=F({__name:"MatSurfaceDiffuse",setup(t){const{material:e,updateMaterialProp:n,getMaterialProp:o}=$o(),r=q({set(s){n({prop:"color",value:new U.Color(s)})},get(){return`#${o("color")?.getHexString()}`}});return(s,i)=>{const a=pr,l=mt,u=Tu,c=mo;return h(e)?(k(),Q("div",lq,[j("div",uq,[A(l,{label:"Base Color","input-width":"150px"},{default:C(()=>[A(a,{hex:r.value,"onUpdate:hex":i[0]||(i[0]=d=>r.value=d)},null,8,["hex"])]),_:1})]),A(c,{label:"Emission",item:{value:"emission"},class:"w-full",nested:""},{default:C(()=>[A(u)]),_:1})])):ie("",!0)}}}),dq={class:"flex flex-col items-end gap-1 panel-content"},fq=F({__name:"SheenProperties",setup(t){const{updateMaterialProp:e,getMaterialProp:n}=$o(),o=q({set(l){e({prop:"sheen",value:l})},get(){return n("sheen")}}),r=q({set(l){e({prop:"sheenColor",value:new U.Color(l)})},get(){return`#${n("sheenColor")?.getHexString()}`}}),s=q({set(l){e({prop:"sheenColorMap",value:l})},get(){return n("sheenColorMap")}}),i=q({set(l){e({prop:"sheenRoughness",value:l})},get(){return n("sheenRoughness")}}),a=q({set(l){e({prop:"sheenRoughnessMap",value:l})},get(){return n("sheenRoughnessMap")}});return(l,u)=>{const c=_n,d=mt,f=pr,p=hr;return k(),Q("div",dq,[A(d,{"input-width":"150px",label:"Intensity"},{default:C(()=>[A(c,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=m=>o.value=m),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Color"},{default:C(()=>[A(f,{hex:r.value,"onUpdate:hex":u[1]||(u[1]=m=>r.value=m)},null,8,["hex"])]),_:1}),A(d,{"input-width":"150px",label:"Color Map"},{default:C(()=>[A(p,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=m=>s.value=m)},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Roughness"},{default:C(()=>[A(c,{modelValue:i.value,"onUpdate:modelValue":u[3]||(u[3]=m=>i.value=m),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Roughness Map"},{default:C(()=>[A(p,{modelValue:a.value,"onUpdate:modelValue":u[4]||(u[4]=m=>a.value=m)},null,8,["modelValue"])]),_:1})])}}}),pq={class:"flex flex-col items-end gap-1 panel-content"},hq=F({__name:"ClearcoatProperties",setup(t){const{updateMaterialProp:e,getMaterialProp:n}=$o(),o=q({set(l){e({prop:"clearcoat",value:l})},get(){return n("clearcoat")}}),r=q({set(l){e({prop:"clearcoatMap",value:l})},get(){return n("clearcoatMap")}}),s=q({set(l){e({prop:"clearcoatNormalMap",value:l})},get(){return n("clearcoatNormalMap")}}),i=q({set(l){e({prop:"clearcoatRoughness",value:l})},get(){return n("clearcoatRoughness")}}),a=q({set(l){e({prop:"clearcoatRoughnessMap",value:l})},get(){return n("clearcoatRoughnessMap")}});return(l,u)=>{const c=_n,d=mt,f=hr;return k(),Q("div",pq,[A(d,{"input-width":"150px",label:"Intensity"},{default:C(()=>[A(c,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=p=>o.value=p),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Map"},{default:C(()=>[A(f,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=p=>r.value=p)},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Normal Map"},{default:C(()=>[A(f,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=p=>s.value=p)},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Roughness"},{default:C(()=>[A(c,{modelValue:i.value,"onUpdate:modelValue":u[3]||(u[3]=p=>i.value=p),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(d,{"input-width":"150px",label:"Roughness Map"},{default:C(()=>[A(f,{modelValue:a.value,"onUpdate:modelValue":u[4]||(u[4]=p=>a.value=p)},null,8,["modelValue"])]),_:1})])}}}),mq={class:"flex flex-col items-end gap-1 panel-content"},vq=F({__name:"TransmissionProperties",setup(t){const{updateMaterialProp:e,getMaterialProp:n}=$o(),o=q({set(s){e({prop:"transmission",value:s})},get(){return n("transmission")}}),r=q({set(s){e({prop:"transmissionMap",value:s})},get(){return n("transmissionMap")}});return(s,i)=>{const a=_n,l=mt,u=hr;return k(),Q("div",mq,[A(l,{"input-width":"150px",label:"Weight"},{default:C(()=>[A(a,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=c=>o.value=c),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(l,{"input-width":"150px",label:"Map"},{default:C(()=>[A(u,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=c=>r.value=c)},null,8,["modelValue"])]),_:1})])}}}),gq={class:"flex flex-col items-end gap-1 panel-content"},bq=F({__name:"SpecularProperties",setup(t){const{updateMaterialProp:e,getMaterialProp:n}=$o(),o=q({set(a){e({prop:"specularColor",value:new U.Color(a)})},get(){return`#${n("specularColor")?.getHexString()}`}}),r=q({set(a){e({prop:"specularColorMap",value:a})},get(){return n("specularColorMap")}}),s=q({set(a){e({prop:"specularIntensity",value:a})},get(){return n("specularIntensity")}}),i=q({set(a){e({prop:"specularIntensityMap",value:a})},get(){return n("specularIntensityMap")}});return(a,l)=>{const u=pr,c=mt,d=hr,f=_n;return k(),Q("div",gq,[A(c,{"input-width":"150px",label:"Color"},{default:C(()=>[A(u,{hex:o.value,"onUpdate:hex":l[0]||(l[0]=p=>o.value=p)},null,8,["hex"])]),_:1}),A(c,{"input-width":"150px",label:"Map"},{default:C(()=>[A(d,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=p=>r.value=p)},null,8,["modelValue"])]),_:1}),A(c,{"input-width":"150px",label:"Intensity"},{default:C(()=>[A(f,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=p=>s.value=p),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(c,{"input-width":"150px",label:"Intensity Map"},{default:C(()=>[A(d,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=p=>i.value=p)},null,8,["modelValue"])]),_:1})])}}}),yq={key:0},_q={class:"pl-1 py-1 pr-3 flex flex-col items-end gap-1"},wq=F({__name:"MatSurfacePrincipled",setup(t){const{material:e,updateMaterialProp:n,getMaterialProp:o,selectedObject:r,changeMaterial:s}=$o(),i=q({set(b){n({prop:"color",value:new U.Color(b)})},get(){return`#${o("color")?.getHexString()}`}}),a=q({set(b){n({prop:"map",value:b})},get(){return o("map")}}),l=q({set(b){n({prop:"metalness",value:b})},get(){return o("metalness")}}),u=q({set(b){n({prop:"metalnessMap",value:b})},get(){return o("metalnessMap")}}),c=q({set(b){n({prop:"roughness",value:b})},get(){return o("roughness")}}),d=q({set(b){n({prop:"roughnessMap",value:b})},get(){return o("roughnessMap")}}),f=q({set(b){n({prop:"ior",value:b})},get(){return o("ior")}}),p=q({set(b){n({prop:"transparent",value:b})},get(){return o("transparent")}}),m=q({set(b){n({prop:"opacity",value:b})},get(){return o("opacity")}});pe(e,b=>{if(!(!r.value||!b)&&b instanceof U.MeshStandardMaterial&&!(b instanceof U.MeshPhysicalMaterial)){const y=v(b);s(y)}},{immediate:!0});function v(b){const g=new U.MeshPhysicalMaterial;return g.color.copy(b.color),g.metalness=b.metalness,g.roughness=b.roughness,g.transparent=b.transparent,g.opacity=b.opacity,g.emissive.copy(b.emissive),g.emissiveIntensity=b.emissiveIntensity,g.side=b.side,g.flatShading=b.flatShading,g.wireframe=b.wireframe,g.vertexColors=b.vertexColors,g.fog=b.fog,g.dithering=b.dithering,g.map=b.map,g.normalMap=b.normalMap,g.normalMapType=b.normalMapType,g.normalScale.copy(b.normalScale),g.aoMap=b.aoMap,g.aoMapIntensity=b.aoMapIntensity,g.emissiveMap=b.emissiveMap,g.bumpMap=b.bumpMap,g.bumpScale=b.bumpScale,g.displacementMap=b.displacementMap,g.displacementScale=b.displacementScale,g.displacementBias=b.displacementBias,g.roughnessMap=b.roughnessMap,g.metalnessMap=b.metalnessMap,g.alphaMap=b.alphaMap,g.envMap=b.envMap,g.envMapIntensity=b.envMapIntensity,g.lightMap=b.lightMap,g.lightMapIntensity=b.lightMapIntensity,b.dispose(),g}return(b,g)=>{const y=pr,_=mt,w=hr,x=_n,P=Ur,T=bq,M=mo,E=vq,S=hq,R=fq,O=zr;return h(e)?(k(),Q("div",yq,[j("div",_q,[A(_,{"input-width":"150px",label:"Base Color"},{default:C(()=>[A(y,{hex:i.value,"onUpdate:hex":g[0]||(g[0]=I=>i.value=I)},null,8,["hex"])]),_:1}),A(_,{"input-width":"150px",label:"Map"},{default:C(()=>[A(w,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=I=>a.value=I)},null,8,["modelValue"])]),_:1}),A(_,{"input-width":"150px",label:"Metallic"},{default:C(()=>[A(x,{modelValue:l.value,"onUpdate:modelValue":g[2]||(g[2]=I=>l.value=I),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(_,{"input-width":"150px",label:"Metalness Map"},{default:C(()=>[A(w,{modelValue:u.value,"onUpdate:modelValue":g[3]||(g[3]=I=>u.value=I)},null,8,["modelValue"])]),_:1}),A(_,{"input-width":"150px",label:"Roughness"},{default:C(()=>[A(x,{modelValue:c.value,"onUpdate:modelValue":g[4]||(g[4]=I=>c.value=I),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1}),A(_,{"input-width":"150px",label:"Roughness Map"},{default:C(()=>[A(w,{modelValue:d.value,"onUpdate:modelValue":g[5]||(g[5]=I=>d.value=I)},null,8,["modelValue"])]),_:1}),A(_,{"input-width":"150px",label:"IOR"},{default:C(()=>[A(x,{modelValue:f.value,"onUpdate:modelValue":g[6]||(g[6]=I=>f.value=I),min:1,max:2.333,step:.01},null,8,["modelValue"])]),_:1}),A(_,{"input-width":"150px",label:"Transparent"},{default:C(()=>[j("div",null,[A(P,{modelValue:p.value,"onUpdate:modelValue":g[7]||(g[7]=I=>p.value=I)},null,8,["modelValue"])])]),_:1}),p.value?(k(),D(_,{key:0,"input-width":"150px",label:"Alpha"},{default:C(()=>[A(x,{modelValue:m.value,"onUpdate:modelValue":g[8]||(g[8]=I=>m.value=I),min:0,max:1,step:.01},null,8,["modelValue"])]),_:1})):ie("",!0)]),A(O,{collapsible:"",type:"multiple"},{default:C(()=>[A(M,{label:"Specular",item:{value:"specular"},nested:""},{default:C(()=>[A(T)]),_:1}),A(M,{label:"Transmission",item:{value:"transmission"},nested:""},{default:C(()=>[A(E)]),_:1}),A(M,{label:"Coat",item:{value:"coat"},nested:""},{default:C(()=>[A(S)]),_:1}),A(M,{label:"Sheen",item:{value:"sheen"},nested:""},{default:C(()=>[A(R)]),_:1}),A(M,{label:"Emission",item:{value:"emission"},nested:""},{default:C(()=>[A(Tu)]),_:1})]),_:1})])):ie("",!0)}}}),xq={key:0},Sq={class:"p-1 pr-3 flex flex-col items-end gap-1"},Cq=F({__name:"MatSurfaceToon",setup(t){const{material:e,updateMaterialProp:n,getMaterialProp:o}=$o(),r=q({set(a){n({prop:"color",value:new U.Color(a)})},get(){return`#${o("color")?.getHexString()}`}}),s=q({set(a){n({prop:"map",value:a})},get(){return o("map")}}),i=q({set(a){n({prop:"gradientMap",value:a})},get(){return o("gradientMap")}});return(a,l)=>{const u=pr,c=mt,d=hr,f=Tu,p=mo;return h(e)?(k(),Q("div",xq,[j("div",Sq,[A(c,{"input-width":"150px",label:"Base Color"},{default:C(()=>[A(u,{hex:r.value,"onUpdate:hex":l[0]||(l[0]=m=>r.value=m)},null,8,["hex"])]),_:1}),A(c,{"input-width":"150px",label:"Map"},{default:C(()=>[A(d,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=m=>s.value=m)},null,8,["modelValue"])]),_:1}),A(c,{"input-width":"150px",label:"Gradient Map"},{default:C(()=>[A(d,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=m=>i.value=m)},null,8,["modelValue"])]),_:1})]),A(p,{label:"Emission",item:{value:"emission"},class:"w-full",nested:""},{default:C(()=>[A(f)]),_:1})])):ie("",!0)}}}),Tq={key:0},Eq={class:"flex flex-col items-end gap-1 p-1 pr-3"},Aq={class:"flex flex-col items-end gap-1 p-1 pr-3"},Mq=F({__name:"MatSurfaceGlossy",setup(t){const{material:e,updateMaterialProp:n,getMaterialProp:o}=$o(),r=q({set(a){n({prop:"color",value:new U.Color(a)})},get(){return`#${o("color")?.getHexString()}`}}),s=q({set(a){n({prop:"specular",value:new U.Color(a)})},get(){return`#${o("specular")?.getHexString()}`}}),i=q({set(a){n({prop:"specularMap",value:a})},get(){return o("specularMap")}});return(a,l)=>{const u=pr,c=mt,d=hr,f=mo,p=Tu;return h(e)?(k(),Q("div",Tq,[j("div",Eq,[A(c,{"input-width":"150px",label:"Base Color"},{default:C(()=>[A(u,{hex:r.value,"onUpdate:hex":l[0]||(l[0]=m=>r.value=m)},null,8,["hex"])]),_:1})]),A(f,{label:"Specular",item:{value:"specular"},class:"w-full",nested:""},{default:C(()=>[j("div",Aq,[A(c,{"input-width":"150px",label:"Color"},{default:C(()=>[A(u,{hex:s.value,"onUpdate:hex":l[1]||(l[1]=m=>s.value=m)},null,8,["hex"])]),_:1}),A(c,{"input-width":"150px",label:"Map"},{default:C(()=>[A(d,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=m=>i.value=m)},null,8,["modelValue"])]),_:1})])]),_:1}),A(f,{label:"Emission",item:{value:"emission"},class:"w-full",nested:""},{default:C(()=>[A(p)]),_:1})])):ie("",!0)}}}),Pq={key:0},kq={class:"pl-1 pt-1 pr-3"},Rq=F({__name:"MaterialProperties",setup(t){const e=ft(),n=ia(),o=q(()=>e.selectedObject),r=q(()=>o.value instanceof U.Mesh&&n.getMaterial(o.value)?.original||null),s=[{label:"Principled BSDF",value:"principled_bsdf"},{label:"Diffuse BSDF",value:"diffuse_bsdf"},{label:"Glossy BSDF",value:"glossy_bsdf"},{label:"Toon BSDF",value:"toon_bsdf"}],i=V(a());pe(i,u=>{if(!(!u||!(o.value instanceof U.Mesh)))switch(u){case"principled_bsdf":n.changeMaterial(o.value,new U.MeshPhysicalMaterial);break;case"diffuse_bsdf":n.changeMaterial(o.value,new U.MeshLambertMaterial);break;case"toon_bsdf":n.changeMaterial(o.value,new U.MeshToonMaterial);break;case"glossy_bsdf":n.changeMaterial(o.value,new U.MeshPhongMaterial);break}});function a(){const u=Array.isArray(r.value)?r.value[0]:r.value;if(!u)return;let c;switch(u.type){case"MeshPhysicalMaterial":c="principled_bsdf";break;case"MeshStandardMaterial":c="principled_bsdf";break;case"MeshLambertMaterial":c="diffuse_bsdf";break;case"MeshToonMaterial":c="toon_bsdf";break;case"MeshPhongMaterial":c="glossy_bsdf";break}return s.find(d=>d.value===c)?.value}function l(u){switch(u){case"diffuse_bsdf":return cq;case"principled_bsdf":return wq;case"toon_bsdf":return Cq;case"glossy_bsdf":return Mq}}return(u,c)=>{const d=Vs,f=mt,p=mo,m=zr;return r.value?(k(),Q("div",Pq,[A(m,{collapsible:"",type:"multiple"},{default:C(()=>[A(p,{label:"Surface",item:{value:"surface"}},{default:C(()=>[j("div",kq,[A(f,{label:"Surface",class:"ml-auto w-fit mb-4"},{default:C(()=>[A(d,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=v=>i.value=v),items:s,class:"w-[150px]"},null,8,["modelValue"])]),_:1})]),i.value?(k(),D(fo(l(i.value)),{key:0})):ie("",!0)]),_:1})]),_:1})])):ie("",!0)}}}),Oq={class:"p-1 flex flex-col gap-0.5 items-end"},Iq={class:"p-1 flex flex-col gap-0.5 items-end"},Dq=F({__name:"CameraProperties",setup(t){const e=ft(),n=q({set(l){l!==n.value&&e.switchCamera()},get(){return e.activeCamera.type}});function o(l){return e.activeCamera.type==="PerspectiveCamera"}const r=[{label:"Perspective",value:"PerspectiveCamera"},{label:"Orthographic",value:"OrthographicCamera"}],s=V("fov"),i=q({set(l){if("getFocalLength"in e.activeCamera)return e.activeCamera.setFocalLength(l)},get(){return"getFocalLength"in e.activeCamera?e.activeCamera.getFocalLength():0}}),a=[{label:"Field of View",value:"fov"},{label:"Millimeters",value:"focal"}];return(l,u)=>{const c=Vs,d=mt,f=_n,p=mo,m=zr;return k(),D(m,{collapsible:"",type:"multiple",class:"space-y-0.5"},{default:C(()=>[A(p,{label:"Lens",item:{value:"lens"}},{default:C(()=>[j("div",Oq,[A(d,{label:"Type","input-width":"150px",class:"mb-1"},{default:C(()=>[A(c,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),items:r},null,8,["modelValue"])]),_:1}),o(h(e).activeCamera)?(k(),Q(he,{key:0},[s.value==="fov"?(k(),D(d,{key:0,label:"Field of View","input-width":"150px",tooltip:{text:"The vertical field of view, from bottom to top of view"}},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.fov,"onUpdate:modelValue":u[1]||(u[1]=v=>h(e).activeCamera.fov=v),"format-options":{style:"unit",unitDisplay:"narrow",unit:"degree"}},null,8,["modelValue"])]),_:1})):(k(),D(d,{key:1,label:"Focal Length","input-width":"150px"},{default:C(()=>[A(f,{modelValue:i.value,"onUpdate:modelValue":u[2]||(u[2]=v=>i.value=v),"format-options":{style:"unit",unitDisplay:"narrow",unit:"millimeter"}},null,8,["modelValue"])]),_:1})),A(d,{label:"Lens Unit","input-width":"150px"},{default:C(()=>[A(c,{modelValue:s.value,"onUpdate:modelValue":u[3]||(u[3]=v=>s.value=v),items:a},null,8,["modelValue"])]),_:1})],64)):ie("",!0),A(d,{label:"Zoom","input-width":"150px"},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.zoom,"onUpdate:modelValue":u[4]||(u[4]=v=>h(e).activeCamera.zoom=v),step:.01},null,8,["modelValue"])]),_:1}),A(d,{label:"Clip Start","input-width":"150px",class:"mt-1",tooltip:{text:"Camera near clipping distance"}},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.near,"onUpdate:modelValue":u[5]||(u[5]=v=>h(e).activeCamera.near=v)},null,8,["modelValue"])]),_:1}),A(d,{label:"End","input-width":"150px",tooltip:{text:"Camera far clipping distance"}},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.far,"onUpdate:modelValue":u[6]||(u[6]=v=>h(e).activeCamera.far=v)},null,8,["modelValue"])]),_:1})])]),_:1}),A(p,{label:"Transform",item:{value:"transform"}},{default:C(()=>[j("div",Iq,[A(d,{label:"Position X","input-width":"150px"},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.position.x,"onUpdate:modelValue":u[7]||(u[7]=v=>h(e).activeCamera.position.x=v)},null,8,["modelValue"])]),_:1}),A(d,{label:"Y","input-width":"150px"},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.position.y,"onUpdate:modelValue":u[8]||(u[8]=v=>h(e).activeCamera.position.y=v)},null,8,["modelValue"])]),_:1}),A(d,{label:"Z","input-width":"150px"},{default:C(()=>[A(f,{modelValue:h(e).activeCamera.position.z,"onUpdate:modelValue":u[9]||(u[9]=v=>h(e).activeCamera.position.z=v)},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1})}}}),Bq={class:"block-border flex flex-col overflow-hidden rounded bg-window-bg"},qq={class:"flex items-center gap-1 p-1 leading-0"},Fq=F({__name:"DataProperties",setup(t){const e=ft(),n=V("object");pe(()=>e.selectedObject,()=>{o.value.find(s=>s.value===n.value)||(n.value=o.value[0]?.value||"object")});const o=q(()=>{const r=e.selectedObject;if(!r)return[];const s=[{icon:"properties/camera-properties",value:"camera",content:Dq,title:"Camera Properties"},{icon:"ui/object-data",value:"object",content:ZD,title:"Object Properties"}];return r instanceof U.Light&&s.push({icon:"properties/light-properties",content:YB,title:"Light Properties",value:"light"}),r instanceof U.Mesh&&(r.geometry instanceof El&&s.push({icon:"properties/text-properties",value:"textdata",content:eq,title:"Text Properties"}),"material"in r&&s.push({icon:"ui/material-data",value:"material",content:Rq,title:"Material Properties"})),s});return(r,s)=>{const i=Ct,a=oa,l=Ls;return k(),Q("div",Bq,[j("h2",qq,[A(i,{name:"properties/properties"}),s[1]||(s[1]=Te(" Properties ",-1))]),A(h(xa).Root,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=u=>n.value=u),class:"grid w-full grow grid-cols-[min-content_1fr] grid-rows-1 overflow-hidden",orientation:"vertical","default-value":"object"},{default:C(()=>[A(h(xa).List,{class:"relative flex flex-col gap-0.5 bg-ui-tab-inner pt-1 pl-1"},{default:C(()=>[(k(!0),Q(he,null,lt(o.value,u=>(k(),D(a,{key:u.value,tooltip:{text:u.title}},{default:C(()=>[A(h(xa).Trigger,{value:u.value,class:"cursor-pointer rounded-l-sm p-1 text-lg hover:bg-ui-tab-inner-selected data-[state='active']:bg-ui-tab-inner-selected"},{default:C(()=>[A(i,{name:u.icon,class:"m-auto"},null,8,["name"])]),_:2},1032,["value"])]),_:2},1032,["tooltip"]))),128))]),_:1}),A(l,null,{default:C(()=>[(k(!0),Q(he,null,lt(o.value,u=>(k(),D(h(xa).Content,{key:u.value,value:u.value,class:"p-2 pr-3"},{default:C(()=>[(k(),D(fo(u.content)))]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])}}}),Lq={class:"block-border text-sm leading-6 flex flex-col overflow-hidden rounded bg-window-bg alternate-rows relative"},Vq={class:"flex items-center gap-1 px-1 text-[1rem]"},$q={class:"flex items-center gap-1 px-1"},Nq={class:"overflow-hidden text-ellipsis whitespace-nowrap grow"},jq=F({__name:"DataOutliner",setup(t){const e=ft(),n=je();pe(()=>e.selectedObject,u=>{n.value=u??void 0});const o=q(()=>e.sceneChildren.filter(u=>!u.userData.isHelper).map(r));function r(u){return{uuid:u.uuid,type:u.type,name:u.name||u.type,visible:u.visible,userData:u.userData,children:u.children.length>0?u.children.map(r):[]}}function s(u){if("toggle"in u.target.dataset)return u.preventDefault();e.selectObject?.(u.detail.value?.uuid)}function i(u){"toggle"in u.target.dataset||u.preventDefault()}function a(u){return u===0?"0":`${u*1.5}em`}const l=new Map([["PointLight","light/light-point"],["SpotLight","light/light-spot"],["DirectionalLight","light/light-sun"],["RectAreaLight","light/light-area"],["Mesh","mesh/mesh"],["Group","outliner/group"]]);return(u,c)=>{const d=Ct,f=dg,p=Ls;return k(),Q("div",Lq,[j("h2",Vq,[A(d,{name:"outliner/outliner"}),c[2]||(c[2]=Te(" Outliner ",-1))]),A(p,null,{default:C(()=>[j("h3",$q,[A(d,{name:"ui/collection"}),c[3]||(c[3]=Te(" Scene Collection",-1))]),A(h(ch).Root,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=m=>n.value=m),"get-key":m=>m.uuid,items:o.value,"selection-behavior":"replace"},{default:C(({flattenItems:m})=>[(k(!0),Q(he,null,lt(m.filter(v=>!v.value.userData.isHelper),v=>(k(),D(h(ch).Item,X({ref_for:!0},v.bind,{key:v._id,style:{paddingLeft:a(v.level)},class:["relative flex snap-start items-center gap-1 pr-5 hover:bg-outliner-active-highlight",{"bg-outliner-active-highlight text-outliner-active-object":v.value.uuid===n.value?.uuid}],"data-testid":v.value.uuid===n.value?.uuid?"outliner-selected":void 0,onSelect:s,onToggle:i}),{default:C(({isExpanded:b})=>[v.hasChildren?(k(),D(d,{key:0,name:"ui/arrow-right",class:En([{"rotate-90":b},"size-[1.5em] p-0.5 shrink-0 text-xs"]),"data-toggle":""},null,8,["class"])):ie("",!0),A(d,{name:h(l).get(v.value.type)||"outliner/empty",class:"shrink-0"},null,8,["name"]),j("span",Nq,ge(v.value.name),1),j("div",{class:"contents",onClick:c[0]||(c[0]=Ve(()=>{},["stop"]))},[A(f,{class:"ml-auto","model-value":v.value.visible,"onUpdate:modelValue":g=>h(e).objectVisibilityUpdate(v.value.uuid,!v.value.visible)},{default:C(()=>[A(d,{name:v.value.visible?"misc/visibility-visible":"misc/visibility-hidden"},null,8,["name"])]),_:2},1032,["model-value","onUpdate:modelValue"])])]),_:2},1040,["style","class","data-testid"]))),128))]),_:1},8,["modelValue","get-key","items"])]),_:1})])}}}),zq={class:"sidebar grid min-h-0 grid-rows-(--side-rows) rounded"},Uq=F({__name:"MSidebar",setup(t){Gv(o=>({v3dd28c26:n.value+"px"}));const e=lo("divider"),n=V(500);return Pt(e,"pointerdown",o=>{const r=o.clientY,s=n.value,a=Pt(window,"pointermove",l=>{const u=r-l.clientY;n.value=Math.max(200,s+u)});Pt(window,"pointerup",a)}),(o,r)=>{const s=jq,i=Fq;return k(),Q("div",zq,[A(s),j("div",{ref_key:"divider",ref:e,class:"h-1 cursor-row-resize"},null,512),A(i)])}}}),Hq=Ns(Uq,[["__scopeId","data-v-abfb500c"]]),Gq={class:"absolute top-10 left-2.5 flex flex-col text-3xl"},Wq=["title","data-testid","data-active","onClick"],Kq=F({__name:"ViewportToolbar",setup(t){const e=ft(),n=[{name:"translate",icon:"toolbar/tool-move",onClick:()=>{e.setTransformMode("translate")},title:"Move",tooltip:"Move selected items",footer:"G"},{name:"rotate",icon:"toolbar/tool-rotate",onClick:()=>{e.setTransformMode("rotate")},title:"Rotate",tooltip:"Rotate selected items",footer:"R"},{name:"scale",icon:"toolbar/tool-scale",onClick:()=>{e.setTransformMode("scale")},title:"Scale",tooltip:"Scale (resize) selected items",footer:"S"}];return(o,r)=>{const s=Ct;return k(),Q("div",Gq,[(k(),Q(he,null,lt(n,i=>A(oa,{key:"toolbar_"+i.name,tooltip:{title:i.title,text:i.tooltip,footer:`Shortcut: ${i.footer}`},options:{content:{align:"start",side:"right",sideOffset:5}}},{default:C(()=>[j("button",{type:"button",class:En(["cursor-pointer border-[0.5px] border-ui-toolbar-outline bg-ui-toolbar-inner p-1 first:rounded-t last:rounded-b last:border-t-0 first:border-b-0",{"bg-ui-toolbar-inner-selected":i.name===h(e).currentTransformMode}]),title:i.title,"data-testid":`toolbar-btn-${i.name}`,"data-active":i.name===h(e).currentTransformMode,onClick:i.onClick},[A(s,{name:i.icon},null,8,["name"])],10,Wq)]),_:2},1032,["tooltip"])),64))])}}}),Yq={class:"flex"},Xq=["onClick"],Qq=["innerHTML"],Zq={class:"text-[.9em] opacity-50"},Jq=F({__name:"ViewportShadingControls",setup(t){const e=ia(),n=[{name:"wireframe",icon:"shading/shading-wireframe",tooltip:{title:"Viewport Shading: <em>Wireframe</em>",footer:"Display only edges of geometry without surface shading"}},{name:"solid",icon:"shading/shading-solid",tooltip:{title:"Viewport Shading: <em>Solid</em>",footer:"Display objects with flat lighting and basic surface shading"}},{name:"materialPreview",icon:"shading/shading-preview",tooltip:{title:"Viewport Shading: <em>Material Preview</em>",footer:"Preview materials using predefined environment lights"}},{name:"rendered",icon:"shading/shading-rendered",tooltip:{title:"Viewport Shading: <em>Rendered</em>",footer:"Preview the final scene using the active render engine"}}];return(o,r)=>{const s=Ct;return k(),Q("div",Yq,[(k(),Q(he,null,lt(n,(i,a)=>A(oa,{key:i.name,content:{align:"start",side:"bottom",alignOffset:-10,sideOffset:10}},{content:C(()=>[j("span",{innerHTML:i.tooltip.title},null,8,Qq),r[0]||(r[0]=j("p",{class:"mt-1"},"Method to display/shade objects in the 3D View",-1)),j("span",Zq,ge(i.tooltip.footer),1)]),default:C(()=>[j("button",{class:En(["cursor-pointer bg-ui-radio-inner p-0.5 hover:brightness-125",{"bg-ui-radio-inner-selected":i.name===h(e).shadingMode,"rounded-l":a===0,"rounded-r":a===n.length-1}]),type:"button",onClick:l=>h(e).setMode(i.name)},[A(s,{name:i.icon},null,8,["name"])],10,Xq)]),_:2},1024)),64))])}}}),e2=Ns(Jq,[["__scopeId","data-v-bc865b4a"]]),t2={key:0,src:Hb,alt:"",class:"inline-block size-[1em] scale-150"},n2={key:2},o2={class:"w-[1em]"},r2={class:"w-[1em]"},s2={class:"w-[1em]"},i2=F({__name:"MenuBar",props:{items:{}},setup(t){return(e,n)=>{const o=Ct;return k(),D(h(Mn).Root,{loop:""},{default:C(()=>[(k(!0),Q(he,null,lt(t.items,r=>(k(),D(h(Mn).Menu,{key:r.label},{default:C(()=>[A(h(Mn).Trigger,{class:"trigger"},{default:C(()=>[r.icon==="mixeur"?(k(),Q("img",t2)):r.icon?(k(),D(o,{key:1,name:r.icon},null,8,["name"])):(k(),Q("span",n2,ge(r.label),1))]),_:2},1024),A(h(Mn).Content,{class:"menubar-content"},{default:C(()=>[(k(!0),Q(he,null,lt(r.items,s=>(k(),Q(he,{key:s.key},[s.type==="item"?(k(),D(h(Mn).Item,{key:0,class:"item",onClick:s.onClick},{default:C(()=>[j("span",o2,[s.icon?(k(),D(o,{key:0,name:s.icon},null,8,["name"])):ie("",!0)]),Te(" "+ge(s.label),1)]),_:2},1032,["onClick"])):s.type==="checkbox"?(k(),D(h(Mn).CheckboxItem,{key:1,modelValue:s.model.value,"onUpdate:modelValue":i=>s.model.value=i,class:"item"},{default:C(()=>[s.model.value?(k(),D(o,{key:0,name:"ui/checkbox-checked"})):(k(),D(o,{key:1,name:"ui/checkbox-unchecked"})),Te(" "+ge(s.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])):s.type==="sub"?(k(),D(h(Mn).Sub,{key:2},{default:C(()=>[A(h(Mn).SubTrigger,{class:"item"},{default:C(()=>[j("span",r2,[s.icon?(k(),D(o,{key:0,name:s.icon},null,8,["name"])):ie("",!0)]),Te(" "+ge(s.label)+" ",1),A(o,{name:"base/triangle-right",class:"ml-auto text-[0.7em]"})]),_:2},1024),A(h(Mn).SubContent,{"align-offset":-3,class:"menubar-content"},{default:C(()=>[(k(!0),Q(he,null,lt(s.items,i=>(k(),D(h(Mn).Item,{key:i.key,class:"item",onClick:i.onClick},{default:C(()=>[j("span",s2,[i.icon?(k(),D(o,{key:0,name:i.icon},null,8,["name"])):ie("",!0)]),Te(" "+ge(i.label),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)):s.type==="separator"?(k(),D(h(Mn).Separator,{key:3,class:"h-px bg-ui-menu-bg-outline"})):ie("",!0)],64))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})}}}),py=Ns(i2,[["__scopeId","data-v-94cee40c"]]),a2={class:"flex items-center p-1 gap-2"},l2=F({__name:"ViewportHeader",setup(t){const e=[{label:"Add",items:[{type:"sub",key:"mesh",label:"Mesh",icon:"mesh/mesh",items:[{type:"item",key:"mesh_plane",label:"Plane",icon:"mesh/mesh-plane",onClick(){o("plane")}},{type:"item",key:"mesh_cube",label:"Cube",icon:"mesh/mesh-cube",onClick(){o("cube")}},{type:"item",key:"mesh_circle",label:"Circle",icon:"mesh/mesh-circle",onClick(){o("circle")}},{type:"item",key:"mesh_sphere",label:"UV Sphere",icon:"mesh/mesh-sphere",onClick(){o("sphere")}},{type:"item",key:"mesh_icosphere",label:"Ico Sphere",icon:"mesh/mesh-icosphere",onClick(){o("icosphere")}},{type:"item",key:"mesh_cylinder",label:"Cylinder",icon:"mesh/mesh-cylinder",onClick(){o("cylinder")}},{type:"item",key:"mesh_cone",label:"Cone",icon:"mesh/mesh-cone",onClick(){o("cone")}},{type:"item",key:"mesh_torus",label:"Torus",icon:"mesh/mesh-torus",onClick(){o("torus")}}]},{type:"item",key:"text",label:"Text",icon:"misc/text",onClick(){QB().then(s=>{s&&n.addModelToScene(s)})}},{type:"separator",key:"sep1"},{type:"sub",key:"light",label:"Light",icon:"light/light",items:[{type:"item",key:"light_point",label:"Point",icon:"light/light-point",onClick(){r("point")}},{type:"item",key:"light_spot",label:"Spot",icon:"light/light-spot",onClick(){r("spot")}},{type:"item",key:"light_directional",label:"Directional",icon:"light/light-sun",onClick(){r("sun")}},{type:"item",key:"light_area",label:"Area",icon:"light/light-area",onClick(){r("area")}}]}]}],n=ft();function o(s){const i=Lb(s);n.addModelToScene(i)}function r(s){const i=Fb({type:s});n.addLightToScene(i)}return(s,i)=>{const a=Ct,l=e2;return k(),Q("div",a2,[A(a,{name:"ui/viewport"}),A(py,{items:e}),A(l,{class:"ml-auto"})])}}}),u2=F({__name:"ViewNavigationWidget",setup(t){const e=ft();return(n,o)=>{const r=Ct,s=oa;return k(),D(s,{tooltip:{text:"Switch the current view from perspective/orthographic projection",footer:"Shortcut: Numpad 5"},options:{content:{align:"start",alignOffset:-10,side:"bottom",sideOffset:5}}},{default:C(()=>[j("button",X({type:"button",class:"cursor-pointer rounded-full bg-black p-1.5 text-xl text-white opacity-50 hover:bg-gray-500"},n.$attrs,{onClick:o[0]||(o[0]=(...i)=>h(e).switchCamera&&h(e).switchCamera(...i))}),[h(e).activeCamera.type==="PerspectiveCamera"?(k(),D(r,{key:0,name:"view/view-perspective"})):(k(),D(r,{key:1,name:"view/view-orthographic"}))],16)]),_:1})}}}),Eu=bu("app",()=>{const t=V(!1),e=V(!1),n=V(!1),o=ft();function r(a){Pt(a,"pointerenter",()=>t.value=!0),Pt(a,"pointerleave",()=>t.value=!1),Pt(a,"pointerdown",l=>{l.button===U.MOUSE.MIDDLE&&o.controls&&(o.controls.screenSpacePanning=!l.ctrlKey)}),Pt(window,"keydown",l=>{if(e.value=l.ctrlKey,n.value=l.shiftKey,!!t.value)switch(l.code){case"Numpad5":o.switchCamera();break;case"Numpad1":l.preventDefault(),s({z:1,invert:l.ctrlKey});break;case"Numpad3":l.preventDefault(),s({x:1,invert:l.ctrlKey});break;case"Numpad7":l.preventDefault(),s({y:1,invert:l.ctrlKey});break;case"KeyG":o.setTransformMode("translate");break;case"KeyR":o.setTransformMode("rotate");break;case"KeyS":o.setTransformMode("scale");break;case"Delete":o.selectedObject instanceof U.Object3D&&o.deleteFromScene(o.selectedObject);break}}),Pt(window,"keyup",l=>{e.value=l.ctrlKey,n.value=l.shiftKey}),Pt(a,"wheel",l=>{l.ctrlKey&&l.preventDefault();const{activeCamera:u,controls:c}=o;if(!c)return;const d=l.deltaY*-.01;if(u instanceof U.PerspectiveCamera){const f=new U.Vector3;f.subVectors(c.target,u.position).normalize();const p=l.shiftKey?d:l.ctrlKey?d*100:d*10;u.position.addScaledVector(f,p)}else if(u instanceof U.OrthographicCamera){const f=1+d*.1;u.zoom*=f,u.updateProjectionMatrix()}c.update()})}function s({x:a=0,y:l=0,z:u=0,invert:c=!1}){const{activeCamera:d,controls:f}=o;if(!f||!d)return;const p=c?-1:1,m=d.position.distanceTo(f.target),v=new U.Vector3(a*p,l*p,u*p).multiplyScalar(m);d.position.copy(f.target).add(v),d.up.set(0,1,0),d.lookAt(f.target),f.update()}return{pointerOnCanvas:t,isCtrlDown:e,isShiftDown:n,useHotKeys:r,showStatusBar:V(!0),setView:s}}),c2={ref:"wrapper",class:"relative grid h-full w-full grid-rows-[1fr_min_content] overflow-hidden rounded"},d2={class:"relative overflow-hidden"},f2={ref:"canvasRef",class:"block h-full w-full","data-testid":"viewport-canvas"},p2=F({__name:"MViewport",setup(t){const e=Eu(),n=lo("canvasRef");e.useHotKeys(n);const o=ft(),r=lo("webglErrorRef"),s=V(!1);return Ee(()=>{if(!Yh.isWebGL2Available()){s.value=!0;const i=Yh.getWebGL2ErrorMessage();i.setAttribute("style",""),r.value?.appendChild(i);return}o.initScene(n)}),(i,a)=>{const l=l2,u=Kq;return k(),Q("div",c2,[A(l,{class:"absolute top-0 left-0 z-1 w-full bg-viewport-header-bg"}),j("div",d2,[a[0]||(a[0]=j("div",{class:"gizmo-wrapper absolute top-10 right-0"},null,-1)),A(u2,{class:"absolute top-40 right-2.5"}),Oo(j("div",{ref_key:"webglErrorRef",ref:r,class:"webgl-error"},null,512),[[Bi,s.value]]),Oo(j("canvas",f2,null,512),[[Bi,!s.value]])]),A(u)],512)}}}),h2={class:"flex items-center gap-1 text-xl select-none"},m2={class:"text-xs"},v2=F({__name:"KeymapInformation",setup(t){const e=Eu(),n=[{icon:"keys/lmb",text:"Select",key:null},{icon:"keys/mmb",text:"Rotate View",key:null},{icon:"keys/lmb",text:"Select Toggle",key:"shift"},{icon:"keys/mmb",text:"Screen Space Pan View",key:"shift"},{icon:"keys/mmb",text:"Pan View",key:"ctrl"}],o=q(()=>e.isCtrlDown?n.filter(r=>r.key==="ctrl"):e.isShiftDown?n.filter(r=>r.key==="shift"):n.filter(r=>!r.key));return(r,s)=>{const i=Ct;return Oo((k(),Q("div",h2,[(k(!0),Q(he,null,lt(o.value,a=>(k(),Q("div",{key:a.text,class:"align-center flex"},[A(i,{name:a.icon},null,8,["name"]),j("span",m2,ge(a.text),1)]))),128))],512)),[[Bi,h(e).pointerOnCanvas]])}}}),g2={class:"flex h-6 items-center justify-end gap-1 bg-status-background px-2 py-1 text-xs text-header-text"},b2={class:"version"},y2=F({__name:"StatusBar",setup(t){const e=ft();return(n,o)=>(k(),Q("footer",g2,[A(v2,{class:"mr-auto"}),h(e).monitor.memory?(k(),Q(he,{key:0},[j("div",null,"RAM: "+ge(h(e).monitor.memory)+" MB",1),o[0]||(o[0]=j("div",{class:"divider h-full w-px bg-header-text"},null,-1))],64)):ie("",!0),j("div",null,"Geometries: "+ge(h(e).monitor.geometries)+", Textures: "+ge(h(e).monitor.textures),1),o[1]||(o[1]=j("div",{class:"divider h-full w-px bg-header-text"},null,-1)),j("div",b2,ge(h(Gb)),1)]))}}),_2={class:"flex items-center bg-topbar-background p-1 px-2"},w2={href:"https://github.com/zabastx/vue-mixeur",class:"ml-auto text-xl",target:"_blank",title:"GitHub repository"},x2=F({__name:"TopBar",setup(t){const e=Eu(),n=ft(),{open:o}=Vf(),r=q({get(){return e.showStatusBar},set(u){e.showStatusBar=u}}),s=[{label:"mixeur",icon:"mixeur",items:[{type:"item",key:"about",label:"About Mixeur",onClick(){o("about")}}]},{label:"File",items:[{type:"sub",key:"import",label:"Import",icon:"ui/import",items:[{type:"item",key:"import_gltf",label:"glTF 2.0 (.glb)",onClick:()=>{l("glb")}},{type:"item",key:"import_obj",label:"Wavefront (.obj)",onClick:()=>{l("obj")}},{type:"item",key:"import_library",label:"Import from library",onClick:()=>{o("modelsLibrary")}}]},{type:"item",key:"export",label:"Export",icon:"misc/export",onClick(){n.exportScene()}}]},{label:"Render",items:[{type:"item",key:"render_image",label:"Render Image",icon:"ui/render-image",onClick(){o("renderImage")}}]},{label:"Window",items:[{type:"item",key:"window_fullscreen",label:"Toggle Window Fullscreen",icon:"misc/full-screen",onClick(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}},{type:"separator",key:"sep1"},{type:"checkbox",key:"window_status_bar",label:"Show Status Bar",model:r}]}],i=ft(),{toast:a}=vo();async function l(u){const{data:c}=await BI(`.${u}`);if(c)try{await i.importModel({filename:c.filename,url:c.url,format:u})}catch(d){console.error(d),a.error(`Failed to import ${u} file`)}finally{c?.cleanup()}}return(u,c)=>{const d=Ct;return k(),Q("header",_2,[A(py,{items:s}),j("a",w2,[A(d,{name:"misc/github"})])])}}}),S2={key:0,class:"fixed bottom-16 left-4 z-50 w-sm space-y-2","data-testid":"loading-progress"},C2={class:"mb-2 flex items-center justify-between"},T2={class:"truncate text-sm font-medium"},E2={class:"text-xs opacity-70"},A2={class:"mb-2 h-2 w-full rounded-full bg-ui-number-inner"},M2={class:"flex justify-between text-xs opacity-70"},P2={key:0},k2=F({__name:"ModelLoadingProgress",setup(t){const e=sa(),n=q(()=>e.getActiveLoadings());function o(s){if(s===0)return"0 B";const i=1024,a=["B","KB","MB","GB"],l=Math.floor(Math.log(s)/Math.log(i));return parseFloat((s/Math.pow(i,l)).toFixed(1))+" "+a[l]}function r(s){const i=Math.ceil(s/1e3);if(i<60)return`${i}s remaining`;const a=Math.floor(i/60),l=i%60;return`${a}m ${l}s remaining`}return(s,i)=>n.value.length>0?(k(),Q("div",S2,[(k(!0),Q(he,null,lt(n.value,a=>(k(),Q("div",{key:a.id,class:"rounded-lg border border-ui-menu-bg-outline bg-panel-background p-4 text-white shadow-lg"},[j("div",C2,[j("h3",T2,ge(a.filename),1),j("span",E2,ge(Math.round(a.percentage))+"%",1)]),j("div",A2,[j("div",{class:"h-2 rounded-full bg-ui-radio-inner-selected transition-all duration-300 ease-out",style:pt({width:`${a.percentage}%`})},null,4)]),j("div",M2,[j("span",null,ge(o(a.loaded))+" / "+ge(o(a.total)),1),a.estimatedTimeRemaining?(k(),Q("span",P2,ge(r(a.estimatedTimeRemaining)),1)):ie("",!0)])]))),128))])):ie("",!0)}}),R2={class:"toast-content"},O2={class:"flex items-start gap-2"},I2={class:"flex-1"},D2=F({__name:"MToast",setup(t,{expose:e}){const n=V([]);let o=0;const r=l=>{const u=l.id||`toast-${++o}`,c={id:u,title:l.title,message:l.message,type:l.type||"info",duration:l.duration||5e3,open:!0};return n.value.push(c),u},s=l=>{const u=n.value.findIndex(c=>c.id===l);u>-1&&n.value.splice(u,1)},i=()=>{n.value=[]},a=l=>({info:"toast-icon-info",success:"toast-icon-success",warning:"toast-icon-warning",error:"toast-icon-error"})[l];return e({addToast:r,removeToast:s,clearAllToasts:i}),(l,u)=>(k(),Q(he,null,[A(h(sP),{class:"fixed right-4 bottom-4 z-50 flex max-w-sm flex-col gap-2"}),(k(!0),Q(he,null,lt(n.value,c=>(k(),D(h(eP),{key:c.id,open:c.open,duration:c.duration,"onUpdate:open":d=>!d&&s(c.id)},{default:C(()=>[j("div",R2,[j("div",O2,[j("div",{class:En(["toast-icon",a(c.type)])},null,2),j("div",I2,[c.title?(k(),D(h(nP),{key:0,class:"toast-title"},{default:C(()=>[Te(ge(c.title),1)]),_:2},1024)):ie("",!0),A(h(ZM),{class:"toast-description"},{default:C(()=>[Te(ge(c.message),1)]),_:2},1024)]),A(h(XM),{class:"toast-close"},{default:C(()=>[...u[0]||(u[0]=[j("span",{class:"sr-only"},"Close",-1),j("svg",{class:"h-3 w-3",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[j("path",{d:"m11.7816 4.03157c.0824-.08241.0824-.21569 0-.2981-.0824-.08241-.2157-.08241-.2981 0L7.50002 7.70792 3.51852 3.73307c-.08241-.08241-.21569-.08241-.2981 0-.08241.08241-.08241.21569 0 .2981L7.20192 7.99997 3.22002 11.9819c-.08241.0824-.08241.2157 0 .2981.08241.0824.21569.0824.2981 0L7.50002 8.30202l3.98148 3.98148c.0824.0824.2157.0824.2981 0 .0824-.0824.0824-.2157 0-.2981L7.79812 7.99997l3.98148-3.9684z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})],-1)])]),_:1})])])]),_:2},1032,["open","duration","onUpdate:open"]))),128))],64))}}),B2=Ns(D2,[["__scopeId","data-v-c2924608"]]),q2={class:"flex h-full flex-col font-sans text-gray-200"},F2={class:"grid min-h-0 flex-1 grid-cols-(--main-cols) bg-editor-border p-1 select-none"},L2=F({__name:"App",setup(t){Gv(i=>({v007f9c81:s.value+"px"}));const e=Eu(),{setToastInstance:n}=vo(),o=lo("toastRef");Ee(()=>{o.value&&n(o.value)});const r=lo("divider"),s=V(window.innerWidth*.25);return Pt(r,"pointerdown",i=>{const a=i.clientX,l=s.value,c=Pt(window,"pointermove",d=>{const f=a-d.clientX;s.value=Math.max(200,l+f)});Pt(window,"pointerup",c)}),(i,a)=>{const l=ND;return k(),D(h(FM),null,{default:C(()=>[A(h(lP),{"delay-duration":300,"disable-hoverable-content":""},{default:C(()=>[j("div",q2,[A(x2),j("main",F2,[A(p2,{class:"block-border"}),j("div",{ref_key:"divider",ref:r,class:"divider w-1 cursor-col-resize"},null,512),A(Hq)]),Oo(A(y2,null,null,512),[[Bi,h(e).showStatusBar]]),A(k2),A(B2,{ref_key:"toastRef",ref:o},null,512),A(l)])]),_:1})]),_:1})}}}),V2=Ns(L2,[["__scopeId","data-v-1cd49caa"]]),$2=fk(),hy=aw(V2);hy.use($2);hy.mount("#app");var N2=(function(){var t="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuikqbeeedddillviebeoweuec:q:Odkr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbol79IV9Rbrq;w8Wqdbk;esezu8Jjjjjbcj;eb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Radz1jjjbhwcj;abad9Uc;WFbGgocjdaocjd6EhDaicefhocbhqdnindndndnaeaq9nmbaDaeaq9RaqaDfae6Egkcsfglcl4cifcd4hxalc9WGgmTmecbhPawcjdfhsaohzinaraz9Rax6mvarazaxfgo9RcK6mvczhlcbhHinalgic9WfgOawcj;cbffhldndndndndnazaOco4fRbbaHcoG4ciGPlbedibkal9cb83ibalcwf9cb83ibxikalaoRblaoRbbgOco4gAaAciSgAE86bbawcj;cbfaifglcGfaoclfaAfgARbbaOcl4ciGgCaCciSgCE86bbalcVfaAaCfgARbbaOcd4ciGgCaCciSgCE86bbalc7faAaCfgARbbaOciGgOaOciSgOE86bbalctfaAaOfgARbbaoRbegOco4gCaCciSgCE86bbalc91faAaCfgARbbaOcl4ciGgCaCciSgCE86bbalc4faAaCfgARbbaOcd4ciGgCaCciSgCE86bbalc93faAaCfgARbbaOciGgOaOciSgOE86bbalc94faAaOfgARbbaoRbdgOco4gCaCciSgCE86bbalc95faAaCfgARbbaOcl4ciGgCaCciSgCE86bbalc96faAaCfgARbbaOcd4ciGgCaCciSgCE86bbalc97faAaCfgARbbaOciGgOaOciSgOE86bbalc98faAaOfgORbbaoRbigoco4gAaAciSgAE86bbalc99faOaAfgORbbaocl4ciGgAaAciSgAE86bbalc9:faOaAfgORbbaocd4ciGgAaAciSgAE86bbalcufaOaAfglRbbaociGgoaociSgoE86bbalaofhoxdkalaoRbwaoRbbgOcl4gAaAcsSgAE86bbawcj;cbfaifglcGfaocwfaAfgARbbaOcsGgOaOcsSgOE86bbalcVfaAaOfgORbbaoRbegAcl4gCaCcsSgCE86bbalc7faOaCfgORbbaAcsGgAaAcsSgAE86bbalctfaOaAfgORbbaoRbdgAcl4gCaCcsSgCE86bbalc91faOaCfgORbbaAcsGgAaAcsSgAE86bbalc4faOaAfgORbbaoRbigAcl4gCaCcsSgCE86bbalc93faOaCfgORbbaAcsGgAaAcsSgAE86bbalc94faOaAfgORbbaoRblgAcl4gCaCcsSgCE86bbalc95faOaCfgORbbaAcsGgAaAcsSgAE86bbalc96faOaAfgORbbaoRbvgAcl4gCaCcsSgCE86bbalc97faOaCfgORbbaAcsGgAaAcsSgAE86bbalc98faOaAfgORbbaoRbogAcl4gCaCcsSgCE86bbalc99faOaCfgORbbaAcsGgAaAcsSgAE86bbalc9:faOaAfgORbbaoRbrgocl4gAaAcsSgAE86bbalcufaOaAfglRbbaocsGgoaocsSgoE86bbalaofhoxekalao8Pbb83bbalcwfaocwf8Pbb83bbaoczfhokdnaiam9pmbaHcdfhHaiczfhlarao9RcL0mekkaiam6mvaoTmvdnakTmbawaPfRbbhHawcj;cbfhlashiakhOinaialRbbgzce4cbazceG9R7aHfgH86bbaiadfhialcefhlaOcufgOmbkkascefhsaohzaPcefgPad9hmbxikkcbc99arao9Radcaadca0ESEhoxlkaoaxad2fhCdnakmbadhlinaoTmlarao9Rax6mlaoaxfhoalcufglmbkaChoxekcbhmawcjdfhAinarao9Rax6miawamfRbbhHawcj;cbfhlaAhiakhOinaialRbbgzce4cbazceG9R7aHfgH86bbaiadfhialcefhlaOcufgOmbkaAcefhAaoaxfhoamcefgmad9hmbkaChokabaqad2fawcjdfakad2z1jjjb8Aawawcjdfakcufad2fadz1jjjb8Aakaqfhqaombkc9:hoxekc9:hokavcj;ebf8Kjjjjbaok;cseHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgwce0mbavc;abfcFecjez:jjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhDaicefgqarfhidnaeTmbcmcsawceSEhkcbhxcbhmcbhPcbhwcbhlindnaiaD9nmbc9:hoxikdndnaqRbbgoc;Ve0mbavc;abfalaocu7gscl4fcsGcitfgzydlhrazydbhzdnaocsGgHak9pmbavawasfcsGcdtfydbaxaHEhoaHThsdndnadcd9hmbabaPcetfgHaz87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHazBdbaHcwfaoBdbaHclfarBdbkaxasfhxcdhHavawcdtfaoBdbawasfhwcehsalhOxdkdndnaHcsSmbaHc987aHamffcefhoxekaicefhoai8SbbgHcFeGhsdndnaHcu9mmbaohixekaicvfhiascFbGhscrhHdninao8SbbgOcFbGaHtasVhsaOcu9kmeaocefhoaHcrfgHc8J9hmbxdkkaocefhikasce4cbasceG9R7amfhokdndnadcd9hmbabaPcetfgHaz87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHazBdbaHcwfaoBdbaHclfarBdbkcdhHavawcdtfaoBdbcehsawcefhwalhOaohmxekdnaocpe0mbaxcefgHavawaDaocsGfRbbgocl49RcsGcdtfydbaocz6gzEhravawao9RcsGcdtfydbaHazfgAaocsGgHEhoaHThCdndnadcd9hmbabaPcetfgHax87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHaxBdbaHcwfaoBdbaHclfarBdbkcdhsavawcdtfaxBdbavawcefgwcsGcdtfarBdbcihHavc;abfalcitfgOaxBdlaOarBdbavawazfgwcsGcdtfaoBdbalcefcsGhOawaCfhwaxhzaAaCfhxxekaxcbaiRbbgOEgzaoc;:eSgHfhraOcsGhCaOcl4hAdndnaOcs0mbarcefhoxekarhoavawaA9RcsGcdtfydbhrkdndnaCmbaocefhxxekaohxavawaO9RcsGcdtfydbhokdndnaHTmbaicefhHxekaicdfhHai8SbegscFeGhzdnascu9kmbaicofhXazcFbGhzcrhidninaH8SbbgscFbGaitazVhzascu9kmeaHcefhHaicrfgic8J9hmbkaXhHxekaHcefhHkazce4cbazceG9R7amfgmhzkdndnaAcsSmbaHhsxekaHcefhsaH8SbbgicFeGhrdnaicu9kmbaHcvfhXarcFbGhrcrhidninas8SbbgHcFbGaitarVhraHcu9kmeascefhsaicrfgic8J9hmbkaXhsxekascefhskarce4cbarceG9R7amfgmhrkdndnaCcsSmbashixekascefhias8SbbgocFeGhHdnaocu9kmbascvfhXaHcFbGhHcrhodninai8SbbgscFbGaotaHVhHascu9kmeaicefhiaocrfgoc8J9hmbkaXhixekaicefhikaHce4cbaHceG9R7amfgmhokdndnadcd9hmbabaPcetfgHaz87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHazBdbaHcwfaoBdbaHclfarBdbkcdhsavawcdtfazBdbavawcefgwcsGcdtfarBdbcihHavc;abfalcitfgXazBdlaXarBdbavawaOcz6aAcsSVfgwcsGcdtfaoBdbawaCTaCcsSVfhwalcefcsGhOkaqcefhqavc;abfaOcitfgOarBdlaOaoBdbavc;abfalasfcsGcitfgraoBdlarazBdbawcsGhwalaHfcsGhlaPcifgPae6mbkkcbc99aiaDSEhokavc;aef8Kjjjjbaok:flevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaic8Etc8F91aicd47avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaic8Etc8F91aicd47avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;oiliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabaiavcefciGfcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:OhDxekcjjjj94hDkabaiavciGfgkcd7cetfaD87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:OhDxekcjjjj94hDkabaiavcufciGfcetfaD87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohvxekcjjjj94hvkabakcetfav87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2gdTmbinababydbgecwtcw91:Yaece91cjjj98Gcjjj;8if::NUdbabclfhbadcufgdmbkkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;LeeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiclfaeclfydbBdbaicwfaecwfydbBdbaicxfaecxfydbBdbaeczfheaiczfhiadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk;aeedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdbaicxfalBdbaicwfalBdbaiclfalBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkkkebcjwklzNbb",e="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuikqbbebeedddilve9Weeeviebeoweuec:q:6dkr;leDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949Wbwl79IV9RbDq:p9sqlbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk:N8JlHud97euo978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnadcefal0mbcuhoaiRbbc:Ge9hmbavaialfgrad9Rad;8qbbcj;abad9UhlaicefhodnaeTmbadTmbalc;WFbGglcjdalcjd6EhwcbhDinawaeaD9RaDawfae6Egqcsfglc9WGgkci2hxakcethmalcl4cifcd4hPabaDad2fhsakc;ab6hzcbhHincbhOaohAdndninaraA9RaP6meavcj;cbfaOak2fhCaAaPfhocbhidnazmbarao9Rc;Gb6mbcbhlinaCalfhidndndndndnaAalco4fRbbgXciGPlbedibkaipxbbbbbbbbbbbbbbbbpklbxikaiaopbblaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbaoclfaYpQbfaKc:q:yjjbfRbbfhoxdkaiaopbbwaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklbaocwfaYpQbfaKc:q:yjjbfRbbfhoxekaiaopbbbpklbaoczfhokdndndndndnaXcd4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklzxikaiaopbblaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzaoclfaYpQbfaKc:q:yjjbfRbbfhoxdkaiaopbbwaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklzaocwfaYpQbfaKc:q:yjjbfRbbfhoxekaiaopbbbpklzaoczfhokdndndndndnaXcl4ciGPlbedibkaipxbbbbbbbbbbbbbbbbpklaxikaiaopbblaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaaoclfaYpQbfaKc:q:yjjbfRbbfhoxdkaiaopbbwaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spklaaocwfaYpQbfaKc:q:yjjbfRbbfhoxekaiaopbbbpklaaoczfhokdndndndndnaXco4Plbedibkaipxbbbbbbbbbbbbbbbbpkl8WxikaiaopbblaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WaoclfaYpQbfaXc:q:yjjbfRbbfhoxdkaiaopbbwaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibaXc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgXcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkl8WaocwfaYpQbfaXc:q:yjjbfRbbfhoxekaiaopbbbpkl8Waoczfhokalc;abfhialcjefak0meaihlarao9Rc;Fb0mbkkdnaiak9pmbaici4hlinarao9RcK6miaCaifhXdndndndndnaAaico4fRbbalcoG4ciGPlbedibkaXpxbbbbbbbbbbbbbbbbpkbbxikaXaopbblaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLgQcdp:meaQpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9ogLpxiiiiiiiiiiiiiiiip8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkbbaoclfaYpQbfaKc:q:yjjbfRbbfhoxdkaXaopbbwaopbbbgQclp:meaQpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9ogLpxssssssssssssssssp8JgQp5b9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibaKc:q:yjjbfpbbbgYaYpmbbbbbbbbbbbbbbbbaQp5e9cjF;8;4;W;G;ab9:9cU1:NgKcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPaLaQp9spkbbaocwfaYpQbfaKc:q:yjjbfRbbfhoxekaXaopbbbpkbbaoczfhokalcdfhlaiczfgiak6mbkkaoTmeaohAaOcefgOclSmdxbkkc9:hoxlkdnakTmbavcjdfaHfhiavaHfpbdbhYcbhXinaiavcj;cbfaXfglpblbgLcep9TaLpxeeeeeeeeeeeeeeeegQp9op9Hp9rgLalakfpblbg8Acep9Ta8AaQp9op9Hp9rg8ApmbzeHdOiAlCvXoQrLgEalamfpblbg3cep9Ta3aQp9op9Hp9rg3alaxfpblbg5cep9Ta5aQp9op9Hp9rg5pmbzeHdOiAlCvXoQrLg8EpmbezHdiOAlvCXorQLgQaQpmbedibedibedibediaYp9UgYp9AdbbaiadfglaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaladfglaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaladfglaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaladfglaYaEa8EpmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaladfglaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaladfglaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaladfglaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaladfglaYaLa8ApmwKDYq8AkEx3m5P8Es8FgLa3a5pmwKDYq8AkEx3m5P8Es8Fg8ApmbezHdiOAlvCXorQLgQaQpmbedibedibedibedip9UgYp9AdbbaladfglaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaladfglaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaladfglaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaladfglaYaLa8ApmwDKYqk8AExm35Ps8E8FgQaQpmbedibedibedibedip9UgYp9AdbbaladfglaYaQaQpmlvorlvorlvorlvorp9UgYp9AdbbaladfglaYaQaQpmwDqkwDqkwDqkwDqkp9UgYp9AdbbaladfglaYaQaQpmxmPsxmPsxmPsxmPsp9UgYp9AdbbaladfhiaXczfgXak6mbkkaHclfgHad6mbkasavcjdfaqad2;8qbbavavcjdfaqcufad2fad;8qbbaqaDfgDae6mbkkcbc99arao9Radcaadca0ESEhokavcj;kbf8Kjjjjbaokwbz:bjjjbk::seHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgwce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhDaicefgqarfhidnaeTmbcmcsawceSEhkcbhxcbhmcbhPcbhwcbhlindnaiaD9nmbc9:hoxikdndnaqRbbgoc;Ve0mbavc;abfalaocu7gscl4fcsGcitfgzydlhrazydbhzdnaocsGgHak9pmbavawasfcsGcdtfydbaxaHEhoaHThsdndnadcd9hmbabaPcetfgHaz87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHazBdbaHcwfaoBdbaHclfarBdbkaxasfhxcdhHavawcdtfaoBdbawasfhwcehsalhOxdkdndnaHcsSmbaHc987aHamffcefhoxekaicefhoai8SbbgHcFeGhsdndnaHcu9mmbaohixekaicvfhiascFbGhscrhHdninao8SbbgOcFbGaHtasVhsaOcu9kmeaocefhoaHcrfgHc8J9hmbxdkkaocefhikasce4cbasceG9R7amfhokdndnadcd9hmbabaPcetfgHaz87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHazBdbaHcwfaoBdbaHclfarBdbkcdhHavawcdtfaoBdbcehsawcefhwalhOaohmxekdnaocpe0mbaxcefgHavawaDaocsGfRbbgocl49RcsGcdtfydbaocz6gzEhravawao9RcsGcdtfydbaHazfgAaocsGgHEhoaHThCdndnadcd9hmbabaPcetfgHax87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHaxBdbaHcwfaoBdbaHclfarBdbkcdhsavawcdtfaxBdbavawcefgwcsGcdtfarBdbcihHavc;abfalcitfgOaxBdlaOarBdbavawazfgwcsGcdtfaoBdbalcefcsGhOawaCfhwaxhzaAaCfhxxekaxcbaiRbbgOEgzaoc;:eSgHfhraOcsGhCaOcl4hAdndnaOcs0mbarcefhoxekarhoavawaA9RcsGcdtfydbhrkdndnaCmbaocefhxxekaohxavawaO9RcsGcdtfydbhokdndnaHTmbaicefhHxekaicdfhHai8SbegscFeGhzdnascu9kmbaicofhXazcFbGhzcrhidninaH8SbbgscFbGaitazVhzascu9kmeaHcefhHaicrfgic8J9hmbkaXhHxekaHcefhHkazce4cbazceG9R7amfgmhzkdndnaAcsSmbaHhsxekaHcefhsaH8SbbgicFeGhrdnaicu9kmbaHcvfhXarcFbGhrcrhidninas8SbbgHcFbGaitarVhraHcu9kmeascefhsaicrfgic8J9hmbkaXhsxekascefhskarce4cbarceG9R7amfgmhrkdndnaCcsSmbashixekascefhias8SbbgocFeGhHdnaocu9kmbascvfhXaHcFbGhHcrhodninai8SbbgscFbGaotaHVhHascu9kmeaicefhiaocrfgoc8J9hmbkaXhixekaicefhikaHce4cbaHceG9R7amfgmhokdndnadcd9hmbabaPcetfgHaz87ebaHclfao87ebaHcdfar87ebxekabaPcdtfgHazBdbaHcwfaoBdbaHclfarBdbkcdhsavawcdtfazBdbavawcefgwcsGcdtfarBdbcihHavc;abfalcitfgXazBdlaXarBdbavawaOcz6aAcsSVfgwcsGcdtfaoBdbawaCTaCcsSVfhwalcefcsGhOkaqcefhqavc;abfaOcitfgOarBdlaOaoBdbavc;abfalasfcsGcitfgraoBdlarazBdbawcsGhwalaHfcsGhlaPcifgPae6mbkkcbc99aiaDSEhokavc;aef8Kjjjjbaok:flevu8Jjjjjbcz9Rhvc9:hodnaecvfal0mbcuhoaiRbbc;:eGc;qe9hmbav9cb83iwaicefhraialfc98fhwdnaeTmbdnadcdSmbcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcdtfaic8Etc8F91aicd47avcwfaiceGcdtVgoydbfglBdbaoalBdbaDcefgDae9hmbxdkkcbhDindnaraw6mbc9:skarcefhoar8SbbglcFeGhidndnalcu9mmbaohrxekarcvfhraicFbGhicrhldninao8SbbgdcFbGaltaiVhiadcu9kmeaocefhoalcrfglc8J9hmbxdkkaocefhrkabaDcetfaic8Etc8F91aicd47avcwfaiceGcdtVgoydbfgl87ebaoalBdbaDcefgDae9hmbkkcbc99arawSEhokaok:wPliuo97eue978Jjjjjbca9Rhiaec98Ghldndnadcl9hmbdnalTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalaeSmeaipxbbbbbbbbbbbbbbbbgqpklbaiabalcdtfgdaeciGglcdtgv;8qbbdnalTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDaqp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkadaiav;8qbbskdnalTmbcbhvabhdinadczfgxaxpbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmbediwDqkzHOAKY8AEgwczp:Reczp:Sep;6egraDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eawczp:Sep;6egwp;Gearp;Gep;Kep;Legopxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegrpxb;:FSb;:FSb;:FSb;:FSararp;Meaoaop;Meawaqawamp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFFbbFFbbFFbbFFbbp9oaoawp;Meaqp;Keczp:Rep9qgoarawp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogrpmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oaoarpmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgval6mbkkalaeSmbaiaeciGgvcitgdfcbcaad9R;8kbaiabalcitfglad;8qbbdnavTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmbediwDqkzHOAKY8AEgwczp:Reczp:Sep;6egraDaopmlvorxmPsCXQL358E8FpxFubbFubbFubbFubbp9op;6eawczp:Sep;6egwp;Gearp;Gep;Kep;Legopxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgmp9op9rp;Kegrpxb;:FSb;:FSb;:FSb;:FSararp;Meaoaop;Meawaqawamp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFFbbFFbbFFbbFFbbp9oaoawp;Meaqp;Keczp:Rep9qgoarawp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogrpmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oaoarpmbezHdiOAlvCXorQLp9qpklbkalaiad;8qbbkk;4wllue97euv978Jjjjjbc8W9Rhidnaec98GglTmbcbhvabhoinaiaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklbaopxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaDakp;Mearp;Keamp9oaqakp;Mearp;Keczp:Rep9qgkpmbezHdiOAlvCXorQLgrp5baipblbpEb:T:j83ibaocwfarp5eaipblbpEe:T:j83ibawaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblbpEd:T:j83ibaocKfakp5eaipblbpEi:T:j83ibaocafhoavclfgval6mbkkdnalaeSmbaiaeciGgvcitgofcbcaao9R;8kbaiabalcitfgwao;8qbbdnavTmbaiaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkclp:RepklaaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81Zakpxibbbibbbibbbibbbp9qp;6ep;NegkaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meakarczp:Sep;6ep;Megxaxp;Meakaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgkp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgmp9oaxakp;Mearp;Keczp:Rep9qgxaDakp;Mearp;Keamp9oaqakp;Mearp;Keczp:Rep9qgkpmbezHdiOAlvCXorQLgrp5baipblapEb:T:j83ibaiarp5eaipblapEe:T:j83iwaiaxakpmwDKYqk8AExm35Ps8E8Fgkp5baipblapEd:T:j83izaiakp5eaipblapEi:T:j83iKkawaiao;8qbbkk:Pddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbheabhdinadadpbbbgocwp:Recwp:Sep;6eaocep:SepxbbjFbbjFbbjFbbjFp9opxbbjZbbjZbbjZbbjZp:Uep;Mepkbbadczfhdaeclfgeav6mbkkdnavalSmbaialciGgecdtgdVcbc;abad9R;8kbaiabavcdtfgvad;8qbbdnaeTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjFbbjFbbjFbbjFp9opxbbjZbbjZbbjZbbjZp:Uep;Mepklbkavaiad;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz:Dbb",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),o=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var r=WebAssembly.validate(n)?a(e):a(t),s,i=WebAssembly.instantiate(r,{}).then(function(g){s=g.instance,s.exports.__wasm_call_ctors()});function a(g){for(var y=new Uint8Array(g.length),_=0;_<g.length;++_){var w=g.charCodeAt(_);y[_]=w>96?w-97:w>64?w-39:w+4}for(var x=0,_=0;_<g.length;++_)y[x++]=y[_]<60?o[y[_]]:(y[_]-60)*64+y[++_];return y.buffer.slice(0,x)}function l(g,y,_,w,x,P,T){var M=g.exports.sbrk,E=w+3&-4,S=M(E*x),R=M(P.length),O=new Uint8Array(g.exports.memory.buffer);O.set(P,R);var I=y(S,w,x,R,P.length);if(I==0&&T&&T(S,E,x),_.set(O.subarray(S,S+w*x)),M(S-M(0)),I!=0)throw new Error("Malformed buffer data: "+I)}var u={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},d=[],f=0;function p(g){var y={object:new Worker(g),pending:0,requests:{}};return y.object.onmessage=function(_){var w=_.data;y.pending-=w.count,y.requests[w.id][w.action](w.value),delete y.requests[w.id]},y}function m(g){for(var y="self.ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(r)+"]), {}).then(function(result) { result.instance.exports.__wasm_call_ctors(); return result.instance; });self.onmessage = "+b.name+";"+l.toString()+b.toString(),_=new Blob([y],{type:"text/javascript"}),w=URL.createObjectURL(_),x=d.length;x<g;++x)d[x]=p(w);for(var x=g;x<d.length;++x)d[x].object.postMessage({});d.length=g,URL.revokeObjectURL(w)}function v(g,y,_,w,x){for(var P=d[0],T=1;T<d.length;++T)d[T].pending<P.pending&&(P=d[T]);return new Promise(function(M,E){var S=new Uint8Array(_),R=++f;P.pending+=g,P.requests[R]={resolve:M,reject:E},P.object.postMessage({id:R,count:g,size:y,source:S,mode:w,filter:x},[S.buffer])})}function b(g){var y=g.data;if(!y.id)return self.close();self.ready.then(function(_){try{var w=new Uint8Array(y.count*y.size);l(_,_.exports[y.mode],w,y.count,y.size,y.source,_.exports[y.filter]),self.postMessage({id:y.id,count:y.count,action:"resolve",value:w},[w.buffer])}catch(x){self.postMessage({id:y.id,count:y.count,action:"reject",value:x})}})}return{ready:i,supported:!0,useWorkers:function(g){m(g)},decodeVertexBuffer:function(g,y,_,w,x){l(s,s.exports.meshopt_decodeVertexBuffer,g,y,_,w,s.exports[u[x]])},decodeIndexBuffer:function(g,y,_,w){l(s,s.exports.meshopt_decodeIndexBuffer,g,y,_,w)},decodeIndexSequence:function(g,y,_,w){l(s,s.exports.meshopt_decodeIndexSequence,g,y,_,w)},decodeGltfBuffer:function(g,y,_,w,x,P){l(s,s.exports[c[x]],g,y,_,w,s.exports[u[P]])},decodeGltfBufferAsync:function(g,y,_,w,x){return d.length>0?v(g,y,_,c[w],u[x]):i.then(function(){var P=new Uint8Array(g*y);return l(s,s.exports[c[w]],P,g,y,_,s.exports[u[x]]),P})}}})();const j2=Object.freeze(Object.defineProperty({__proto__:null,MeshoptDecoder:N2},Symbol.toStringTag,{value:"Module"}));export{W2 as N,j as a,Q as c,k as o,Y2 as t,K2 as u};
